
------------------------------------------------------------------
created time: 2023-05-10 23:10:58
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.574
prc patient pos: 0.543
roc image:
        mean  95% CI -  95% CI +
AUC   0.711     0.710     0.712
TPR   0.664     0.661     0.667
TNR   0.673     0.670     0.676
THRE  0.015     0.014     0.016
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.717     0.712     0.722
TPR   0.715     0.707     0.723
TNR   0.770     0.764     0.776
THRE  0.246     0.243     0.250
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.720     0.716     0.725
TPR   0.739     0.731     0.746
TNR   0.727     0.720     0.733
THRE  0.198     0.194     0.203
cm image:
 [[1965  698]
 [ 421  556]]
cm image:
 [[0.74 0.26]
 [0.43 0.57]]
cm patient prob:
 [[34 42]
 [ 5 30]]
cm patient prob:
 [[0.45 0.55]
 [0.14 0.86]]
cm patient pos:
 [[35 41]
 [ 6 29]]
cm patient pos:
 [[0.46 0.54]
 [0.17 0.83]]
report image:
               precision    recall  f1-score   support

           0      0.824     0.738     0.778      2663
           1      0.443     0.569     0.498       977

    accuracy                          0.693      3640
   macro avg      0.633     0.653     0.638      3640
weighted avg      0.722     0.693     0.703      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.872     0.447     0.591        76
         1.0      0.417     0.857     0.561        35

    accuracy                          0.577       111
   macro avg      0.644     0.652     0.576       111
weighted avg      0.728     0.577     0.582       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.854     0.461     0.598        76
         1.0      0.414     0.829     0.552        35

    accuracy                          0.577       111
   macro avg      0.634     0.645     0.575       111
weighted avg      0.715     0.577     0.584       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:13:43
val accuracy: None
val loss: None
prc image: 0.828
prc patient prob: 0.825
prc patient pos: 0.812
roc image:
        mean  95% CI -  95% CI +
AUC   0.741     0.740     0.741
TPR   0.622     0.617     0.626
TNR   0.734     0.729     0.738
THRE  0.063     0.056     0.070
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.780     0.776     0.784
TPR   0.699     0.688     0.709
TNR   0.775     0.765     0.785
THRE  0.217     0.205     0.230
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.755     0.751     0.759
TPR   0.702     0.695     0.710
TNR   0.797     0.791     0.803
THRE  0.207     0.199     0.214
cm image:
 [[ 982  329]
 [ 947 1382]]
cm image:
 [[0.75 0.25]
 [0.41 0.59]]
cm patient prob:
 [[31 21]
 [14 45]]
cm patient prob:
 [[0.6  0.4 ]
 [0.24 0.76]]
cm patient pos:
 [[31 21]
 [14 45]]
cm patient pos:
 [[0.6  0.4 ]
 [0.24 0.76]]
report image:
               precision    recall  f1-score   support

           0      0.509     0.749     0.606      1311
           1      0.808     0.593     0.684      2329

    accuracy                          0.649      3640
   macro avg      0.658     0.671     0.645      3640
weighted avg      0.700     0.649     0.656      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.689     0.596     0.639        52
         1.0      0.682     0.763     0.720        59

    accuracy                          0.685       111
   macro avg      0.685     0.679     0.680       111
weighted avg      0.685     0.685     0.682       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.689     0.596     0.639        52
         1.0      0.682     0.763     0.720        59

    accuracy                          0.685       111
   macro avg      0.685     0.679     0.680       111
weighted avg      0.685     0.685     0.682       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:15:24
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.675
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.821     0.817     0.825
TNR   0.725     0.720     0.729
THRE  0.023     0.020     0.025
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.871     0.867     0.876
TPR   0.943     0.935     0.951
TNR   0.756     0.745     0.766
THRE  0.114     0.100     0.129
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[576 162]
 [142 410]]
cm image:
 [[0.78 0.22]
 [0.26 0.74]]
cm patient prob:
 [[22  8]
 [ 2 10]]
cm patient prob:
 [[0.73 0.27]
 [0.17 0.83]]
cm patient pos:
 [[23  7]
 [ 3  9]]
cm patient pos:
 [[0.77 0.23]
 [0.25 0.75]]
report image:
               precision    recall  f1-score   support

           0      0.802     0.780     0.791       738
           1      0.717     0.743     0.730       552

    accuracy                          0.764      1290
   macro avg      0.760     0.762     0.760      1290
weighted avg      0.766     0.764     0.765      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.917     0.733     0.815        30
         1.0      0.556     0.833     0.667        12

    accuracy                          0.762        42
   macro avg      0.736     0.783     0.741        42
weighted avg      0.813     0.762     0.772        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.885     0.767     0.821        30
         1.0      0.562     0.750     0.643        12

    accuracy                          0.762        42
   macro avg      0.724     0.758     0.732        42
weighted avg      0.793     0.762     0.770        42

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:16:26
val accuracy: None
val loss: None
prc image: 0.715
prc patient prob: 0.85
prc patient pos: 0.858
roc image:
        mean  95% CI -  95% CI +
AUC   0.816     0.815     0.817
TPR   0.747     0.743     0.752
TNR   0.761     0.757     0.765
THRE  0.156     0.146     0.166
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.833     0.827     0.839
TPR   0.853     0.844     0.861
TNR   0.825     0.816     0.833
THRE  0.393     0.384     0.401
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.848     0.842     0.854
TPR   0.830     0.821     0.839
TNR   0.863     0.855     0.871
THRE  0.400     0.388     0.412
cm image:
 [[586 245]
 [ 96 363]]
cm image:
 [[0.71 0.29]
 [0.21 0.79]]
cm patient prob:
 [[ 7 15]
 [ 2 18]]
cm patient prob:
 [[0.32 0.68]
 [0.1  0.9 ]]
cm patient pos:
 [[ 9 13]
 [ 2 18]]
cm patient pos:
 [[0.41 0.59]
 [0.1  0.9 ]]
report image:
               precision    recall  f1-score   support

           0      0.859     0.705     0.775       831
           1      0.597     0.791     0.680       459

    accuracy                          0.736      1290
   macro avg      0.728     0.748     0.728      1290
weighted avg      0.766     0.736     0.741      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.778     0.318     0.452        22
         1.0      0.545     0.900     0.679        20

    accuracy                          0.595        42
   macro avg      0.662     0.609     0.565        42
weighted avg      0.667     0.595     0.560        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.818     0.409     0.545        22
         1.0      0.581     0.900     0.706        20

    accuracy                          0.643        42
   macro avg      0.699     0.655     0.626        42
weighted avg      0.705     0.643     0.622        42

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:23:20
val accuracy: None
val loss: None
prc image: 0.715
prc patient prob: 0.85
prc patient pos: 0.858
roc image:
        mean  95% CI -  95% CI +
AUC   0.816     0.815     0.817
TPR   0.747     0.743     0.752
TNR   0.761     0.757     0.765
THRE  0.156     0.146     0.166
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.833     0.827     0.839
TPR   0.853     0.844     0.861
TNR   0.825     0.816     0.833
THRE  0.393     0.384     0.401
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.848     0.842     0.854
TPR   0.830     0.821     0.839
TNR   0.863     0.855     0.871
THRE  0.400     0.388     0.412
cm image:
 [[586 245]
 [ 96 363]]
cm image:
 [[0.71 0.29]
 [0.21 0.79]]
cm patient prob:
 [[ 7 15]
 [ 2 18]]
cm patient prob:
 [[0.32 0.68]
 [0.1  0.9 ]]
cm patient pos:
 [[ 9 13]
 [ 2 18]]
cm patient pos:
 [[0.41 0.59]
 [0.1  0.9 ]]
report image:
               precision    recall  f1-score   support

           0      0.859     0.705     0.775       831
           1      0.597     0.791     0.680       459

    accuracy                          0.736      1290
   macro avg      0.728     0.748     0.728      1290
weighted avg      0.766     0.736     0.741      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.778     0.318     0.452        22
         1.0      0.545     0.900     0.679        20

    accuracy                          0.595        42
   macro avg      0.662     0.609     0.565        42
weighted avg      0.667     0.595     0.560        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.818     0.409     0.545        22
         1.0      0.581     0.900     0.706        20

    accuracy                          0.643        42
   macro avg      0.699     0.655     0.626        42
weighted avg      0.705     0.643     0.622        42

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:26:29
val accuracy: None
val loss: None
prc image: 0.715
prc patient prob: 0.85
prc patient pos: 0.858
roc image:
        mean  95% CI -  95% CI +
AUC   0.816     0.815     0.817
TPR   0.747     0.743     0.752
TNR   0.761     0.757     0.765
THRE  0.156     0.146     0.166
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.833     0.827     0.839
TPR   0.853     0.844     0.861
TNR   0.825     0.816     0.833
THRE  0.393     0.384     0.401
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.848     0.842     0.854
TPR   0.830     0.821     0.839
TNR   0.863     0.855     0.871
THRE  0.400     0.388     0.412
cm image:
 [[586 245]
 [ 96 363]]
cm image:
 [[0.71 0.29]
 [0.21 0.79]]
cm patient prob:
 [[ 7 15]
 [ 2 18]]
cm patient prob:
 [[0.32 0.68]
 [0.1  0.9 ]]
cm patient pos:
 [[ 9 13]
 [ 2 18]]
cm patient pos:
 [[0.41 0.59]
 [0.1  0.9 ]]
report image:
               precision    recall  f1-score   support

           0      0.859     0.705     0.775       831
           1      0.597     0.791     0.680       459

    accuracy                          0.736      1290
   macro avg      0.728     0.748     0.728      1290
weighted avg      0.766     0.736     0.741      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.778     0.318     0.452        22
         1.0      0.545     0.900     0.679        20

    accuracy                          0.595        42
   macro avg      0.662     0.609     0.565        42
weighted avg      0.667     0.595     0.560        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.818     0.409     0.545        22
         1.0      0.581     0.900     0.706        20

    accuracy                          0.643        42
   macro avg      0.699     0.655     0.626        42
weighted avg      0.705     0.643     0.622        42

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:29:38
val accuracy: None
val loss: None
prc image: 0.715
prc patient prob: 0.85
prc patient pos: 0.858
roc image:
        mean  95% CI -  95% CI +
AUC   0.816     0.815     0.817
TPR   0.747     0.743     0.752
TNR   0.761     0.757     0.765
THRE  0.156     0.146     0.166
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.833     0.827     0.839
TPR   0.853     0.844     0.861
TNR   0.825     0.816     0.833
THRE  0.393     0.384     0.401
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.848     0.842     0.854
TPR   0.830     0.821     0.839
TNR   0.863     0.855     0.871
THRE  0.400     0.388     0.412
cm image:
 [[586 245]
 [ 96 363]]
cm image:
 [[0.71 0.29]
 [0.21 0.79]]
cm patient prob:
 [[ 7 15]
 [ 2 18]]
cm patient prob:
 [[0.32 0.68]
 [0.1  0.9 ]]
cm patient pos:
 [[ 9 13]
 [ 2 18]]
cm patient pos:
 [[0.41 0.59]
 [0.1  0.9 ]]
report image:
               precision    recall  f1-score   support

           0      0.859     0.705     0.775       831
           1      0.597     0.791     0.680       459

    accuracy                          0.736      1290
   macro avg      0.728     0.748     0.728      1290
weighted avg      0.766     0.736     0.741      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.778     0.318     0.452        22
         1.0      0.545     0.900     0.679        20

    accuracy                          0.595        42
   macro avg      0.662     0.609     0.565        42
weighted avg      0.667     0.595     0.560        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.818     0.409     0.545        22
         1.0      0.581     0.900     0.706        20

    accuracy                          0.643        42
   macro avg      0.699     0.655     0.626        42
weighted avg      0.705     0.643     0.622        42

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:37:50
val accuracy: None
val loss: None
prc image: 0.715
prc patient prob: 0.85
prc patient pos: 0.858
roc image:
        mean  95% CI -  95% CI +
AUC   0.816     0.815     0.817
TPR   0.747     0.743     0.752
TNR   0.761     0.757     0.765
THRE  0.156     0.146     0.166
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.833     0.827     0.839
TPR   0.853     0.844     0.861
TNR   0.825     0.816     0.833
THRE  0.393     0.384     0.401
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.848     0.842     0.854
TPR   0.830     0.821     0.839
TNR   0.863     0.855     0.871
THRE  0.400     0.388     0.412
cm image:
 [[586 245]
 [ 96 363]]
cm image:
 [[0.71 0.29]
 [0.21 0.79]]
cm patient prob:
 [[ 7 15]
 [ 2 18]]
cm patient prob:
 [[0.32 0.68]
 [0.1  0.9 ]]
cm patient pos:
 [[ 9 13]
 [ 2 18]]
cm patient pos:
 [[0.41 0.59]
 [0.1  0.9 ]]
report image:
               precision    recall  f1-score   support

           0      0.859     0.705     0.775       831
           1      0.597     0.791     0.680       459

    accuracy                          0.736      1290
   macro avg      0.728     0.748     0.728      1290
weighted avg      0.766     0.736     0.741      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.778     0.318     0.452        22
         1.0      0.545     0.900     0.679        20

    accuracy                          0.595        42
   macro avg      0.662     0.609     0.565        42
weighted avg      0.667     0.595     0.560        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.818     0.409     0.545        22
         1.0      0.581     0.900     0.706        20

    accuracy                          0.643        42
   macro avg      0.699     0.655     0.626        42
weighted avg      0.705     0.643     0.622        42

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:43:35
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.574
prc patient pos: 0.543
roc image:
        mean  95% CI -  95% CI +
AUC   0.711     0.710     0.712
TPR   0.664     0.661     0.667
TNR   0.673     0.670     0.676
THRE  0.015     0.014     0.016
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.717     0.712     0.722
TPR   0.715     0.707     0.723
TNR   0.770     0.764     0.776
THRE  0.246     0.243     0.250
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.720     0.716     0.725
TPR   0.739     0.731     0.746
TNR   0.727     0.720     0.733
THRE  0.198     0.194     0.203
cm image:
 [[1965  698]
 [ 421  556]]
cm image:
 [[0.74 0.26]
 [0.43 0.57]]
cm patient prob:
 [[34 42]
 [ 5 30]]
cm patient prob:
 [[0.45 0.55]
 [0.14 0.86]]
cm patient pos:
 [[35 41]
 [ 6 29]]
cm patient pos:
 [[0.46 0.54]
 [0.17 0.83]]
report image:
               precision    recall  f1-score   support

           0      0.824     0.738     0.778      2663
           1      0.443     0.569     0.498       977

    accuracy                          0.693      3640
   macro avg      0.633     0.653     0.638      3640
weighted avg      0.722     0.693     0.703      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.872     0.447     0.591        76
         1.0      0.417     0.857     0.561        35

    accuracy                          0.577       111
   macro avg      0.644     0.652     0.576       111
weighted avg      0.728     0.577     0.582       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.854     0.461     0.598        76
         1.0      0.414     0.829     0.552        35

    accuracy                          0.577       111
   macro avg      0.634     0.645     0.575       111
weighted avg      0.715     0.577     0.584       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:46:48
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.574
prc patient pos: 0.543
roc image:
        mean  95% CI -  95% CI +
AUC   0.711     0.710     0.712
TPR   0.664     0.661     0.667
TNR   0.673     0.670     0.676
THRE  0.015     0.014     0.016
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.717     0.712     0.722
TPR   0.715     0.707     0.723
TNR   0.770     0.764     0.776
THRE  0.246     0.243     0.250
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.720     0.716     0.725
TPR   0.739     0.731     0.746
TNR   0.727     0.720     0.733
THRE  0.198     0.194     0.203
cm image:
 [[1965  698]
 [ 421  556]]
cm image:
 [[0.74 0.26]
 [0.43 0.57]]
cm patient prob:
 [[34 42]
 [ 5 30]]
cm patient prob:
 [[0.45 0.55]
 [0.14 0.86]]
cm patient pos:
 [[35 41]
 [ 6 29]]
cm patient pos:
 [[0.46 0.54]
 [0.17 0.83]]
report image:
               precision    recall  f1-score   support

           0      0.824     0.738     0.778      2663
           1      0.443     0.569     0.498       977

    accuracy                          0.693      3640
   macro avg      0.633     0.653     0.638      3640
weighted avg      0.722     0.693     0.703      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.872     0.447     0.591        76
         1.0      0.417     0.857     0.561        35

    accuracy                          0.577       111
   macro avg      0.644     0.652     0.576       111
weighted avg      0.728     0.577     0.582       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.854     0.461     0.598        76
         1.0      0.414     0.829     0.552        35

    accuracy                          0.577       111
   macro avg      0.634     0.645     0.575       111
weighted avg      0.715     0.577     0.584       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:49:32
val accuracy: None
val loss: None
prc image: 0.715
prc patient prob: 0.85
prc patient pos: 0.858
roc image:
        mean  95% CI -  95% CI +
AUC   0.816     0.815     0.817
TPR   0.747     0.743     0.752
TNR   0.761     0.757     0.765
THRE  0.156     0.146     0.166
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.833     0.827     0.839
TPR   0.853     0.844     0.861
TNR   0.825     0.816     0.833
THRE  0.393     0.384     0.401
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.848     0.842     0.854
TPR   0.830     0.821     0.839
TNR   0.863     0.855     0.871
THRE  0.400     0.388     0.412
cm image:
 [[586 245]
 [ 96 363]]
cm image:
 [[0.71 0.29]
 [0.21 0.79]]
cm patient prob:
 [[ 7 15]
 [ 2 18]]
cm patient prob:
 [[0.32 0.68]
 [0.1  0.9 ]]
cm patient pos:
 [[ 9 13]
 [ 2 18]]
cm patient pos:
 [[0.41 0.59]
 [0.1  0.9 ]]
report image:
               precision    recall  f1-score   support

           0      0.859     0.705     0.775       831
           1      0.597     0.791     0.680       459

    accuracy                          0.736      1290
   macro avg      0.728     0.748     0.728      1290
weighted avg      0.766     0.736     0.741      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.778     0.318     0.452        22
         1.0      0.545     0.900     0.679        20

    accuracy                          0.595        42
   macro avg      0.662     0.609     0.565        42
weighted avg      0.667     0.595     0.560        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.818     0.409     0.545        22
         1.0      0.581     0.900     0.706        20

    accuracy                          0.643        42
   macro avg      0.699     0.655     0.626        42
weighted avg      0.705     0.643     0.622        42

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:52:05
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.675
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.821     0.817     0.825
TNR   0.725     0.720     0.729
THRE  0.023     0.020     0.025
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.871     0.867     0.876
TPR   0.943     0.935     0.951
TNR   0.756     0.745     0.766
THRE  0.114     0.100     0.129
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[576 162]
 [142 410]]
cm image:
 [[0.78 0.22]
 [0.26 0.74]]
cm patient prob:
 [[22  8]
 [ 2 10]]
cm patient prob:
 [[0.73 0.27]
 [0.17 0.83]]
cm patient pos:
 [[23  7]
 [ 3  9]]
cm patient pos:
 [[0.77 0.23]
 [0.25 0.75]]
report image:
               precision    recall  f1-score   support

           0      0.802     0.780     0.791       738
           1      0.717     0.743     0.730       552

    accuracy                          0.764      1290
   macro avg      0.760     0.762     0.760      1290
weighted avg      0.766     0.764     0.765      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.917     0.733     0.815        30
         1.0      0.556     0.833     0.667        12

    accuracy                          0.762        42
   macro avg      0.736     0.783     0.741        42
weighted avg      0.813     0.762     0.772        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.885     0.767     0.821        30
         1.0      0.562     0.750     0.643        12

    accuracy                          0.762        42
   macro avg      0.724     0.758     0.732        42
weighted avg      0.793     0.762     0.770        42

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:54:36
val accuracy: None
val loss: None
prc image: 0.828
prc patient prob: 0.825
prc patient pos: 0.812
roc image:
        mean  95% CI -  95% CI +
AUC   0.741     0.740     0.741
TPR   0.622     0.617     0.626
TNR   0.734     0.729     0.738
THRE  0.063     0.056     0.070
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.780     0.776     0.784
TPR   0.699     0.688     0.709
TNR   0.775     0.765     0.785
THRE  0.217     0.205     0.230
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.755     0.751     0.759
TPR   0.702     0.695     0.710
TNR   0.797     0.791     0.803
THRE  0.207     0.199     0.214
cm image:
 [[ 982  329]
 [ 947 1382]]
cm image:
 [[0.75 0.25]
 [0.41 0.59]]
cm patient prob:
 [[31 21]
 [14 45]]
cm patient prob:
 [[0.6  0.4 ]
 [0.24 0.76]]
cm patient pos:
 [[31 21]
 [14 45]]
cm patient pos:
 [[0.6  0.4 ]
 [0.24 0.76]]
report image:
               precision    recall  f1-score   support

           0      0.509     0.749     0.606      1311
           1      0.808     0.593     0.684      2329

    accuracy                          0.649      3640
   macro avg      0.658     0.671     0.645      3640
weighted avg      0.700     0.649     0.656      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.689     0.596     0.639        52
         1.0      0.682     0.763     0.720        59

    accuracy                          0.685       111
   macro avg      0.685     0.679     0.680       111
weighted avg      0.685     0.685     0.682       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.689     0.596     0.639        52
         1.0      0.682     0.763     0.720        59

    accuracy                          0.685       111
   macro avg      0.685     0.679     0.680       111
weighted avg      0.685     0.685     0.682       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:56:52
val accuracy: None
val loss: None
prc image: 0.462
prc patient prob: 0.585
prc patient pos: 0.576
roc image:
        mean  95% CI -  95% CI +
AUC   0.747     0.745     0.748
TPR   0.806     0.801     0.812
TNR   0.580     0.574     0.585
THRE  0.669     0.661     0.677
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.816     0.808     0.823
TPR   0.827     0.816     0.839
TNR   0.794     0.782     0.806
THRE  0.840     0.830     0.851
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.988     0.985     0.992
TNR   0.754     0.747     0.761
THRE  0.353     0.345     0.361
cm image:
 [[327 684]
 [ 26 253]]
cm image:
 [[0.32 0.68]
 [0.09 0.91]]
cm patient prob:
 [[ 2 30]
 [ 0 10]]
cm patient prob:
 [[0.06 0.94]
 [0.   1.  ]]
cm patient pos:
 [[13 19]
 [ 0 10]]
cm patient pos:
 [[0.41 0.59]
 [0.   1.  ]]
report image:
               precision    recall  f1-score   support

           0      0.926     0.323     0.479      1011
           1      0.270     0.907     0.416       279

    accuracy                          0.450      1290
   macro avg      0.598     0.615     0.448      1290
weighted avg      0.784     0.450     0.466      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      1.000     0.062     0.118        32
         1.0      0.250     1.000     0.400        10

    accuracy                          0.286        42
   macro avg      0.625     0.531     0.259        42
weighted avg      0.821     0.286     0.185        42

report patient pos:
               precision    recall  f1-score   support

         0.0      1.000     0.406     0.578        32
         1.0      0.345     1.000     0.513        10

    accuracy                          0.548        42
   macro avg      0.672     0.703     0.545        42
weighted avg      0.844     0.548     0.562        42

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-10 23:59:25
val accuracy: None
val loss: None
prc image: 0.222
prc patient prob: 0.305
prc patient pos: 0.259
roc image:
        mean  95% CI -  95% CI +
AUC   0.720     0.719     0.722
TPR   0.737     0.729     0.744
TNR   0.616     0.609     0.624
THRE  0.725     0.709     0.741
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.735     0.729     0.742
TPR   0.792     0.781     0.803
TNR   0.704     0.695     0.714
THRE  0.720     0.710     0.730
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.694     0.688     0.700
TPR   0.839     0.830     0.848
TNR   0.647     0.640     0.655
THRE  0.376     0.371     0.382
cm image:
 [[1240 2066]
 [  42  292]]
cm image:
 [[0.38 0.62]
 [0.13 0.87]]
cm patient prob:
 [[ 4 90]
 [ 1 16]]
cm patient prob:
 [[0.04 0.96]
 [0.06 0.94]]
cm patient pos:
 [[22 72]
 [ 2 15]]
cm patient pos:
 [[0.23 0.77]
 [0.12 0.88]]
report image:
               precision    recall  f1-score   support

           0      0.967     0.375     0.541      3306
           1      0.124     0.874     0.217       334

    accuracy                          0.421      3640
   macro avg      0.546     0.625     0.379      3640
weighted avg      0.890     0.421     0.511      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.800     0.043     0.081        94
         1.0      0.151     0.941     0.260        17

    accuracy                          0.180       111
   macro avg      0.475     0.492     0.170       111
weighted avg      0.701     0.180     0.108       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.917     0.234     0.373        94
         1.0      0.172     0.882     0.288        17

    accuracy                          0.333       111
   macro avg      0.545     0.558     0.331       111
weighted avg      0.803     0.333     0.360       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 13:24:14
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.576
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.664     0.659     0.668
TNR   0.668     0.663     0.673
THRE  0.014     0.013     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.716     0.726
TPR   0.712     0.705     0.719
TNR   0.793     0.787     0.798
THRE  0.243     0.240     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.726     0.722     0.731
TPR   0.725     0.718     0.732
TNR   0.758     0.752     0.763
THRE  0.194     0.190     0.197
cm image:
 [[2004  659]
 [ 434  543]]
cm image:
 [[0.75 0.25]
 [0.44 0.56]]
cm patient prob:
 [[33 43]
 [ 5 30]]
cm patient prob:
 [[0.43 0.57]
 [0.14 0.86]]
cm patient pos:
 [[36 40]
 [ 8 27]]
cm patient pos:
 [[0.47 0.53]
 [0.23 0.77]]
report image:
               precision    recall  f1-score   support

           0      0.822     0.753     0.786      2663
           1      0.452     0.556     0.498       977

    accuracy                          0.700      3640
   macro avg      0.637     0.654     0.642      3640
weighted avg      0.723     0.700     0.709      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.868     0.434     0.579        76
         1.0      0.411     0.857     0.556        35

    accuracy                          0.568       111
   macro avg      0.640     0.646     0.567       111
weighted avg      0.724     0.568     0.572       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.818     0.474     0.600        76
         1.0      0.403     0.771     0.529        35

    accuracy                          0.568       111
   macro avg      0.611     0.623     0.565       111
weighted avg      0.687     0.568     0.578       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 13:54:10
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[718 113]
 [195 264]]
cm image:
 [[0.86 0.14]
 [0.42 0.58]]
cm patient prob:
 [[21  1]
 [ 9 11]]
cm patient prob:
 [[0.95 0.05]
 [0.45 0.55]]
cm patient pos:
 [[21  1]
 [11  9]]
cm patient pos:
 [[0.95 0.05]
 [0.55 0.45]]
report image:
               precision    recall  f1-score   support

           0      0.786     0.864     0.823       831
           1      0.700     0.575     0.632       459

    accuracy                          0.761      1290
   macro avg      0.743     0.720     0.727      1290
weighted avg      0.756     0.761     0.755      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.700     0.955     0.808        22
         1.0      0.917     0.550     0.687        20

    accuracy                          0.762        42
   macro avg      0.808     0.752     0.748        42
weighted avg      0.803     0.762     0.750        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.656     0.955     0.778        22
         1.0      0.900     0.450     0.600        20

    accuracy                          0.714        42
   macro avg      0.778     0.702     0.689        42
weighted avg      0.772     0.714     0.693        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 13:59:25
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[599 232]
 [112 347]]
cm image:
 [[0.72 0.28]
 [0.24 0.76]]
cm patient prob:
 [[ 8 14]
 [ 2 18]]
cm patient prob:
 [[0.36 0.64]
 [0.1  0.9 ]]
cm patient pos:
 [[ 9 13]
 [ 4 16]]
cm patient pos:
 [[0.41 0.59]
 [0.2  0.8 ]]
report image:
               precision    recall  f1-score   support

           0      0.842     0.721     0.777       831
           1      0.599     0.756     0.669       459

    accuracy                          0.733      1290
   macro avg      0.721     0.738     0.723      1290
weighted avg      0.756     0.733     0.738      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.800     0.364     0.500        22
         1.0      0.562     0.900     0.692        20

    accuracy                          0.619        42
   macro avg      0.681     0.632     0.596        42
weighted avg      0.687     0.619     0.592        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.692     0.409     0.514        22
         1.0      0.552     0.800     0.653        20

    accuracy                          0.595        42
   macro avg      0.622     0.605     0.584        42
weighted avg      0.625     0.595     0.580        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:00:27
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.822
TPR   0.723     0.720     0.725
TNR   0.770     0.767     0.772
THRE  0.134     0.129     0.139
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.820     0.816     0.824
TPR   0.787     0.781     0.794
TNR   0.884     0.880     0.889
THRE  0.400     0.396     0.404
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.791     0.786     0.796
TPR   0.731     0.723     0.738
TNR   0.874     0.868     0.879
THRE  0.375     0.368     0.382
cm image:
 [[599 232]
 [112 347]]
cm image:
 [[0.72 0.28]
 [0.24 0.76]]
cm patient prob:
 [[ 8 14]
 [ 2 18]]
cm patient prob:
 [[0.36 0.64]
 [0.1  0.9 ]]
cm patient pos:
 [[ 9 13]
 [ 4 16]]
cm patient pos:
 [[0.41 0.59]
 [0.2  0.8 ]]
report image:
               precision    recall  f1-score   support

           0      0.842     0.721     0.777       831
           1      0.599     0.756     0.669       459

    accuracy                          0.733      1290
   macro avg      0.721     0.738     0.723      1290
weighted avg      0.756     0.733     0.738      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.800     0.364     0.500        22
         1.0      0.562     0.900     0.692        20

    accuracy                          0.619        42
   macro avg      0.681     0.632     0.596        42
weighted avg      0.687     0.619     0.592        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.692     0.409     0.514        22
         1.0      0.552     0.800     0.653        20

    accuracy                          0.595        42
   macro avg      0.622     0.605     0.584        42
weighted avg      0.625     0.595     0.580        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:01:02
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[718 113]
 [195 264]]
cm image:
 [[0.86 0.14]
 [0.42 0.58]]
cm patient prob:
 [[21  1]
 [ 9 11]]
cm patient prob:
 [[0.95 0.05]
 [0.45 0.55]]
cm patient pos:
 [[21  1]
 [11  9]]
cm patient pos:
 [[0.95 0.05]
 [0.55 0.45]]
report image:
               precision    recall  f1-score   support

           0      0.786     0.864     0.823       831
           1      0.700     0.575     0.632       459

    accuracy                          0.761      1290
   macro avg      0.743     0.720     0.727      1290
weighted avg      0.756     0.761     0.755      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.700     0.955     0.808        22
         1.0      0.917     0.550     0.687        20

    accuracy                          0.762        42
   macro avg      0.808     0.752     0.748        42
weighted avg      0.803     0.762     0.750        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.656     0.955     0.778        22
         1.0      0.900     0.450     0.600        20

    accuracy                          0.714        42
   macro avg      0.778     0.702     0.689        42
weighted avg      0.772     0.714     0.693        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:17:32
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.561
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.664     0.659     0.668
TNR   0.668     0.663     0.673
THRE  0.014     0.013     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.716     0.726
TPR   0.712     0.705     0.719
TNR   0.793     0.787     0.798
THRE  0.243     0.240     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.735     0.730     0.739
TPR   0.727     0.720     0.734
TNR   0.771     0.765     0.777
THRE  0.213     0.210     0.217
cm image:
 [[2310  353]
 [ 624  353]]
cm image:
 [[0.87 0.13]
 [0.64 0.36]]
cm patient prob:
 [[67  9]
 [25 10]]
cm patient prob:
 [[0.88 0.12]
 [0.71 0.29]]
cm patient pos:
 [[67  9]
 [25 10]]
cm patient pos:
 [[0.88 0.12]
 [0.71 0.29]]
report image:
               precision    recall  f1-score   support

           0      0.787     0.867     0.825      2663
           1      0.500     0.361     0.419       977

    accuracy                          0.732      3640
   macro avg      0.644     0.614     0.622      3640
weighted avg      0.710     0.732     0.716      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.728     0.882     0.798        76
         1.0      0.526     0.286     0.370        35

    accuracy                          0.694       111
   macro avg      0.627     0.584     0.584       111
weighted avg      0.665     0.694     0.663       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.728     0.882     0.798        76
         1.0      0.526     0.286     0.370        35

    accuracy                          0.694       111
   macro avg      0.627     0.584     0.584       111
weighted avg      0.665     0.694     0.663       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:22:52
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.561
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.664     0.659     0.668
TNR   0.668     0.663     0.673
THRE  0.014     0.013     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.716     0.726
TPR   0.712     0.705     0.719
TNR   0.793     0.787     0.798
THRE  0.243     0.240     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.735     0.730     0.739
TPR   0.727     0.720     0.734
TNR   0.771     0.765     0.777
THRE  0.213     0.210     0.217
cm image:
 [[2274  389]
 [ 597  380]]
cm image:
 [[0.85 0.15]
 [0.61 0.39]]
cm patient prob:
 [[66 10]
 [22 13]]
cm patient prob:
 [[0.87 0.13]
 [0.63 0.37]]
cm patient pos:
 [[65 11]
 [22 13]]
cm patient pos:
 [[0.86 0.14]
 [0.63 0.37]]
report image:
               precision    recall  f1-score   support

           0      0.792     0.854     0.822      2663
           1      0.494     0.389     0.435       977

    accuracy                          0.729      3640
   macro avg      0.643     0.621     0.629      3640
weighted avg      0.712     0.729     0.718      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.750     0.868     0.805        76
         1.0      0.565     0.371     0.448        35

    accuracy                          0.712       111
   macro avg      0.658     0.620     0.627       111
weighted avg      0.692     0.712     0.692       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.747     0.855     0.798        76
         1.0      0.542     0.371     0.441        35

    accuracy                          0.703       111
   macro avg      0.644     0.613     0.619       111
weighted avg      0.682     0.703     0.685       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:23:55
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[706 125]
 [181 278]]
cm image:
 [[0.85 0.15]
 [0.39 0.61]]
cm patient prob:
 [[19  3]
 [ 7 13]]
cm patient prob:
 [[0.86 0.14]
 [0.35 0.65]]
cm patient pos:
 [[20  2]
 [ 7 13]]
cm patient pos:
 [[0.91 0.09]
 [0.35 0.65]]
report image:
               precision    recall  f1-score   support

           0      0.796     0.850     0.822       831
           1      0.690     0.606     0.645       459

    accuracy                          0.763      1290
   macro avg      0.743     0.728     0.733      1290
weighted avg      0.758     0.763     0.759      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.731     0.864     0.792        22
         1.0      0.812     0.650     0.722        20

    accuracy                          0.762        42
   macro avg      0.772     0.757     0.757        42
weighted avg      0.770     0.762     0.759        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.741     0.909     0.816        22
         1.0      0.867     0.650     0.743        20

    accuracy                          0.786        42
   macro avg      0.804     0.780     0.780        42
weighted avg      0.801     0.786     0.781        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:25:05
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.561
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.664     0.659     0.668
TNR   0.668     0.663     0.673
THRE  0.014     0.013     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.716     0.726
TPR   0.712     0.705     0.719
TNR   0.793     0.787     0.798
THRE  0.243     0.240     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.735     0.730     0.739
TPR   0.727     0.720     0.734
TNR   0.771     0.765     0.777
THRE  0.213     0.210     0.217
cm image:
 [[2274  389]
 [ 597  380]]
cm image:
 [[0.85 0.15]
 [0.61 0.39]]
cm patient prob:
 [[66 10]
 [22 13]]
cm patient prob:
 [[0.87 0.13]
 [0.63 0.37]]
cm patient pos:
 [[65 11]
 [22 13]]
cm patient pos:
 [[0.86 0.14]
 [0.63 0.37]]
report image:
               precision    recall  f1-score   support

           0      0.792     0.854     0.822      2663
           1      0.494     0.389     0.435       977

    accuracy                          0.729      3640
   macro avg      0.643     0.621     0.629      3640
weighted avg      0.712     0.729     0.718      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.750     0.868     0.805        76
         1.0      0.565     0.371     0.448        35

    accuracy                          0.712       111
   macro avg      0.658     0.620     0.627       111
weighted avg      0.692     0.712     0.692       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.747     0.855     0.798        76
         1.0      0.542     0.371     0.441        35

    accuracy                          0.703       111
   macro avg      0.644     0.613     0.619       111
weighted avg      0.682     0.703     0.685       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:35:17
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:37:50
val accuracy: None
val loss: None
prc image: 0.754
prc patient prob: 0.612
prc patient pos: 0.537
roc image:
        mean  95% CI -  95% CI +
AUC   0.813     0.812     0.814
TPR   0.830     0.826     0.833
TNR   0.654     0.651     0.657
THRE  0.086     0.077     0.095
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.815     0.809     0.821
TPR   0.859     0.850     0.869
TNR   0.792     0.783     0.801
THRE  0.519     0.504     0.534
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.786     0.779     0.793
TPR   0.867     0.857     0.876
TNR   0.762     0.753     0.771
THRE  0.470     0.454     0.487
cm image:
 [[544 194]
 [163 389]]
cm image:
 [[0.74 0.26]
 [0.3  0.7 ]]
cm patient prob:
 [[23  7]
 [ 3  9]]
cm patient prob:
 [[0.77 0.23]
 [0.25 0.75]]
cm patient pos:
 [[24  6]
 [ 3  9]]
cm patient pos:
 [[0.8  0.2 ]
 [0.25 0.75]]
report image:
               precision    recall  f1-score   support

           0      0.769     0.737     0.753       738
           1      0.667     0.705     0.685       552

    accuracy                          0.723      1290
   macro avg      0.718     0.721     0.719      1290
weighted avg      0.726     0.723     0.724      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.885     0.767     0.821        30
         1.0      0.562     0.750     0.643        12

    accuracy                          0.762        42
   macro avg      0.724     0.758     0.732        42
weighted avg      0.793     0.762     0.770        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.889     0.800     0.842        30
         1.0      0.600     0.750     0.667        12

    accuracy                          0.786        42
   macro avg      0.744     0.775     0.754        42
weighted avg      0.806     0.786     0.792        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:39:21
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:47:06
val accuracy: None
val loss: None
prc image: 0.805
prc patient prob: 0.729
prc patient pos: 0.732
roc image:
        mean  95% CI -  95% CI +
AUC   0.728     0.727     0.729
TPR   0.720     0.715     0.724
TNR   0.622     0.618     0.627
THRE  0.256     0.242     0.271
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.784     0.779     0.788
TPR   0.855     0.847     0.863
TNR   0.668     0.660     0.677
THRE  0.316     0.306     0.327
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.774     0.770     0.778
TPR   0.811     0.802     0.821
TNR   0.700     0.691     0.710
THRE  0.356     0.342     0.370
cm image:
 [[ 887  424]
 [ 812 1517]]
cm image:
 [[0.68 0.32]
 [0.35 0.65]]
cm patient prob:
 [[39 13]
 [20 39]]
cm patient prob:
 [[0.75 0.25]
 [0.34 0.66]]
cm patient pos:
 [[40 12]
 [19 40]]
cm patient pos:
 [[0.77 0.23]
 [0.32 0.68]]
report image:
               precision    recall  f1-score   support

           0      0.522     0.677     0.589      1311
           1      0.782     0.651     0.711      2329

    accuracy                          0.660      3640
   macro avg      0.652     0.664     0.650      3640
weighted avg      0.688     0.660     0.667      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.661     0.750     0.703        52
         1.0      0.750     0.661     0.703        59

    accuracy                          0.703       111
   macro avg      0.706     0.706     0.703       111
weighted avg      0.708     0.703     0.703       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.678     0.769     0.721        52
         1.0      0.769     0.678     0.721        59

    accuracy                          0.721       111
   macro avg      0.724     0.724     0.721       111
weighted avg      0.726     0.721     0.721       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:49:22
val accuracy: None
val loss: None
prc image: 0.828
prc patient prob: 0.825
prc patient pos: 0.811
roc image:
        mean  95% CI -  95% CI +
AUC   0.741     0.740     0.741
TPR   0.619     0.614     0.623
TNR   0.737     0.732     0.741
THRE  0.071     0.064     0.078
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.779     0.775     0.783
TPR   0.693     0.682     0.704
TNR   0.777     0.767     0.787
THRE  0.225     0.212     0.237
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.756     0.752     0.760
TPR   0.701     0.694     0.709
TNR   0.790     0.784     0.797
THRE  0.192     0.184     0.201
cm image:
 [[1108  203]
 [1208 1121]]
cm image:
 [[0.85 0.15]
 [0.52 0.48]]
cm patient prob:
 [[48  4]
 [36 23]]
cm patient prob:
 [[0.92 0.08]
 [0.61 0.39]]
cm patient pos:
 [[49  3]
 [37 22]]
cm patient pos:
 [[0.94 0.06]
 [0.63 0.37]]
report image:
               precision    recall  f1-score   support

           0      0.478     0.845     0.611      1311
           1      0.847     0.481     0.614      2329

    accuracy                          0.612      3640
   macro avg      0.663     0.663     0.612      3640
weighted avg      0.714     0.612     0.613      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.571     0.923     0.706        52
         1.0      0.852     0.390     0.535        59

    accuracy                          0.640       111
   macro avg      0.712     0.656     0.620       111
weighted avg      0.720     0.640     0.615       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.570     0.942     0.710        52
         1.0      0.880     0.373     0.524        59

    accuracy                          0.640       111
   macro avg      0.725     0.658     0.617       111
weighted avg      0.735     0.640     0.611       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:50:21
val accuracy: None
val loss: None
prc image: 0.805
prc patient prob: 0.729
prc patient pos: 0.732
roc image:
        mean  95% CI -  95% CI +
AUC   0.728     0.727     0.729
TPR   0.720     0.715     0.724
TNR   0.622     0.618     0.627
THRE  0.256     0.242     0.271
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.784     0.779     0.788
TPR   0.855     0.847     0.863
TNR   0.668     0.660     0.677
THRE  0.316     0.306     0.327
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.774     0.770     0.778
TPR   0.811     0.802     0.821
TNR   0.700     0.691     0.710
THRE  0.356     0.342     0.370
cm image:
 [[ 887  424]
 [ 812 1517]]
cm image:
 [[0.68 0.32]
 [0.35 0.65]]
cm patient prob:
 [[39 13]
 [20 39]]
cm patient prob:
 [[0.75 0.25]
 [0.34 0.66]]
cm patient pos:
 [[40 12]
 [19 40]]
cm patient pos:
 [[0.77 0.23]
 [0.32 0.68]]
report image:
               precision    recall  f1-score   support

           0      0.522     0.677     0.589      1311
           1      0.782     0.651     0.711      2329

    accuracy                          0.660      3640
   macro avg      0.652     0.664     0.650      3640
weighted avg      0.688     0.660     0.667      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.661     0.750     0.703        52
         1.0      0.750     0.661     0.703        59

    accuracy                          0.703       111
   macro avg      0.706     0.706     0.703       111
weighted avg      0.708     0.703     0.703       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.678     0.769     0.721        52
         1.0      0.769     0.678     0.721        59

    accuracy                          0.721       111
   macro avg      0.724     0.724     0.721       111
weighted avg      0.726     0.721     0.721       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 14:51:40
val accuracy: None
val loss: None
prc image: 0.805
prc patient prob: 0.729
prc patient pos: 0.732
roc image:
        mean  95% CI -  95% CI +
AUC   0.728     0.727     0.729
TPR   0.720     0.715     0.724
TNR   0.622     0.618     0.627
THRE  0.256     0.242     0.271
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.784     0.779     0.788
TPR   0.855     0.847     0.863
TNR   0.668     0.660     0.677
THRE  0.316     0.306     0.327
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.774     0.770     0.778
TPR   0.811     0.802     0.821
TNR   0.700     0.691     0.710
THRE  0.356     0.342     0.370
cm image:
 [[ 864  447]
 [ 759 1570]]
cm image:
 [[0.66 0.34]
 [0.33 0.67]]
cm patient prob:
 [[37 15]
 [14 45]]
cm patient prob:
 [[0.71 0.29]
 [0.24 0.76]]
cm patient pos:
 [[35 17]
 [17 42]]
cm patient pos:
 [[0.67 0.33]
 [0.29 0.71]]
report image:
               precision    recall  f1-score   support

           0      0.532     0.659     0.589      1311
           1      0.778     0.674     0.723      2329

    accuracy                          0.669      3640
   macro avg      0.655     0.667     0.656      3640
weighted avg      0.690     0.669     0.674      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.725     0.712     0.718        52
         1.0      0.750     0.763     0.756        59

    accuracy                          0.739       111
   macro avg      0.738     0.737     0.737       111
weighted avg      0.739     0.739     0.739       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.673     0.673     0.673        52
         1.0      0.712     0.712     0.712        59

    accuracy                          0.694       111
   macro avg      0.692     0.692     0.692       111
weighted avg      0.694     0.694     0.694       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 15:00:39
val accuracy: None
val loss: None
prc image: 0.348
prc patient prob: 0.347
prc patient pos: 0.339
roc image:
        mean  95% CI -  95% CI +
AUC   0.716     0.714     0.717
TPR   0.806     0.803     0.809
TNR   0.571     0.568     0.573
THRE  0.678     0.672     0.683
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.726     0.719     0.734
TPR   0.851     0.840     0.861
TNR   0.711     0.699     0.724
THRE  0.839     0.827     0.851
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.647     0.639     0.655
TPR   0.849     0.837     0.862
TNR   0.590     0.578     0.602
THRE  0.430     0.413     0.447
cm image:
 [[498 513]
 [ 41 238]]
cm image:
 [[0.49 0.51]
 [0.15 0.85]]
cm patient prob:
 [[14 18]
 [ 1  9]]
cm patient prob:
 [[0.44 0.56]
 [0.1  0.9 ]]
cm patient pos:
 [[21 11]
 [ 4  6]]
cm patient pos:
 [[0.66 0.34]
 [0.4  0.6 ]]
report image:
               precision    recall  f1-score   support

           0      0.924     0.493     0.643      1011
           1      0.317     0.853     0.462       279

    accuracy                          0.571      1290
   macro avg      0.620     0.673     0.552      1290
weighted avg      0.793     0.571     0.604      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.933     0.438     0.596        32
         1.0      0.333     0.900     0.486        10

    accuracy                          0.548        42
   macro avg      0.633     0.669     0.541        42
weighted avg      0.790     0.548     0.570        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.840     0.656     0.737        32
         1.0      0.353     0.600     0.444        10

    accuracy                          0.643        42
   macro avg      0.596     0.628     0.591        42
weighted avg      0.724     0.643     0.667        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 15:10:24
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[497 514]
 [ 46 233]]
cm image:
 [[0.49 0.51]
 [0.16 0.84]]
cm patient prob:
 [[13 19]
 [ 1  9]]
cm patient prob:
 [[0.41 0.59]
 [0.1  0.9 ]]
cm patient pos:
 [[31  1]
 [ 4  6]]
cm patient pos:
 [[0.97 0.03]
 [0.4  0.6 ]]
report image:
               precision    recall  f1-score   support

           0      0.915     0.492     0.640      1011
           1      0.312     0.835     0.454       279

    accuracy                          0.566      1290
   macro avg      0.614     0.663     0.547      1290
weighted avg      0.785     0.566     0.600      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.929     0.406     0.565        32
         1.0      0.321     0.900     0.474        10

    accuracy                          0.524        42
   macro avg      0.625     0.653     0.519        42
weighted avg      0.784     0.524     0.543        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.886     0.969     0.925        32
         1.0      0.857     0.600     0.706        10

    accuracy                          0.881        42
   macro avg      0.871     0.784     0.816        42
weighted avg      0.879     0.881     0.873        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 15:16:22
val accuracy: None
val loss: None
prc image: 0.208
prc patient prob: 0.302
prc patient pos: 0.31
roc image:
        mean  95% CI -  95% CI +
AUC   0.701     0.700     0.702
TPR   0.813     0.809     0.817
TNR   0.517     0.513     0.521
THRE  0.422     0.409     0.435
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.724     0.718     0.731
TPR   0.750     0.739     0.762
TNR   0.717     0.707     0.726
THRE  0.703     0.693     0.714
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.687     0.680     0.694
TPR   0.741     0.731     0.752
TNR   0.738     0.733     0.743
THRE  0.275     0.270     0.280
cm image:
 [[1755 1551]
 [  73  261]]
cm image:
 [[0.53 0.47]
 [0.22 0.78]]
cm patient prob:
 [[48 46]
 [ 3 14]]
cm patient prob:
 [[0.51 0.49]
 [0.18 0.82]]
cm patient pos:
 [[81 13]
 [13  4]]
cm patient pos:
 [[0.86 0.14]
 [0.76 0.24]]
report image:
               precision    recall  f1-score   support

           0      0.960     0.531     0.684      3306
           1      0.144     0.781     0.243       334

    accuracy                          0.554      3640
   macro avg      0.552     0.656     0.463      3640
weighted avg      0.885     0.554     0.643      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.941     0.511     0.662        94
         1.0      0.233     0.824     0.364        17

    accuracy                          0.559       111
   macro avg      0.587     0.667     0.513       111
weighted avg      0.833     0.559     0.616       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.862     0.862     0.862        94
         1.0      0.235     0.235     0.235        17

    accuracy                          0.766       111
   macro avg      0.548     0.548     0.548       111
weighted avg      0.766     0.766     0.766       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 15:17:21
val accuracy: None
val loss: None
prc image: 0.208
prc patient prob: 0.302
prc patient pos: 0.31
roc image:
        mean  95% CI -  95% CI +
AUC   0.701     0.700     0.702
TPR   0.813     0.809     0.817
TNR   0.517     0.513     0.521
THRE  0.422     0.409     0.435
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.724     0.718     0.731
TPR   0.750     0.739     0.762
TNR   0.717     0.707     0.726
THRE  0.703     0.693     0.714
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.687     0.680     0.694
TPR   0.741     0.731     0.752
TNR   0.738     0.733     0.743
THRE  0.275     0.270     0.280
cm image:
 [[1660 1646]
 [  64  270]]
cm image:
 [[0.5  0.5 ]
 [0.19 0.81]]
cm patient prob:
 [[34 60]
 [ 2 15]]
cm patient prob:
 [[0.36 0.64]
 [0.12 0.88]]
cm patient pos:
 [[76 18]
 [11  6]]
cm patient pos:
 [[0.81 0.19]
 [0.65 0.35]]
report image:
               precision    recall  f1-score   support

           0      0.963     0.502     0.660      3306
           1      0.141     0.808     0.240       334

    accuracy                          0.530      3640
   macro avg      0.552     0.655     0.450      3640
weighted avg      0.887     0.530     0.621      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.944     0.362     0.523        94
         1.0      0.200     0.882     0.326        17

    accuracy                          0.441       111
   macro avg      0.572     0.622     0.425       111
weighted avg      0.830     0.441     0.493       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.874     0.809     0.840        94
         1.0      0.250     0.353     0.293        17

    accuracy                          0.739       111
   macro avg      0.562     0.581     0.566       111
weighted avg      0.778     0.739     0.756       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 15:19:08
val accuracy: None
val loss: None
prc image: 0.208
prc patient prob: 0.302
prc patient pos: 0.31
roc image:
        mean  95% CI -  95% CI +
AUC   0.701     0.700     0.702
TPR   0.813     0.809     0.817
TNR   0.517     0.513     0.521
THRE  0.422     0.409     0.435
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.724     0.718     0.731
TPR   0.750     0.739     0.762
TNR   0.717     0.707     0.726
THRE  0.703     0.693     0.714
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.687     0.680     0.694
TPR   0.741     0.731     0.752
TNR   0.738     0.733     0.743
THRE  0.275     0.270     0.280
cm image:
 [[1660 1646]
 [  64  270]]
cm image:
 [[0.5  0.5 ]
 [0.19 0.81]]
cm patient prob:
 [[34 60]
 [ 2 15]]
cm patient prob:
 [[0.36 0.64]
 [0.12 0.88]]
cm patient pos:
 [[76 18]
 [11  6]]
cm patient pos:
 [[0.81 0.19]
 [0.65 0.35]]
report image:
               precision    recall  f1-score   support

           0      0.963     0.502     0.660      3306
           1      0.141     0.808     0.240       334

    accuracy                          0.530      3640
   macro avg      0.552     0.655     0.450      3640
weighted avg      0.887     0.530     0.621      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.944     0.362     0.523        94
         1.0      0.200     0.882     0.326        17

    accuracy                          0.441       111
   macro avg      0.572     0.622     0.425       111
weighted avg      0.830     0.441     0.493       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.874     0.809     0.840        94
         1.0      0.250     0.353     0.293        17

    accuracy                          0.739       111
   macro avg      0.562     0.581     0.566       111
weighted avg      0.778     0.739     0.756       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 15:21:50
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[706 125]
 [181 278]]
cm image:
 [[0.85 0.15]
 [0.39 0.61]]
cm patient prob:
 [[19  3]
 [ 7 13]]
cm patient prob:
 [[0.86 0.14]
 [0.35 0.65]]
cm patient pos:
 [[20  2]
 [ 7 13]]
cm patient pos:
 [[0.91 0.09]
 [0.35 0.65]]
report image:
               precision    recall  f1-score   support

           0      0.796     0.850     0.822       831
           1      0.690     0.606     0.645       459

    accuracy                          0.763      1290
   macro avg      0.743     0.728     0.733      1290
weighted avg      0.758     0.763     0.759      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.731     0.864     0.792        22
         1.0      0.812     0.650     0.722        20

    accuracy                          0.762        42
   macro avg      0.772     0.757     0.757        42
weighted avg      0.770     0.762     0.759        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.741     0.909     0.816        22
         1.0      0.867     0.650     0.743        20

    accuracy                          0.786        42
   macro avg      0.804     0.780     0.780        42
weighted avg      0.801     0.786     0.781        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 15:22:53
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.561
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.664     0.659     0.668
TNR   0.668     0.663     0.673
THRE  0.014     0.013     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.716     0.726
TPR   0.712     0.705     0.719
TNR   0.793     0.787     0.798
THRE  0.243     0.240     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.735     0.730     0.739
TPR   0.727     0.720     0.734
TNR   0.771     0.765     0.777
THRE  0.213     0.210     0.217
cm image:
 [[2274  389]
 [ 597  380]]
cm image:
 [[0.85 0.15]
 [0.61 0.39]]
cm patient prob:
 [[66 10]
 [22 13]]
cm patient prob:
 [[0.87 0.13]
 [0.63 0.37]]
cm patient pos:
 [[65 11]
 [22 13]]
cm patient pos:
 [[0.86 0.14]
 [0.63 0.37]]
report image:
               precision    recall  f1-score   support

           0      0.792     0.854     0.822      2663
           1      0.494     0.389     0.435       977

    accuracy                          0.729      3640
   macro avg      0.643     0.621     0.629      3640
weighted avg      0.712     0.729     0.718      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.750     0.868     0.805        76
         1.0      0.565     0.371     0.448        35

    accuracy                          0.712       111
   macro avg      0.658     0.620     0.627       111
weighted avg      0.692     0.712     0.692       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.747     0.855     0.798        76
         1.0      0.542     0.371     0.441        35

    accuracy                          0.703       111
   macro avg      0.644     0.613     0.619       111
weighted avg      0.682     0.703     0.685       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 15:24:06
val accuracy: None
val loss: None
prc image: 0.208
prc patient prob: 0.302
prc patient pos: 0.31
roc image:
        mean  95% CI -  95% CI +
AUC   0.701     0.700     0.702
TPR   0.813     0.809     0.817
TNR   0.517     0.513     0.521
THRE  0.422     0.409     0.435
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.724     0.718     0.731
TPR   0.750     0.739     0.762
TNR   0.717     0.707     0.726
THRE  0.703     0.693     0.714
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.687     0.680     0.694
TPR   0.741     0.731     0.752
TNR   0.738     0.733     0.743
THRE  0.275     0.270     0.280
cm image:
 [[1660 1646]
 [  64  270]]
cm image:
 [[0.5  0.5 ]
 [0.19 0.81]]
cm patient prob:
 [[34 60]
 [ 2 15]]
cm patient prob:
 [[0.36 0.64]
 [0.12 0.88]]
cm patient pos:
 [[76 18]
 [11  6]]
cm patient pos:
 [[0.81 0.19]
 [0.65 0.35]]
report image:
               precision    recall  f1-score   support

           0      0.963     0.502     0.660      3306
           1      0.141     0.808     0.240       334

    accuracy                          0.530      3640
   macro avg      0.552     0.655     0.450      3640
weighted avg      0.887     0.530     0.621      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.944     0.362     0.523        94
         1.0      0.200     0.882     0.326        17

    accuracy                          0.441       111
   macro avg      0.572     0.622     0.425       111
weighted avg      0.830     0.441     0.493       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.874     0.809     0.840        94
         1.0      0.250     0.353     0.293        17

    accuracy                          0.739       111
   macro avg      0.562     0.581     0.566       111
weighted avg      0.778     0.739     0.756       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 15:37:55
val accuracy: None
val loss: None
prc image: 0.208
prc patient prob: 0.302
prc patient pos: 0.31
roc image:
        mean  95% CI -  95% CI +
AUC   0.701     0.700     0.702
TPR   0.813     0.809     0.817
TNR   0.517     0.513     0.521
THRE  0.422     0.409     0.435
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.724     0.718     0.731
TPR   0.750     0.739     0.762
TNR   0.717     0.707     0.726
THRE  0.703     0.693     0.714
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.687     0.680     0.694
TPR   0.741     0.731     0.752
TNR   0.738     0.733     0.743
THRE  0.275     0.270     0.280
cm image:
 [[1755 1551]
 [  73  261]]
cm image:
 [[0.53 0.47]
 [0.22 0.78]]
cm patient prob:
 [[48 46]
 [ 3 14]]
cm patient prob:
 [[0.51 0.49]
 [0.18 0.82]]
cm patient pos:
 [[81 13]
 [13  4]]
cm patient pos:
 [[0.86 0.14]
 [0.76 0.24]]
report image:
               precision    recall  f1-score   support

           0      0.960     0.531     0.684      3306
           1      0.144     0.781     0.243       334

    accuracy                          0.554      3640
   macro avg      0.552     0.656     0.463      3640
weighted avg      0.885     0.554     0.643      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.941     0.511     0.662        94
         1.0      0.233     0.824     0.364        17

    accuracy                          0.559       111
   macro avg      0.587     0.667     0.513       111
weighted avg      0.833     0.559     0.616       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.862     0.862     0.862        94
         1.0      0.235     0.235     0.235        17

    accuracy                          0.766       111
   macro avg      0.548     0.548     0.548       111
weighted avg      0.766     0.766     0.766       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 15:38:57
val accuracy: None
val loss: None
prc image: 0.208
prc patient prob: 0.302
prc patient pos: 0.31
roc image:
        mean  95% CI -  95% CI +
AUC   0.701     0.700     0.702
TPR   0.813     0.809     0.817
TNR   0.517     0.513     0.521
THRE  0.422     0.409     0.435
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.724     0.718     0.731
TPR   0.750     0.739     0.762
TNR   0.717     0.707     0.726
THRE  0.703     0.693     0.714
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.687     0.680     0.694
TPR   0.741     0.731     0.752
TNR   0.738     0.733     0.743
THRE  0.275     0.270     0.280
cm image:
 [[1660 1646]
 [  64  270]]
cm image:
 [[0.5  0.5 ]
 [0.19 0.81]]
cm patient prob:
 [[34 60]
 [ 2 15]]
cm patient prob:
 [[0.36 0.64]
 [0.12 0.88]]
cm patient pos:
 [[76 18]
 [11  6]]
cm patient pos:
 [[0.81 0.19]
 [0.65 0.35]]
report image:
               precision    recall  f1-score   support

           0      0.963     0.502     0.660      3306
           1      0.141     0.808     0.240       334

    accuracy                          0.530      3640
   macro avg      0.552     0.655     0.450      3640
weighted avg      0.887     0.530     0.621      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.944     0.362     0.523        94
         1.0      0.200     0.882     0.326        17

    accuracy                          0.441       111
   macro avg      0.572     0.622     0.425       111
weighted avg      0.830     0.441     0.493       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.874     0.809     0.840        94
         1.0      0.250     0.353     0.293        17

    accuracy                          0.739       111
   macro avg      0.562     0.581     0.566       111
weighted avg      0.778     0.739     0.756       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 16:48:23
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[497 514]
 [ 46 233]]
cm image:
 [[0.49 0.51]
 [0.16 0.84]]
cm patient prob:
 [[13 19]
 [ 1  9]]
cm patient prob:
 [[0.41 0.59]
 [0.1  0.9 ]]
cm patient pos:
 [[31  1]
 [ 4  6]]
cm patient pos:
 [[0.97 0.03]
 [0.4  0.6 ]]
report image:
               precision    recall  f1-score   support

           0      0.915     0.492     0.640      1011
           1      0.312     0.835     0.454       279

    accuracy                          0.566      1290
   macro avg      0.614     0.663     0.547      1290
weighted avg      0.785     0.566     0.600      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.929     0.406     0.565        32
         1.0      0.321     0.900     0.474        10

    accuracy                          0.524        42
   macro avg      0.625     0.653     0.519        42
weighted avg      0.784     0.524     0.543        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.886     0.969     0.925        32
         1.0      0.857     0.600     0.706        10

    accuracy                          0.881        42
   macro avg      0.871     0.784     0.816        42
weighted avg      0.879     0.881     0.873        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 16:52:01
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 16:53:02
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[497 514]
 [ 46 233]]
cm image:
 [[0.49 0.51]
 [0.16 0.84]]
cm patient prob:
 [[13 19]
 [ 1  9]]
cm patient prob:
 [[0.41 0.59]
 [0.1  0.9 ]]
cm patient pos:
 [[31  1]
 [ 4  6]]
cm patient pos:
 [[0.97 0.03]
 [0.4  0.6 ]]
report image:
               precision    recall  f1-score   support

           0      0.915     0.492     0.640      1011
           1      0.312     0.835     0.454       279

    accuracy                          0.566      1290
   macro avg      0.614     0.663     0.547      1290
weighted avg      0.785     0.566     0.600      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.929     0.406     0.565        32
         1.0      0.321     0.900     0.474        10

    accuracy                          0.524        42
   macro avg      0.625     0.653     0.519        42
weighted avg      0.784     0.524     0.543        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.886     0.969     0.925        32
         1.0      0.857     0.600     0.706        10

    accuracy                          0.881        42
   macro avg      0.871     0.784     0.816        42
weighted avg      0.879     0.881     0.873        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:11:43
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:13:23
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[718 113]
 [195 264]]
cm image:
 [[0.86 0.14]
 [0.42 0.58]]
cm patient prob:
 [[21  1]
 [ 9 11]]
cm patient prob:
 [[0.95 0.05]
 [0.45 0.55]]
cm patient pos:
 [[21  1]
 [11  9]]
cm patient pos:
 [[0.95 0.05]
 [0.55 0.45]]
report image:
               precision    recall  f1-score   support

           0      0.786     0.864     0.823       831
           1      0.700     0.575     0.632       459

    accuracy                          0.761      1290
   macro avg      0.743     0.720     0.727      1290
weighted avg      0.756     0.761     0.755      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.700     0.955     0.808        22
         1.0      0.917     0.550     0.687        20

    accuracy                          0.762        42
   macro avg      0.808     0.752     0.748        42
weighted avg      0.803     0.762     0.750        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.656     0.955     0.778        22
         1.0      0.900     0.450     0.600        20

    accuracy                          0.714        42
   macro avg      0.778     0.702     0.689        42
weighted avg      0.772     0.714     0.693        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:14:58
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.561
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.664     0.659     0.668
TNR   0.668     0.663     0.673
THRE  0.014     0.013     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.716     0.726
TPR   0.712     0.705     0.719
TNR   0.793     0.787     0.798
THRE  0.243     0.240     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.735     0.730     0.739
TPR   0.727     0.720     0.734
TNR   0.771     0.765     0.777
THRE  0.213     0.210     0.217
cm image:
 [[2310  353]
 [ 624  353]]
cm image:
 [[0.87 0.13]
 [0.64 0.36]]
cm patient prob:
 [[67  9]
 [25 10]]
cm patient prob:
 [[0.88 0.12]
 [0.71 0.29]]
cm patient pos:
 [[67  9]
 [25 10]]
cm patient pos:
 [[0.88 0.12]
 [0.71 0.29]]
report image:
               precision    recall  f1-score   support

           0      0.787     0.867     0.825      2663
           1      0.500     0.361     0.419       977

    accuracy                          0.732      3640
   macro avg      0.644     0.614     0.622      3640
weighted avg      0.710     0.732     0.716      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.728     0.882     0.798        76
         1.0      0.526     0.286     0.370        35

    accuracy                          0.694       111
   macro avg      0.627     0.584     0.584       111
weighted avg      0.665     0.694     0.663       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.728     0.882     0.798        76
         1.0      0.526     0.286     0.370        35

    accuracy                          0.694       111
   macro avg      0.627     0.584     0.584       111
weighted avg      0.665     0.694     0.663       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:17:27
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.561
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.664     0.659     0.668
TNR   0.668     0.663     0.673
THRE  0.014     0.013     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.716     0.726
TPR   0.712     0.705     0.719
TNR   0.793     0.787     0.798
THRE  0.243     0.240     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.735     0.730     0.739
TPR   0.727     0.720     0.734
TNR   0.771     0.765     0.777
THRE  0.213     0.210     0.217
cm image:
 [[2274  389]
 [ 597  380]]
cm image:
 [[0.85 0.15]
 [0.61 0.39]]
cm patient prob:
 [[66 10]
 [22 13]]
cm patient prob:
 [[0.87 0.13]
 [0.63 0.37]]
cm patient pos:
 [[65 11]
 [22 13]]
cm patient pos:
 [[0.86 0.14]
 [0.63 0.37]]
report image:
               precision    recall  f1-score   support

           0      0.792     0.854     0.822      2663
           1      0.494     0.389     0.435       977

    accuracy                          0.729      3640
   macro avg      0.643     0.621     0.629      3640
weighted avg      0.712     0.729     0.718      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.750     0.868     0.805        76
         1.0      0.565     0.371     0.448        35

    accuracy                          0.712       111
   macro avg      0.658     0.620     0.627       111
weighted avg      0.692     0.712     0.692       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.747     0.855     0.798        76
         1.0      0.542     0.371     0.441        35

    accuracy                          0.703       111
   macro avg      0.644     0.613     0.619       111
weighted avg      0.682     0.703     0.685       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:17:57
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.561
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.664     0.659     0.668
TNR   0.668     0.663     0.673
THRE  0.014     0.013     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.716     0.726
TPR   0.712     0.705     0.719
TNR   0.793     0.787     0.798
THRE  0.243     0.240     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.735     0.730     0.739
TPR   0.727     0.720     0.734
TNR   0.771     0.765     0.777
THRE  0.213     0.210     0.217
cm image:
 [[2310  353]
 [ 624  353]]
cm image:
 [[0.87 0.13]
 [0.64 0.36]]
cm patient prob:
 [[67  9]
 [25 10]]
cm patient prob:
 [[0.88 0.12]
 [0.71 0.29]]
cm patient pos:
 [[67  9]
 [25 10]]
cm patient pos:
 [[0.88 0.12]
 [0.71 0.29]]
report image:
               precision    recall  f1-score   support

           0      0.787     0.867     0.825      2663
           1      0.500     0.361     0.419       977

    accuracy                          0.732      3640
   macro avg      0.644     0.614     0.622      3640
weighted avg      0.710     0.732     0.716      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.728     0.882     0.798        76
         1.0      0.526     0.286     0.370        35

    accuracy                          0.694       111
   macro avg      0.627     0.584     0.584       111
weighted avg      0.665     0.694     0.663       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.728     0.882     0.798        76
         1.0      0.526     0.286     0.370        35

    accuracy                          0.694       111
   macro avg      0.627     0.584     0.584       111
weighted avg      0.665     0.694     0.663       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:19:40
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[718 113]
 [195 264]]
cm image:
 [[0.86 0.14]
 [0.42 0.58]]
cm patient prob:
 [[21  1]
 [ 9 11]]
cm patient prob:
 [[0.95 0.05]
 [0.45 0.55]]
cm patient pos:
 [[21  1]
 [11  9]]
cm patient pos:
 [[0.95 0.05]
 [0.55 0.45]]
report image:
               precision    recall  f1-score   support

           0      0.786     0.864     0.823       831
           1      0.700     0.575     0.632       459

    accuracy                          0.761      1290
   macro avg      0.743     0.720     0.727      1290
weighted avg      0.756     0.761     0.755      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.700     0.955     0.808        22
         1.0      0.917     0.550     0.687        20

    accuracy                          0.762        42
   macro avg      0.808     0.752     0.748        42
weighted avg      0.803     0.762     0.750        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.656     0.955     0.778        22
         1.0      0.900     0.450     0.600        20

    accuracy                          0.714        42
   macro avg      0.778     0.702     0.689        42
weighted avg      0.772     0.714     0.693        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:23:12
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.561
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.664     0.659     0.668
TNR   0.668     0.663     0.673
THRE  0.014     0.013     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.716     0.726
TPR   0.712     0.705     0.719
TNR   0.793     0.787     0.798
THRE  0.243     0.240     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.735     0.730     0.739
TPR   0.727     0.720     0.734
TNR   0.771     0.765     0.777
THRE  0.213     0.210     0.217
cm image:
 [[2310  353]
 [ 624  353]]
cm image:
 [[0.87 0.13]
 [0.64 0.36]]
cm patient prob:
 [[67  9]
 [25 10]]
cm patient prob:
 [[0.88 0.12]
 [0.71 0.29]]
cm patient pos:
 [[67  9]
 [25 10]]
cm patient pos:
 [[0.88 0.12]
 [0.71 0.29]]
report image:
               precision    recall  f1-score   support

           0      0.787     0.867     0.825      2663
           1      0.500     0.361     0.419       977

    accuracy                          0.732      3640
   macro avg      0.644     0.614     0.622      3640
weighted avg      0.710     0.732     0.716      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.728     0.882     0.798        76
         1.0      0.526     0.286     0.370        35

    accuracy                          0.694       111
   macro avg      0.627     0.584     0.584       111
weighted avg      0.665     0.694     0.663       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.728     0.882     0.798        76
         1.0      0.526     0.286     0.370        35

    accuracy                          0.694       111
   macro avg      0.627     0.584     0.584       111
weighted avg      0.665     0.694     0.663       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:24:57
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:33:31
val accuracy: None
val loss: None
prc image: 0.805
prc patient prob: 0.729
prc patient pos: 0.732
roc image:
        mean  95% CI -  95% CI +
AUC   0.728     0.727     0.729
TPR   0.720     0.715     0.724
TNR   0.622     0.618     0.627
THRE  0.256     0.242     0.271
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.784     0.779     0.788
TPR   0.855     0.847     0.863
TNR   0.668     0.660     0.677
THRE  0.316     0.306     0.327
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.774     0.770     0.778
TPR   0.811     0.802     0.821
TNR   0.700     0.691     0.710
THRE  0.356     0.342     0.370
cm image:
 [[ 887  424]
 [ 812 1517]]
cm image:
 [[0.68 0.32]
 [0.35 0.65]]
cm patient prob:
 [[39 13]
 [20 39]]
cm patient prob:
 [[0.75 0.25]
 [0.34 0.66]]
cm patient pos:
 [[40 12]
 [19 40]]
cm patient pos:
 [[0.77 0.23]
 [0.32 0.68]]
report image:
               precision    recall  f1-score   support

           0      0.522     0.677     0.589      1311
           1      0.782     0.651     0.711      2329

    accuracy                          0.660      3640
   macro avg      0.652     0.664     0.650      3640
weighted avg      0.688     0.660     0.667      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.661     0.750     0.703        52
         1.0      0.750     0.661     0.703        59

    accuracy                          0.703       111
   macro avg      0.706     0.706     0.703       111
weighted avg      0.708     0.703     0.703       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.678     0.769     0.721        52
         1.0      0.769     0.678     0.721        59

    accuracy                          0.721       111
   macro avg      0.724     0.724     0.721       111
weighted avg      0.726     0.721     0.721       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:35:33
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[497 514]
 [ 46 233]]
cm image:
 [[0.49 0.51]
 [0.16 0.84]]
cm patient prob:
 [[13 19]
 [ 1  9]]
cm patient prob:
 [[0.41 0.59]
 [0.1  0.9 ]]
cm patient pos:
 [[31  1]
 [ 4  6]]
cm patient pos:
 [[0.97 0.03]
 [0.4  0.6 ]]
report image:
               precision    recall  f1-score   support

           0      0.915     0.492     0.640      1011
           1      0.312     0.835     0.454       279

    accuracy                          0.566      1290
   macro avg      0.614     0.663     0.547      1290
weighted avg      0.785     0.566     0.600      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.929     0.406     0.565        32
         1.0      0.321     0.900     0.474        10

    accuracy                          0.524        42
   macro avg      0.625     0.653     0.519        42
weighted avg      0.784     0.524     0.543        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.886     0.969     0.925        32
         1.0      0.857     0.600     0.706        10

    accuracy                          0.881        42
   macro avg      0.871     0.784     0.816        42
weighted avg      0.879     0.881     0.873        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:38:37
val accuracy: None
val loss: None
prc image: 0.208
prc patient prob: 0.302
prc patient pos: 0.31
roc image:
        mean  95% CI -  95% CI +
AUC   0.701     0.700     0.702
TPR   0.813     0.809     0.817
TNR   0.517     0.513     0.521
THRE  0.422     0.409     0.435
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.724     0.718     0.731
TPR   0.750     0.739     0.762
TNR   0.717     0.707     0.726
THRE  0.703     0.693     0.714
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.687     0.680     0.694
TPR   0.741     0.731     0.752
TNR   0.738     0.733     0.743
THRE  0.275     0.270     0.280
cm image:
 [[1755 1551]
 [  73  261]]
cm image:
 [[0.53 0.47]
 [0.22 0.78]]
cm patient prob:
 [[48 46]
 [ 3 14]]
cm patient prob:
 [[0.51 0.49]
 [0.18 0.82]]
cm patient pos:
 [[81 13]
 [13  4]]
cm patient pos:
 [[0.86 0.14]
 [0.76 0.24]]
report image:
               precision    recall  f1-score   support

           0      0.960     0.531     0.684      3306
           1      0.144     0.781     0.243       334

    accuracy                          0.554      3640
   macro avg      0.552     0.656     0.463      3640
weighted avg      0.885     0.554     0.643      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.941     0.511     0.662        94
         1.0      0.233     0.824     0.364        17

    accuracy                          0.559       111
   macro avg      0.587     0.667     0.513       111
weighted avg      0.833     0.559     0.616       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.862     0.862     0.862        94
         1.0      0.235     0.235     0.235        17

    accuracy                          0.766       111
   macro avg      0.548     0.548     0.548       111
weighted avg      0.766     0.766     0.766       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:45:27
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[718 113]
 [195 264]]
cm image:
 [[0.86 0.14]
 [0.42 0.58]]
cm patient prob:
 [[21  1]
 [ 9 11]]
cm patient prob:
 [[0.95 0.05]
 [0.45 0.55]]
cm patient pos:
 [[21  1]
 [11  9]]
cm patient pos:
 [[0.95 0.05]
 [0.55 0.45]]
report image:
               precision    recall  f1-score   support

           0      0.786     0.864     0.823       831
           1      0.700     0.575     0.632       459

    accuracy                          0.761      1290
   macro avg      0.743     0.720     0.727      1290
weighted avg      0.756     0.761     0.755      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.700     0.955     0.808        22
         1.0      0.917     0.550     0.687        20

    accuracy                          0.762        42
   macro avg      0.808     0.752     0.748        42
weighted avg      0.803     0.762     0.750        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.656     0.955     0.778        22
         1.0      0.900     0.450     0.600        20

    accuracy                          0.714        42
   macro avg      0.778     0.702     0.689        42
weighted avg      0.772     0.714     0.693        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:48:41
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.561
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.664     0.659     0.668
TNR   0.668     0.663     0.673
THRE  0.014     0.013     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.716     0.726
TPR   0.712     0.705     0.719
TNR   0.793     0.787     0.798
THRE  0.243     0.240     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.735     0.730     0.739
TPR   0.727     0.720     0.734
TNR   0.771     0.765     0.777
THRE  0.213     0.210     0.217
cm image:
 [[2310  353]
 [ 624  353]]
cm image:
 [[0.87 0.13]
 [0.64 0.36]]
cm patient prob:
 [[67  9]
 [25 10]]
cm patient prob:
 [[0.88 0.12]
 [0.71 0.29]]
cm patient pos:
 [[67  9]
 [25 10]]
cm patient pos:
 [[0.88 0.12]
 [0.71 0.29]]
report image:
               precision    recall  f1-score   support

           0      0.787     0.867     0.825      2663
           1      0.500     0.361     0.419       977

    accuracy                          0.732      3640
   macro avg      0.644     0.614     0.622      3640
weighted avg      0.710     0.732     0.716      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.728     0.882     0.798        76
         1.0      0.526     0.286     0.370        35

    accuracy                          0.694       111
   macro avg      0.627     0.584     0.584       111
weighted avg      0.665     0.694     0.663       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.728     0.882     0.798        76
         1.0      0.526     0.286     0.370        35

    accuracy                          0.694       111
   macro avg      0.627     0.584     0.584       111
weighted avg      0.665     0.694     0.663       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:53:14
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:54:42
val accuracy: None
val loss: None
prc image: 0.805
prc patient prob: 0.729
prc patient pos: 0.732
roc image:
        mean  95% CI -  95% CI +
AUC   0.728     0.727     0.729
TPR   0.720     0.715     0.724
TNR   0.622     0.618     0.627
THRE  0.256     0.242     0.271
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.784     0.779     0.788
TPR   0.855     0.847     0.863
TNR   0.668     0.660     0.677
THRE  0.316     0.306     0.327
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.774     0.770     0.778
TPR   0.811     0.802     0.821
TNR   0.700     0.691     0.710
THRE  0.356     0.342     0.370
cm image:
 [[ 887  424]
 [ 812 1517]]
cm image:
 [[0.68 0.32]
 [0.35 0.65]]
cm patient prob:
 [[39 13]
 [20 39]]
cm patient prob:
 [[0.75 0.25]
 [0.34 0.66]]
cm patient pos:
 [[40 12]
 [19 40]]
cm patient pos:
 [[0.77 0.23]
 [0.32 0.68]]
report image:
               precision    recall  f1-score   support

           0      0.522     0.677     0.589      1311
           1      0.782     0.651     0.711      2329

    accuracy                          0.660      3640
   macro avg      0.652     0.664     0.650      3640
weighted avg      0.688     0.660     0.667      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.661     0.750     0.703        52
         1.0      0.750     0.661     0.703        59

    accuracy                          0.703       111
   macro avg      0.706     0.706     0.703       111
weighted avg      0.708     0.703     0.703       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.678     0.769     0.721        52
         1.0      0.769     0.678     0.721        59

    accuracy                          0.721       111
   macro avg      0.724     0.724     0.721       111
weighted avg      0.726     0.721     0.721       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 17:56:29
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[497 514]
 [ 46 233]]
cm image:
 [[0.49 0.51]
 [0.16 0.84]]
cm patient prob:
 [[13 19]
 [ 1  9]]
cm patient prob:
 [[0.41 0.59]
 [0.1  0.9 ]]
cm patient pos:
 [[31  1]
 [ 4  6]]
cm patient pos:
 [[0.97 0.03]
 [0.4  0.6 ]]
report image:
               precision    recall  f1-score   support

           0      0.915     0.492     0.640      1011
           1      0.312     0.835     0.454       279

    accuracy                          0.566      1290
   macro avg      0.614     0.663     0.547      1290
weighted avg      0.785     0.566     0.600      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.929     0.406     0.565        32
         1.0      0.321     0.900     0.474        10

    accuracy                          0.524        42
   macro avg      0.625     0.653     0.519        42
weighted avg      0.784     0.524     0.543        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.886     0.969     0.925        32
         1.0      0.857     0.600     0.706        10

    accuracy                          0.881        42
   macro avg      0.871     0.784     0.816        42
weighted avg      0.879     0.881     0.873        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:00:32
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[391 620]
 [ 31 248]]
cm image:
 [[0.39 0.61]
 [0.11 0.89]]
cm patient prob:
 [[ 4 28]
 [ 0 10]]
cm patient prob:
 [[0.12 0.88]
 [0.   1.  ]]
cm patient pos:
 [[23  9]
 [ 2  8]]
cm patient pos:
 [[0.72 0.28]
 [0.2  0.8 ]]
report image:
               precision    recall  f1-score   support

           0      0.927     0.387     0.546      1011
           1      0.286     0.889     0.432       279

    accuracy                          0.495      1290
   macro avg      0.606     0.638     0.489      1290
weighted avg      0.788     0.495     0.521      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      1.000     0.125     0.222        32
         1.0      0.263     1.000     0.417        10

    accuracy                          0.333        42
   macro avg      0.632     0.562     0.319        42
weighted avg      0.825     0.333     0.269        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.920     0.719     0.807        32
         1.0      0.471     0.800     0.593        10

    accuracy                          0.738        42
   macro avg      0.695     0.759     0.700        42
weighted avg      0.813     0.738     0.756        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:01:38
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[355 656]
 [ 27 252]]
cm image:
 [[0.35 0.65]
 [0.1  0.9 ]]
cm patient prob:
 [[ 3 29]
 [ 0 10]]
cm patient prob:
 [[0.09 0.91]
 [0.   1.  ]]
cm patient pos:
 [[17 15]
 [ 2  8]]
cm patient pos:
 [[0.53 0.47]
 [0.2  0.8 ]]
report image:
               precision    recall  f1-score   support

           0      0.929     0.351     0.510      1011
           1      0.278     0.903     0.425       279

    accuracy                          0.471      1290
   macro avg      0.603     0.627     0.467      1290
weighted avg      0.788     0.471     0.491      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      1.000     0.094     0.171        32
         1.0      0.256     1.000     0.408        10

    accuracy                          0.310        42
   macro avg      0.628     0.547     0.290        42
weighted avg      0.823     0.310     0.228        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.895     0.531     0.667        32
         1.0      0.348     0.800     0.485        10

    accuracy                          0.595        42
   macro avg      0.621     0.666     0.576        42
weighted avg      0.765     0.595     0.623        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:02:10
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[546 465]
 [ 53 226]]
cm image:
 [[0.54 0.46]
 [0.19 0.81]]
cm patient prob:
 [[15 17]
 [ 2  8]]
cm patient prob:
 [[0.47 0.53]
 [0.2  0.8 ]]
cm patient pos:
 [[32  0]
 [ 5  5]]
cm patient pos:
 [[1.  0. ]
 [0.5 0.5]]
report image:
               precision    recall  f1-score   support

           0      0.912     0.540     0.678      1011
           1      0.327     0.810     0.466       279

    accuracy                          0.598      1290
   macro avg      0.619     0.675     0.572      1290
weighted avg      0.785     0.598     0.632      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.882     0.469     0.612        32
         1.0      0.320     0.800     0.457        10

    accuracy                          0.548        42
   macro avg      0.601     0.634     0.535        42
weighted avg      0.748     0.548     0.575        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.865     1.000     0.928        32
         1.0      1.000     0.500     0.667        10

    accuracy                          0.881        42
   macro avg      0.932     0.750     0.797        42
weighted avg      0.897     0.881     0.865        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:02:58
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[649 362]
 [ 83 196]]
cm image:
 [[0.64 0.36]
 [0.3  0.7 ]]
cm patient prob:
 [[24  8]
 [ 2  8]]
cm patient prob:
 [[0.75 0.25]
 [0.2  0.8 ]]
cm patient pos:
 [[32  0]
 [ 8  2]]
cm patient pos:
 [[1.  0. ]
 [0.8 0.2]]
report image:
               precision    recall  f1-score   support

           0      0.887     0.642     0.745      1011
           1      0.351     0.703     0.468       279

    accuracy                          0.655      1290
   macro avg      0.619     0.672     0.607      1290
weighted avg      0.771     0.655     0.685      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.923     0.750     0.828        32
         1.0      0.500     0.800     0.615        10

    accuracy                          0.762        42
   macro avg      0.712     0.775     0.721        42
weighted avg      0.822     0.762     0.777        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.800     1.000     0.889        32
         1.0      1.000     0.200     0.333        10

    accuracy                          0.810        42
   macro avg      0.900     0.600     0.611        42
weighted avg      0.848     0.810     0.757        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:08:21
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[710 301]
 [ 97 182]]
cm image:
 [[0.7  0.3 ]
 [0.35 0.65]]
cm patient prob:
 [[29  3]
 [ 4  6]]
cm patient prob:
 [[0.91 0.09]
 [0.4  0.6 ]]
cm patient pos:
 [[32  0]
 [ 9  1]]
cm patient pos:
 [[1.  0. ]
 [0.9 0.1]]
report image:
               precision    recall  f1-score   support

           0      0.880     0.702     0.781      1011
           1      0.377     0.652     0.478       279

    accuracy                          0.691      1290
   macro avg      0.628     0.677     0.629      1290
weighted avg      0.771     0.691     0.715      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.879     0.906     0.892        32
         1.0      0.667     0.600     0.632        10

    accuracy                          0.833        42
   macro avg      0.773     0.753     0.762        42
weighted avg      0.828     0.833     0.830        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.780     1.000     0.877        32
         1.0      1.000     0.100     0.182        10

    accuracy                          0.786        42
   macro avg      0.890     0.550     0.529        42
weighted avg      0.833     0.786     0.711        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:09:00
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[649 362]
 [ 83 196]]
cm image:
 [[0.64 0.36]
 [0.3  0.7 ]]
cm patient prob:
 [[24  8]
 [ 2  8]]
cm patient prob:
 [[0.75 0.25]
 [0.2  0.8 ]]
cm patient pos:
 [[32  0]
 [ 8  2]]
cm patient pos:
 [[1.  0. ]
 [0.8 0.2]]
report image:
               precision    recall  f1-score   support

           0      0.887     0.642     0.745      1011
           1      0.351     0.703     0.468       279

    accuracy                          0.655      1290
   macro avg      0.619     0.672     0.607      1290
weighted avg      0.771     0.655     0.685      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.923     0.750     0.828        32
         1.0      0.500     0.800     0.615        10

    accuracy                          0.762        42
   macro avg      0.712     0.775     0.721        42
weighted avg      0.822     0.762     0.777        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.800     1.000     0.889        32
         1.0      1.000     0.200     0.333        10

    accuracy                          0.810        42
   macro avg      0.900     0.600     0.611        42
weighted avg      0.848     0.810     0.757        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:09:39
val accuracy: None
val loss: None
prc image: 0.208
prc patient prob: 0.302
prc patient pos: 0.31
roc image:
        mean  95% CI -  95% CI +
AUC   0.701     0.700     0.702
TPR   0.813     0.809     0.817
TNR   0.517     0.513     0.521
THRE  0.422     0.409     0.435
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.724     0.718     0.731
TPR   0.750     0.739     0.762
TNR   0.717     0.707     0.726
THRE  0.703     0.693     0.714
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.687     0.680     0.694
TPR   0.741     0.731     0.752
TNR   0.738     0.733     0.743
THRE  0.275     0.270     0.280
cm image:
 [[2129 1177]
 [ 122  212]]
cm image:
 [[0.64 0.36]
 [0.37 0.63]]
cm patient prob:
 [[73 21]
 [ 7 10]]
cm patient prob:
 [[0.78 0.22]
 [0.41 0.59]]
cm patient pos:
 [[90  4]
 [15  2]]
cm patient pos:
 [[0.96 0.04]
 [0.88 0.12]]
report image:
               precision    recall  f1-score   support

           0      0.946     0.644     0.766      3306
           1      0.153     0.635     0.246       334

    accuracy                          0.643      3640
   macro avg      0.549     0.639     0.506      3640
weighted avg      0.873     0.643     0.719      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.912     0.777     0.839        94
         1.0      0.323     0.588     0.417        17

    accuracy                          0.748       111
   macro avg      0.618     0.682     0.628       111
weighted avg      0.822     0.748     0.774       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.857     0.957     0.905        94
         1.0      0.333     0.118     0.174        17

    accuracy                          0.829       111
   macro avg      0.595     0.538     0.539       111
weighted avg      0.777     0.829     0.793       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:30:07
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[649 362]
 [ 83 196]]
cm image:
 [[0.64 0.36]
 [0.3  0.7 ]]
cm patient prob:
 [[24  8]
 [ 2  8]]
cm patient prob:
 [[0.75 0.25]
 [0.2  0.8 ]]
cm patient pos:
 [[32  0]
 [ 8  2]]
cm patient pos:
 [[1.  0. ]
 [0.8 0.2]]
report image:
               precision    recall  f1-score   support

           0      0.887     0.642     0.745      1011
           1      0.351     0.703     0.468       279

    accuracy                          0.655      1290
   macro avg      0.619     0.672     0.607      1290
weighted avg      0.771     0.655     0.685      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.923     0.750     0.828        32
         1.0      0.500     0.800     0.615        10

    accuracy                          0.762        42
   macro avg      0.712     0.775     0.721        42
weighted avg      0.822     0.762     0.777        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.800     1.000     0.889        32
         1.0      1.000     0.200     0.333        10

    accuracy                          0.810        42
   macro avg      0.900     0.600     0.611        42
weighted avg      0.848     0.810     0.757        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:35:31
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[653  85]
 [251 301]]
cm image:
 [[0.88 0.12]
 [0.45 0.55]]
cm patient prob:
 [[29  1]
 [10  2]]
cm patient prob:
 [[0.97 0.03]
 [0.83 0.17]]
cm patient pos:
 [[29  1]
 [10  2]]
cm patient pos:
 [[0.97 0.03]
 [0.83 0.17]]
report image:
               precision    recall  f1-score   support

           0      0.722     0.885     0.795       738
           1      0.780     0.545     0.642       552

    accuracy                          0.740      1290
   macro avg      0.751     0.715     0.719      1290
weighted avg      0.747     0.740     0.730      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.744     0.967     0.841        30
         1.0      0.667     0.167     0.267        12

    accuracy                          0.738        42
   macro avg      0.705     0.567     0.554        42
weighted avg      0.722     0.738     0.677        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.744     0.967     0.841        30
         1.0      0.667     0.167     0.267        12

    accuracy                          0.738        42
   macro avg      0.705     0.567     0.554        42
weighted avg      0.722     0.738     0.677        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:36:25
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[622 116]
 [210 342]]
cm image:
 [[0.84 0.16]
 [0.38 0.62]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 5  7]]
cm patient pos:
 [[0.9  0.1 ]
 [0.42 0.58]]
report image:
               precision    recall  f1-score   support

           0      0.748     0.843     0.792       738
           1      0.747     0.620     0.677       552

    accuracy                          0.747      1290
   macro avg      0.747     0.731     0.735      1290
weighted avg      0.747     0.747     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:37:05
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[619 119]
 [191 361]]
cm image:
 [[0.84 0.16]
 [0.35 0.65]]
cm patient prob:
 [[27  3]
 [ 4  8]]
cm patient prob:
 [[0.9  0.1 ]
 [0.33 0.67]]
cm patient pos:
 [[27  3]
 [ 5  7]]
cm patient pos:
 [[0.9  0.1 ]
 [0.42 0.58]]
report image:
               precision    recall  f1-score   support

           0      0.764     0.839     0.800       738
           1      0.752     0.654     0.700       552

    accuracy                          0.760      1290
   macro avg      0.758     0.746     0.750      1290
weighted avg      0.759     0.760     0.757      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.871     0.900     0.885        30
         1.0      0.727     0.667     0.696        12

    accuracy                          0.833        42
   macro avg      0.799     0.783     0.790        42
weighted avg      0.830     0.833     0.831        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:38:28
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[619 119]
 [191 361]]
cm image:
 [[0.84 0.16]
 [0.35 0.65]]
cm patient prob:
 [[27  3]
 [ 4  8]]
cm patient prob:
 [[0.9  0.1 ]
 [0.33 0.67]]
cm patient pos:
 [[27  3]
 [ 5  7]]
cm patient pos:
 [[0.9  0.1 ]
 [0.42 0.58]]
report image:
               precision    recall  f1-score   support

           0      0.764     0.839     0.800       738
           1      0.752     0.654     0.700       552

    accuracy                          0.760      1290
   macro avg      0.758     0.746     0.750      1290
weighted avg      0.759     0.760     0.757      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.871     0.900     0.885        30
         1.0      0.727     0.667     0.696        12

    accuracy                          0.833        42
   macro avg      0.799     0.783     0.790        42
weighted avg      0.830     0.833     0.831        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:39:11
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[603 135]
 [179 373]]
cm image:
 [[0.82 0.18]
 [0.32 0.68]]
cm patient prob:
 [[26  4]
 [ 4  8]]
cm patient prob:
 [[0.87 0.13]
 [0.33 0.67]]
cm patient pos:
 [[26  4]
 [ 4  8]]
cm patient pos:
 [[0.87 0.13]
 [0.33 0.67]]
report image:
               precision    recall  f1-score   support

           0      0.771     0.817     0.793       738
           1      0.734     0.676     0.704       552

    accuracy                          0.757      1290
   macro avg      0.753     0.746     0.749      1290
weighted avg      0.755     0.757     0.755      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.867     0.867     0.867        30
         1.0      0.667     0.667     0.667        12

    accuracy                          0.810        42
   macro avg      0.767     0.767     0.767        42
weighted avg      0.810     0.810     0.810        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.867     0.867     0.867        30
         1.0      0.667     0.667     0.667        12

    accuracy                          0.810        42
   macro avg      0.767     0.767     0.767        42
weighted avg      0.810     0.810     0.810        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:40:26
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[589 149]
 [156 396]]
cm image:
 [[0.8  0.2 ]
 [0.28 0.72]]
cm patient prob:
 [[23  7]
 [ 2 10]]
cm patient prob:
 [[0.77 0.23]
 [0.17 0.83]]
cm patient pos:
 [[23  7]
 [ 4  8]]
cm patient pos:
 [[0.77 0.23]
 [0.33 0.67]]
report image:
               precision    recall  f1-score   support

           0      0.791     0.798     0.794       738
           1      0.727     0.717     0.722       552

    accuracy                          0.764      1290
   macro avg      0.759     0.758     0.758      1290
weighted avg      0.763     0.764     0.763      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.920     0.767     0.836        30
         1.0      0.588     0.833     0.690        12

    accuracy                          0.786        42
   macro avg      0.754     0.800     0.763        42
weighted avg      0.825     0.786     0.794        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.852     0.767     0.807        30
         1.0      0.533     0.667     0.593        12

    accuracy                          0.738        42
   macro avg      0.693     0.717     0.700        42
weighted avg      0.761     0.738     0.746        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:44:52
val accuracy: None
val loss: None
prc image: 0.805
prc patient prob: 0.729
prc patient pos: 0.732
roc image:
        mean  95% CI -  95% CI +
AUC   0.728     0.727     0.729
TPR   0.720     0.715     0.724
TNR   0.622     0.618     0.627
THRE  0.256     0.242     0.271
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.784     0.779     0.788
TPR   0.855     0.847     0.863
TNR   0.668     0.660     0.677
THRE  0.316     0.306     0.327
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.774     0.770     0.778
TPR   0.811     0.802     0.821
TNR   0.700     0.691     0.710
THRE  0.356     0.342     0.370
cm image:
 [[ 761  550]
 [ 577 1752]]
cm image:
 [[0.58 0.42]
 [0.25 0.75]]
cm patient prob:
 [[25 27]
 [ 4 55]]
cm patient prob:
 [[0.48 0.52]
 [0.07 0.93]]
cm patient pos:
 [[24 28]
 [ 5 54]]
cm patient pos:
 [[0.46 0.54]
 [0.08 0.92]]
report image:
               precision    recall  f1-score   support

           0      0.569     0.580     0.575      1311
           1      0.761     0.752     0.757      2329

    accuracy                          0.690      3640
   macro avg      0.665     0.666     0.666      3640
weighted avg      0.692     0.690     0.691      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.862     0.481     0.617        52
         1.0      0.671     0.932     0.780        59

    accuracy                          0.721       111
   macro avg      0.766     0.706     0.699       111
weighted avg      0.760     0.721     0.704       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.828     0.462     0.593        52
         1.0      0.659     0.915     0.766        59

    accuracy                          0.703       111
   macro avg      0.743     0.688     0.679       111
weighted avg      0.738     0.703     0.685       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:46:39
val accuracy: None
val loss: None
prc image: 0.805
prc patient prob: 0.729
prc patient pos: 0.732
roc image:
        mean  95% CI -  95% CI +
AUC   0.728     0.727     0.729
TPR   0.720     0.715     0.724
TNR   0.622     0.618     0.627
THRE  0.256     0.242     0.271
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.784     0.779     0.788
TPR   0.855     0.847     0.863
TNR   0.668     0.660     0.677
THRE  0.316     0.306     0.327
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.774     0.770     0.778
TPR   0.811     0.802     0.821
TNR   0.700     0.691     0.710
THRE  0.356     0.342     0.370
cm image:
 [[ 802  509]
 [ 657 1672]]
cm image:
 [[0.61 0.39]
 [0.28 0.72]]
cm patient prob:
 [[30 22]
 [ 6 53]]
cm patient prob:
 [[0.58 0.42]
 [0.1  0.9 ]]
cm patient pos:
 [[31 21]
 [ 8 51]]
cm patient pos:
 [[0.6  0.4 ]
 [0.14 0.86]]
report image:
               precision    recall  f1-score   support

           0      0.550     0.612     0.579      1311
           1      0.767     0.718     0.741      2329

    accuracy                          0.680      3640
   macro avg      0.658     0.665     0.660      3640
weighted avg      0.688     0.680     0.683      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.833     0.577     0.682        52
         1.0      0.707     0.898     0.791        59

    accuracy                          0.748       111
   macro avg      0.770     0.738     0.736       111
weighted avg      0.766     0.748     0.740       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.795     0.596     0.681        52
         1.0      0.708     0.864     0.779        59

    accuracy                          0.739       111
   macro avg      0.752     0.730     0.730       111
weighted avg      0.749     0.739     0.733       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:47:29
val accuracy: None
val loss: None
prc image: 0.805
prc patient prob: 0.729
prc patient pos: 0.732
roc image:
        mean  95% CI -  95% CI +
AUC   0.728     0.727     0.729
TPR   0.720     0.715     0.724
TNR   0.622     0.618     0.627
THRE  0.256     0.242     0.271
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.784     0.779     0.788
TPR   0.855     0.847     0.863
TNR   0.668     0.660     0.677
THRE  0.316     0.306     0.327
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.774     0.770     0.778
TPR   0.811     0.802     0.821
TNR   0.700     0.691     0.710
THRE  0.356     0.342     0.370
cm image:
 [[ 761  550]
 [ 577 1752]]
cm image:
 [[0.58 0.42]
 [0.25 0.75]]
cm patient prob:
 [[25 27]
 [ 4 55]]
cm patient prob:
 [[0.48 0.52]
 [0.07 0.93]]
cm patient pos:
 [[24 28]
 [ 5 54]]
cm patient pos:
 [[0.46 0.54]
 [0.08 0.92]]
report image:
               precision    recall  f1-score   support

           0      0.569     0.580     0.575      1311
           1      0.761     0.752     0.757      2329

    accuracy                          0.690      3640
   macro avg      0.665     0.666     0.666      3640
weighted avg      0.692     0.690     0.691      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.862     0.481     0.617        52
         1.0      0.671     0.932     0.780        59

    accuracy                          0.721       111
   macro avg      0.766     0.706     0.699       111
weighted avg      0.760     0.721     0.704       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.828     0.462     0.593        52
         1.0      0.659     0.915     0.766        59

    accuracy                          0.703       111
   macro avg      0.743     0.688     0.679       111
weighted avg      0.738     0.703     0.685       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:48:07
val accuracy: None
val loss: None
prc image: 0.805
prc patient prob: 0.729
prc patient pos: 0.732
roc image:
        mean  95% CI -  95% CI +
AUC   0.728     0.727     0.729
TPR   0.720     0.715     0.724
TNR   0.622     0.618     0.627
THRE  0.256     0.242     0.271
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.784     0.779     0.788
TPR   0.855     0.847     0.863
TNR   0.668     0.660     0.677
THRE  0.316     0.306     0.327
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.774     0.770     0.778
TPR   0.811     0.802     0.821
TNR   0.700     0.691     0.710
THRE  0.356     0.342     0.370
cm image:
 [[ 802  509]
 [ 657 1672]]
cm image:
 [[0.61 0.39]
 [0.28 0.72]]
cm patient prob:
 [[30 22]
 [ 6 53]]
cm patient prob:
 [[0.58 0.42]
 [0.1  0.9 ]]
cm patient pos:
 [[31 21]
 [ 8 51]]
cm patient pos:
 [[0.6  0.4 ]
 [0.14 0.86]]
report image:
               precision    recall  f1-score   support

           0      0.550     0.612     0.579      1311
           1      0.767     0.718     0.741      2329

    accuracy                          0.680      3640
   macro avg      0.658     0.665     0.660      3640
weighted avg      0.688     0.680     0.683      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.833     0.577     0.682        52
         1.0      0.707     0.898     0.791        59

    accuracy                          0.748       111
   macro avg      0.770     0.738     0.736       111
weighted avg      0.766     0.748     0.740       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.795     0.596     0.681        52
         1.0      0.708     0.864     0.779        59

    accuracy                          0.739       111
   macro avg      0.752     0.730     0.730       111
weighted avg      0.749     0.739     0.733       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:50:10
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[603 135]
 [179 373]]
cm image:
 [[0.82 0.18]
 [0.32 0.68]]
cm patient prob:
 [[26  4]
 [ 4  8]]
cm patient prob:
 [[0.87 0.13]
 [0.33 0.67]]
cm patient pos:
 [[26  4]
 [ 4  8]]
cm patient pos:
 [[0.87 0.13]
 [0.33 0.67]]
report image:
               precision    recall  f1-score   support

           0      0.771     0.817     0.793       738
           1      0.734     0.676     0.704       552

    accuracy                          0.757      1290
   macro avg      0.753     0.746     0.749      1290
weighted avg      0.755     0.757     0.755      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.867     0.867     0.867        30
         1.0      0.667     0.667     0.667        12

    accuracy                          0.810        42
   macro avg      0.767     0.767     0.767        42
weighted avg      0.810     0.810     0.810        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.867     0.867     0.867        30
         1.0      0.667     0.667     0.667        12

    accuracy                          0.810        42
   macro avg      0.767     0.767     0.767        42
weighted avg      0.810     0.810     0.810        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:50:27
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[603 135]
 [179 373]]
cm image:
 [[0.82 0.18]
 [0.32 0.68]]
cm patient prob:
 [[26  4]
 [ 4  8]]
cm patient prob:
 [[0.87 0.13]
 [0.33 0.67]]
cm patient pos:
 [[26  4]
 [ 4  8]]
cm patient pos:
 [[0.87 0.13]
 [0.33 0.67]]
report image:
               precision    recall  f1-score   support

           0      0.771     0.817     0.793       738
           1      0.734     0.676     0.704       552

    accuracy                          0.757      1290
   macro avg      0.753     0.746     0.749      1290
weighted avg      0.755     0.757     0.755      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.867     0.867     0.867        30
         1.0      0.667     0.667     0.667        12

    accuracy                          0.810        42
   macro avg      0.767     0.767     0.767        42
weighted avg      0.810     0.810     0.810        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.867     0.867     0.867        30
         1.0      0.667     0.667     0.667        12

    accuracy                          0.810        42
   macro avg      0.767     0.767     0.767        42
weighted avg      0.810     0.810     0.810        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:53:14
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[706 125]
 [181 278]]
cm image:
 [[0.85 0.15]
 [0.39 0.61]]
cm patient prob:
 [[19  3]
 [ 7 13]]
cm patient prob:
 [[0.86 0.14]
 [0.35 0.65]]
cm patient pos:
 [[20  2]
 [ 7 13]]
cm patient pos:
 [[0.91 0.09]
 [0.35 0.65]]
report image:
               precision    recall  f1-score   support

           0      0.796     0.850     0.822       831
           1      0.690     0.606     0.645       459

    accuracy                          0.763      1290
   macro avg      0.743     0.728     0.733      1290
weighted avg      0.758     0.763     0.759      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.731     0.864     0.792        22
         1.0      0.812     0.650     0.722        20

    accuracy                          0.762        42
   macro avg      0.772     0.757     0.757        42
weighted avg      0.770     0.762     0.759        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.741     0.909     0.816        22
         1.0      0.867     0.650     0.743        20

    accuracy                          0.786        42
   macro avg      0.804     0.780     0.780        42
weighted avg      0.801     0.786     0.781        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:54:54
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[718 113]
 [195 264]]
cm image:
 [[0.86 0.14]
 [0.42 0.58]]
cm patient prob:
 [[21  1]
 [ 9 11]]
cm patient prob:
 [[0.95 0.05]
 [0.45 0.55]]
cm patient pos:
 [[21  1]
 [11  9]]
cm patient pos:
 [[0.95 0.05]
 [0.55 0.45]]
report image:
               precision    recall  f1-score   support

           0      0.786     0.864     0.823       831
           1      0.700     0.575     0.632       459

    accuracy                          0.761      1290
   macro avg      0.743     0.720     0.727      1290
weighted avg      0.756     0.761     0.755      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.700     0.955     0.808        22
         1.0      0.917     0.550     0.687        20

    accuracy                          0.762        42
   macro avg      0.808     0.752     0.748        42
weighted avg      0.803     0.762     0.750        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.656     0.955     0.778        22
         1.0      0.900     0.450     0.600        20

    accuracy                          0.714        42
   macro avg      0.778     0.702     0.689        42
weighted avg      0.772     0.714     0.693        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:55:35
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[689 142]
 [166 293]]
cm image:
 [[0.83 0.17]
 [0.36 0.64]]
cm patient prob:
 [[16  6]
 [ 4 16]]
cm patient prob:
 [[0.73 0.27]
 [0.2  0.8 ]]
cm patient pos:
 [[17  5]
 [ 5 15]]
cm patient pos:
 [[0.77 0.23]
 [0.25 0.75]]
report image:
               precision    recall  f1-score   support

           0      0.806     0.829     0.817       831
           1      0.674     0.638     0.655       459

    accuracy                          0.761      1290
   macro avg      0.740     0.734     0.736      1290
weighted avg      0.759     0.761     0.760      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.800     0.727     0.762        22
         1.0      0.727     0.800     0.762        20

    accuracy                          0.762        42
   macro avg      0.764     0.764     0.762        42
weighted avg      0.765     0.762     0.762        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.773     0.773     0.773        22
         1.0      0.750     0.750     0.750        20

    accuracy                          0.762        42
   macro avg      0.761     0.761     0.761        42
weighted avg      0.762     0.762     0.762        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:56:28
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[667 164]
 [153 306]]
cm image:
 [[0.8  0.2 ]
 [0.33 0.67]]
cm patient prob:
 [[16  6]
 [ 4 16]]
cm patient prob:
 [[0.73 0.27]
 [0.2  0.8 ]]
cm patient pos:
 [[16  6]
 [ 4 16]]
cm patient pos:
 [[0.73 0.27]
 [0.2  0.8 ]]
report image:
               precision    recall  f1-score   support

           0      0.813     0.803     0.808       831
           1      0.651     0.667     0.659       459

    accuracy                          0.754      1290
   macro avg      0.732     0.735     0.733      1290
weighted avg      0.756     0.754     0.755      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.800     0.727     0.762        22
         1.0      0.727     0.800     0.762        20

    accuracy                          0.762        42
   macro avg      0.764     0.764     0.762        42
weighted avg      0.765     0.762     0.762        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.800     0.727     0.762        22
         1.0      0.727     0.800     0.762        20

    accuracy                          0.762        42
   macro avg      0.764     0.764     0.762        42
weighted avg      0.765     0.762     0.762        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:57:01
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.821     0.820     0.823
TPR   0.724     0.721     0.728
TNR   0.769     0.766     0.773
THRE  0.131     0.124     0.138
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.821     0.814     0.827
TPR   0.790     0.781     0.799
TNR   0.884     0.878     0.891
THRE  0.400     0.394     0.406
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.794     0.787     0.800
TPR   0.734     0.723     0.745
TNR   0.881     0.872     0.889
THRE  0.370     0.360     0.380
cm image:
 [[689 142]
 [166 293]]
cm image:
 [[0.83 0.17]
 [0.36 0.64]]
cm patient prob:
 [[16  6]
 [ 4 16]]
cm patient prob:
 [[0.73 0.27]
 [0.2  0.8 ]]
cm patient pos:
 [[17  5]
 [ 5 15]]
cm patient pos:
 [[0.77 0.23]
 [0.25 0.75]]
report image:
               precision    recall  f1-score   support

           0      0.806     0.829     0.817       831
           1      0.674     0.638     0.655       459

    accuracy                          0.761      1290
   macro avg      0.740     0.734     0.736      1290
weighted avg      0.759     0.761     0.760      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.800     0.727     0.762        22
         1.0      0.727     0.800     0.762        20

    accuracy                          0.762        42
   macro avg      0.764     0.764     0.762        42
weighted avg      0.765     0.762     0.762        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.773     0.773     0.773        22
         1.0      0.750     0.750     0.750        20

    accuracy                          0.762        42
   macro avg      0.761     0.761     0.761        42
weighted avg      0.762     0.762     0.762        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:58:35
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.561
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.664     0.659     0.668
TNR   0.668     0.663     0.673
THRE  0.014     0.013     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.716     0.726
TPR   0.712     0.705     0.719
TNR   0.793     0.787     0.798
THRE  0.243     0.240     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.735     0.730     0.739
TPR   0.727     0.720     0.734
TNR   0.771     0.765     0.777
THRE  0.213     0.210     0.217
cm image:
 [[2240  423]
 [ 574  403]]
cm image:
 [[0.84 0.16]
 [0.59 0.41]]
cm patient prob:
 [[62 14]
 [17 18]]
cm patient prob:
 [[0.82 0.18]
 [0.49 0.51]]
cm patient pos:
 [[63 13]
 [17 18]]
cm patient pos:
 [[0.83 0.17]
 [0.49 0.51]]
report image:
               precision    recall  f1-score   support

           0      0.796     0.841     0.818      2663
           1      0.488     0.412     0.447       977

    accuracy                          0.726      3640
   macro avg      0.642     0.627     0.632      3640
weighted avg      0.713     0.726     0.718      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.785     0.816     0.800        76
         1.0      0.562     0.514     0.537        35

    accuracy                          0.721       111
   macro avg      0.674     0.665     0.669       111
weighted avg      0.715     0.721     0.717       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.787     0.829     0.808        76
         1.0      0.581     0.514     0.545        35

    accuracy                          0.730       111
   macro avg      0.684     0.672     0.677       111
weighted avg      0.722     0.730     0.725       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 18:59:48
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.561
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.664     0.659     0.668
TNR   0.668     0.663     0.673
THRE  0.014     0.013     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.716     0.726
TPR   0.712     0.705     0.719
TNR   0.793     0.787     0.798
THRE  0.243     0.240     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.735     0.730     0.739
TPR   0.727     0.720     0.734
TNR   0.771     0.765     0.777
THRE  0.213     0.210     0.217
cm image:
 [[2177  486]
 [ 535  442]]
cm image:
 [[0.82 0.18]
 [0.55 0.45]]
cm patient prob:
 [[55 21]
 [10 25]]
cm patient prob:
 [[0.72 0.28]
 [0.29 0.71]]
cm patient pos:
 [[56 20]
 [11 24]]
cm patient pos:
 [[0.74 0.26]
 [0.31 0.69]]
report image:
               precision    recall  f1-score   support

           0      0.803     0.817     0.810      2663
           1      0.476     0.452     0.464       977

    accuracy                          0.720      3640
   macro avg      0.640     0.635     0.637      3640
weighted avg      0.715     0.720     0.717      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.846     0.724     0.780        76
         1.0      0.543     0.714     0.617        35

    accuracy                          0.721       111
   macro avg      0.695     0.719     0.699       111
weighted avg      0.751     0.721     0.729       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.836     0.737     0.783        76
         1.0      0.545     0.686     0.608        35

    accuracy                          0.721       111
   macro avg      0.691     0.711     0.695       111
weighted avg      0.744     0.721     0.728       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 19:02:50
val accuracy: None
val loss: None
prc image: 0.5
prc patient prob: 0.72
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.751     0.754
TPR   0.653     0.645     0.661
TNR   0.741     0.733     0.749
THRE  0.897     0.885     0.908
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.850     0.843     0.857
TPR   0.818     0.806     0.829
TNR   0.877     0.867     0.886
THRE  0.861     0.853     0.869
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.833     0.824     0.841
TPR   0.746     0.732     0.760
TNR   0.927     0.918     0.935
THRE  0.442     0.428     0.456
cm image:
 [[649 362]
 [ 83 196]]
cm image:
 [[0.64 0.36]
 [0.3  0.7 ]]
cm patient prob:
 [[24  8]
 [ 2  8]]
cm patient prob:
 [[0.75 0.25]
 [0.2  0.8 ]]
cm patient pos:
 [[32  0]
 [ 8  2]]
cm patient pos:
 [[1.  0. ]
 [0.8 0.2]]
report image:
               precision    recall  f1-score   support

           0      0.887     0.642     0.745      1011
           1      0.351     0.703     0.468       279

    accuracy                          0.655      1290
   macro avg      0.619     0.672     0.607      1290
weighted avg      0.771     0.655     0.685      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.923     0.750     0.828        32
         1.0      0.500     0.800     0.615        10

    accuracy                          0.762        42
   macro avg      0.712     0.775     0.721        42
weighted avg      0.822     0.762     0.777        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.800     1.000     0.889        32
         1.0      1.000     0.200     0.333        10

    accuracy                          0.810        42
   macro avg      0.900     0.600     0.611        42
weighted avg      0.848     0.810     0.757        42

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 19:03:44
val accuracy: None
val loss: None
prc image: 0.208
prc patient prob: 0.302
prc patient pos: 0.31
roc image:
        mean  95% CI -  95% CI +
AUC   0.701     0.700     0.702
TPR   0.813     0.809     0.817
TNR   0.517     0.513     0.521
THRE  0.422     0.409     0.435
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.724     0.718     0.731
TPR   0.750     0.739     0.762
TNR   0.717     0.707     0.726
THRE  0.703     0.693     0.714
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.687     0.680     0.694
TPR   0.741     0.731     0.752
TNR   0.738     0.733     0.743
THRE  0.275     0.270     0.280
cm image:
 [[2129 1177]
 [ 122  212]]
cm image:
 [[0.64 0.36]
 [0.37 0.63]]
cm patient prob:
 [[73 21]
 [ 7 10]]
cm patient prob:
 [[0.78 0.22]
 [0.41 0.59]]
cm patient pos:
 [[90  4]
 [15  2]]
cm patient pos:
 [[0.96 0.04]
 [0.88 0.12]]
report image:
               precision    recall  f1-score   support

           0      0.946     0.644     0.766      3306
           1      0.153     0.635     0.246       334

    accuracy                          0.643      3640
   macro avg      0.549     0.639     0.506      3640
weighted avg      0.873     0.643     0.719      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.912     0.777     0.839        94
         1.0      0.323     0.588     0.417        17

    accuracy                          0.748       111
   macro avg      0.618     0.682     0.628       111
weighted avg      0.822     0.748     0.774       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.857     0.957     0.905        94
         1.0      0.333     0.118     0.174        17

    accuracy                          0.829       111
   macro avg      0.595     0.538     0.539       111
weighted avg      0.777     0.829     0.793       111

run model: ResNet50
saved model: tumor_fusion_radimagenet_fullimage_internaltestasvalidationResNet50_imagenet_21_0.75.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 20:12:00
val accuracy: None
val loss: None
prc image: 0.124
prc patient prob: 0.189
prc patient pos: 0.18
roc image:
        mean  95% CI -  95% CI +
AUC   0.624     0.622     0.625
TPR   0.841     0.834     0.848
TNR   0.375     0.367     0.383
THRE  0.004     0.004     0.005
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.571     0.564     0.578
TPR   0.569     0.548     0.589
TNR   0.723     0.702     0.744
THRE  0.385     0.368     0.402
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.492     0.484     0.500
TPR   0.385     0.373     0.397
TNR   0.864     0.859     0.869
THRE  0.380     0.359     0.400
cm image:
 [[2844  462]
 [ 261   73]]
cm image:
 [[0.86 0.14]
 [0.78 0.22]]
cm patient prob:
 [[90  4]
 [17  0]]
cm patient prob:
 [[0.96 0.04]
 [1.   0.  ]]
cm patient pos:
 [[90  4]
 [17  0]]
cm patient pos:
 [[0.96 0.04]
 [1.   0.  ]]
report image:
               precision    recall  f1-score   support

           0      0.916     0.860     0.887      3306
           1      0.136     0.219     0.168       334

    accuracy                          0.801      3640
   macro avg      0.526     0.539     0.528      3640
weighted avg      0.844     0.801     0.821      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.841     0.957     0.896        94
         1.0      0.000     0.000     0.000        17

    accuracy                          0.811       111
   macro avg      0.421     0.479     0.448       111
weighted avg      0.712     0.811     0.758       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.841     0.957     0.896        94
         1.0      0.000     0.000     0.000        17

    accuracy                          0.811       111
   macro avg      0.421     0.479     0.448       111
weighted avg      0.712     0.811     0.758       111

run model: ResNet50
saved model: tumor__wildtype_radimagenet_fusion_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_23_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 20:18:14
val accuracy: None
val loss: None
prc image: 0.253
prc patient prob: 0.274
prc patient pos: 0.353
roc image:
        mean  95% CI -  95% CI +
AUC   0.662     0.661     0.663
TPR   0.685     0.682     0.689
TNR   0.608     0.606     0.611
THRE  0.999     0.999     1.000
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.649     0.642     0.656
TPR   0.698     0.683     0.714
TNR   0.659     0.643     0.675
THRE  0.863     0.849     0.877
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.634     0.627     0.640
TPR   0.698     0.687     0.709
TNR   0.668     0.657     0.678
THRE  0.848     0.837     0.859
cm image:
 [[1335 1971]
 [  72  262]]
cm image:
 [[0.4  0.6 ]
 [0.22 0.78]]
cm patient prob:
 [[53 41]
 [ 6 11]]
cm patient prob:
 [[0.56 0.44]
 [0.35 0.65]]
cm patient pos:
 [[58 36]
 [ 6 11]]
cm patient pos:
 [[0.62 0.38]
 [0.35 0.65]]
report image:
               precision    recall  f1-score   support

           0      0.949     0.404     0.567      3306
           1      0.117     0.784     0.204       334

    accuracy                          0.439      3640
   macro avg      0.533     0.594     0.385      3640
weighted avg      0.873     0.439     0.533      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.898     0.564     0.693        94
         1.0      0.212     0.647     0.319        17

    accuracy                          0.577       111
   macro avg      0.555     0.605     0.506       111
weighted avg      0.793     0.577     0.636       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.906     0.617     0.734        94
         1.0      0.234     0.647     0.344        17

    accuracy                          0.622       111
   macro avg      0.570     0.632     0.539       111
weighted avg      0.803     0.622     0.674       111

run model: ResNet50
saved model: tumor__wildtype_radimagenet_fusion_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_23_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 20:19:44
val accuracy: None
val loss: None
prc image: 0.23
prc patient prob: 0.286
prc patient pos: 0.511
roc image:
        mean  95% CI -  95% CI +
AUC   0.733     0.731     0.734
TPR   0.709     0.705     0.712
TNR   0.668     0.664     0.671
THRE  0.944     0.938     0.950
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.733     0.727     0.739
TPR   0.764     0.753     0.776
TNR   0.728     0.718     0.738
THRE  0.793     0.781     0.804
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.747     0.741     0.753
TPR   0.766     0.756     0.777
TNR   0.731     0.720     0.741
THRE  0.753     0.736     0.770
cm image:
 [[1907 1399]
 [  75  259]]
cm image:
 [[0.58 0.42]
 [0.22 0.78]]
cm patient prob:
 [[67 27]
 [ 6 11]]
cm patient prob:
 [[0.71 0.29]
 [0.35 0.65]]
cm patient pos:
 [[72 22]
 [ 7 10]]
cm patient pos:
 [[0.77 0.23]
 [0.41 0.59]]
report image:
               precision    recall  f1-score   support

           0      0.962     0.577     0.721      3306
           1      0.156     0.775     0.260       334

    accuracy                          0.595      3640
   macro avg      0.559     0.676     0.491      3640
weighted avg      0.888     0.595     0.679      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.918     0.713     0.802        94
         1.0      0.289     0.647     0.400        17

    accuracy                          0.703       111
   macro avg      0.604     0.680     0.601       111
weighted avg      0.822     0.703     0.741       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.911     0.766     0.832        94
         1.0      0.312     0.588     0.408        17

    accuracy                          0.739       111
   macro avg      0.612     0.677     0.620       111
weighted avg      0.820     0.739     0.767       111

run model: ResNet50
saved model: tumor__wildtype_radimagenet_fusion_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_23_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 20:21:44
val accuracy: None
val loss: None
prc image: 0.717
prc patient prob: 0.648
prc patient pos: 0.641
roc image:
        mean  95% CI -  95% CI +
AUC   0.598     0.598     0.599
TPR   0.503     0.501     0.505
TNR   0.660     0.658     0.662
THRE  0.196     0.192     0.200
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.647     0.642     0.652
TPR   0.749     0.731     0.768
TNR   0.562     0.544     0.580
THRE  0.158     0.139     0.177
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.607     0.603     0.612
TPR   0.468     0.455     0.482
TNR   0.772     0.759     0.785
THRE  0.242     0.223     0.261
cm image:
 [[1056  255]
 [1643  686]]
cm image:
 [[0.81 0.19]
 [0.71 0.29]]
cm patient prob:
 [[50  2]
 [52  7]]
cm patient prob:
 [[0.96 0.04]
 [0.88 0.12]]
cm patient pos:
 [[50  2]
 [53  6]]
cm patient pos:
 [[0.96 0.04]
 [0.9  0.1 ]]
report image:
               precision    recall  f1-score   support

           0      0.391     0.805     0.527      1311
           1      0.729     0.295     0.420      2329

    accuracy                          0.479      3640
   macro avg      0.560     0.550     0.473      3640
weighted avg      0.607     0.479     0.458      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.490     0.962     0.649        52
         1.0      0.778     0.119     0.206        59

    accuracy                          0.514       111
   macro avg      0.634     0.540     0.428       111
weighted avg      0.643     0.514     0.414       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.485     0.962     0.645        52
         1.0      0.750     0.102     0.179        59

    accuracy                          0.505       111
   macro avg      0.618     0.532     0.412       111
weighted avg      0.626     0.505     0.397       111

run model: ResNet50
saved model: tumor__wildtype_radimagenet_fusion_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_23_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 20:26:38
val accuracy: None
val loss: None
prc image: 0.803
prc patient prob: 0.727
prc patient pos: 0.733
roc image:
        mean  95% CI -  95% CI +
AUC   0.726     0.725     0.727
TPR   0.721     0.716     0.726
TNR   0.620     0.615     0.625
THRE  0.268     0.252     0.285
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.782     0.778     0.786
TPR   0.868     0.860     0.876
TNR   0.652     0.643     0.661
THRE  0.298     0.287     0.309
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.778     0.774     0.782
TPR   0.847     0.839     0.854
TNR   0.678     0.670     0.687
THRE  0.221     0.212     0.229
cm image:
 [[ 957  354]
 [ 982 1347]]
cm image:
 [[0.73 0.27]
 [0.42 0.58]]
cm patient prob:
 [[47  5]
 [40 19]]
cm patient prob:
 [[0.9  0.1 ]
 [0.68 0.32]]
cm patient pos:
 [[48  4]
 [44 15]]
cm patient pos:
 [[0.92 0.08]
 [0.75 0.25]]
report image:
               precision    recall  f1-score   support

           0      0.494     0.730     0.589      1311
           1      0.792     0.578     0.668      2329

    accuracy                          0.633      3640
   macro avg      0.643     0.654     0.629      3640
weighted avg      0.684     0.633     0.640      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.540     0.904     0.676        52
         1.0      0.792     0.322     0.458        59

    accuracy                          0.595       111
   macro avg      0.666     0.613     0.567       111
weighted avg      0.674     0.595     0.560       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.522     0.923     0.667        52
         1.0      0.789     0.254     0.385        59

    accuracy                          0.568       111
   macro avg      0.656     0.589     0.526       111
weighted avg      0.664     0.568     0.517       111

run model: ResNet50
saved model: tumor__wildtype_radimagenet_fusion_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_23_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 20:27:24
val accuracy: None
val loss: None
prc image: 0.825
prc patient prob: 0.822
prc patient pos: 0.821
roc image:
        mean  95% CI -  95% CI +
AUC   0.739     0.739     0.740
TPR   0.622     0.618     0.627
TNR   0.733     0.728     0.737
THRE  0.066     0.059     0.073
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.777     0.773     0.780
TPR   0.700     0.690     0.711
TNR   0.766     0.756     0.776
THRE  0.219     0.206     0.232
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.759     0.755     0.763
TPR   0.661     0.652     0.669
TNR   0.817     0.810     0.825
THRE  0.176     0.166     0.185
cm image:
 [[1153  158]
 [1331  998]]
cm image:
 [[0.88 0.12]
 [0.57 0.43]]
cm patient prob:
 [[52  0]
 [46 13]]
cm patient prob:
 [[1.   0.  ]
 [0.78 0.22]]
cm patient pos:
 [[52  0]
 [51  8]]
cm patient pos:
 [[1.   0.  ]
 [0.86 0.14]]
report image:
               precision    recall  f1-score   support

           0      0.464     0.879     0.608      1311
           1      0.863     0.429     0.573      2329

    accuracy                          0.591      3640
   macro avg      0.664     0.654     0.590      3640
weighted avg      0.720     0.591     0.585      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.531     1.000     0.693        52
         1.0      1.000     0.220     0.361        59

    accuracy                          0.586       111
   macro avg      0.765     0.610     0.527       111
weighted avg      0.780     0.586     0.517       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.505     1.000     0.671        52
         1.0      1.000     0.136     0.239        59

    accuracy                          0.541       111
   macro avg      0.752     0.568     0.455       111
weighted avg      0.768     0.541     0.441       111

run model: ResNet50
saved model: tumor__wildtype_radimagenet_fusion_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_23_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 20:29:05
val accuracy: None
val loss: None
prc image: 0.393
prc patient prob: 0.507
prc patient pos: 0.496
roc image:
        mean  95% CI -  95% CI +
AUC   0.591     0.590     0.592
TPR   0.408     0.394     0.422
TNR   0.731     0.717     0.745
THRE  0.775     0.748     0.802
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.608     0.603     0.614
TPR   0.510     0.489     0.530
TNR   0.757     0.738     0.777
THRE  0.735     0.711     0.759
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.603     0.598     0.609
TPR   0.490     0.475     0.506
TNR   0.774     0.759     0.789
THRE  0.643     0.616     0.669
cm image:
 [[1842  821]
 [ 562  415]]
cm image:
 [[0.69 0.31]
 [0.58 0.42]]
cm patient prob:
 [[59 17]
 [21 14]]
cm patient prob:
 [[0.78 0.22]
 [0.6  0.4 ]]
cm patient pos:
 [[66 10]
 [23 12]]
cm patient pos:
 [[0.87 0.13]
 [0.66 0.34]]
report image:
               precision    recall  f1-score   support

           0      0.766     0.692     0.727      2663
           1      0.336     0.425     0.375       977

    accuracy                          0.620      3640
   macro avg      0.551     0.558     0.551      3640
weighted avg      0.651     0.620     0.633      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.738     0.776     0.756        76
         1.0      0.452     0.400     0.424        35

    accuracy                          0.658       111
   macro avg      0.595     0.588     0.590       111
weighted avg      0.647     0.658     0.652       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.742     0.868     0.800        76
         1.0      0.545     0.343     0.421        35

    accuracy                          0.703       111
   macro avg      0.644     0.606     0.611       111
weighted avg      0.680     0.703     0.681       111

run model: ResNet50
saved model: tumor__wildtype_radimagenet_fusion_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_23_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 20:30:05
val accuracy: None
val loss: None
prc image: 0.463
prc patient prob: 0.53
prc patient pos: 0.507
roc image:
        mean  95% CI -  95% CI +
AUC   0.667     0.666     0.668
TPR   0.576     0.569     0.582
TNR   0.692     0.686     0.698
THRE  0.150     0.140     0.160
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.662     0.657     0.667
TPR   0.571     0.560     0.583
TNR   0.777     0.767     0.787
THRE  0.398     0.388     0.409
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.590     0.585     0.596
TPR   0.528     0.518     0.537
TNR   0.806     0.800     0.812
THRE  0.297     0.289     0.305
cm image:
 [[2317  346]
 [ 637  340]]
cm image:
 [[0.87 0.13]
 [0.65 0.35]]
cm patient prob:
 [[75  1]
 [32  3]]
cm patient prob:
 [[0.99 0.01]
 [0.91 0.09]]
cm patient pos:
 [[76  0]
 [32  3]]
cm patient pos:
 [[1.   0.  ]
 [0.91 0.09]]
report image:
               precision    recall  f1-score   support

           0      0.784     0.870     0.825      2663
           1      0.496     0.348     0.409       977

    accuracy                          0.730      3640
   macro avg      0.640     0.609     0.617      3640
weighted avg      0.707     0.730     0.713      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.701     0.987     0.820        76
         1.0      0.750     0.086     0.154        35

    accuracy                          0.703       111
   macro avg      0.725     0.536     0.487       111
weighted avg      0.716     0.703     0.610       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.704     1.000     0.826        76
         1.0      1.000     0.086     0.158        35

    accuracy                          0.712       111
   macro avg      0.852     0.543     0.492       111
weighted avg      0.797     0.712     0.615       111

run model: ResNet50
saved model: tumor__wildtype_radimagenet_fusion_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_23_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-16 20:31:17
val accuracy: None
val loss: None
prc image: 0.47
prc patient prob: 0.572
prc patient pos: 0.523
roc image:
        mean  95% CI -  95% CI +
AUC   0.704     0.703     0.704
TPR   0.670     0.667     0.672
TNR   0.661     0.659     0.663
THRE  0.014     0.014     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.714     0.709     0.718
TPR   0.714     0.706     0.721
TNR   0.771     0.765     0.777
THRE  0.255     0.251     0.259
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.685     0.680     0.690
TPR   0.734     0.726     0.742
TNR   0.680     0.674     0.686
THRE  0.096     0.091     0.101
cm image:
 [[2380  283]
 [ 710  267]]
cm image:
 [[0.89 0.11]
 [0.73 0.27]]
cm patient prob:
 [[73  3]
 [29  6]]
cm patient prob:
 [[0.96 0.04]
 [0.83 0.17]]
cm patient pos:
 [[75  1]
 [30  5]]
cm patient pos:
 [[0.99 0.01]
 [0.86 0.14]]
report image:
               precision    recall  f1-score   support

           0      0.770     0.894     0.827      2663
           1      0.485     0.273     0.350       977

    accuracy                          0.727      3640
   macro avg      0.628     0.584     0.589      3640
weighted avg      0.694     0.727     0.699      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.716     0.961     0.820        76
         1.0      0.667     0.171     0.273        35

    accuracy                          0.712       111
   macro avg      0.691     0.566     0.546       111
weighted avg      0.700     0.712     0.648       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.714     0.987     0.829        76
         1.0      0.833     0.143     0.244        35

    accuracy                          0.721       111
   macro avg      0.774     0.565     0.536       111
weighted avg      0.752     0.721     0.644       111

run model: ResNet50
saved model: tumor__wildtype_radimagenet_fusion_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_23_0.73.h5
epoch: 50
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:32:16
val accuracy: None
val loss: None
prc image: 0.442
prc patient prob: 0.554
prc patient pos: 0.53
roc image:
        mean  95% CI -  95% CI +
AUC   0.678     0.677     0.679
TPR   0.664     0.655     0.673
TNR   0.589     0.580     0.597
THRE  0.405     0.384     0.426
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.694     0.688     0.700
TPR   0.636     0.624     0.649
TNR   0.769     0.757     0.781
THRE  0.688     0.675     0.701
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.659     0.653     0.665
TPR   0.638     0.628     0.647
TNR   0.764     0.756     0.772
THRE  0.725     0.716     0.734
cm image:
 [[1132  735]
 [ 231  388]]
cm image:
 [[0.61 0.39]
 [0.37 0.63]]
cm patient prob:
 [[35 19]
 [ 9 16]]
cm patient prob:
 [[0.65 0.35]
 [0.36 0.64]]
cm patient pos:
 [[33 21]
 [ 9 16]]
cm patient pos:
 [[0.61 0.39]
 [0.36 0.64]]
report image:
               precision    recall  f1-score   support

           0      0.831     0.606     0.701      1867
           1      0.346     0.627     0.445       619

    accuracy                          0.611      2486
   macro avg      0.588     0.617     0.573      2486
weighted avg      0.710     0.611     0.637      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.795     0.648     0.714        54
         1.0      0.457     0.640     0.533        25

    accuracy                          0.646        79
   macro avg      0.626     0.644     0.624        79
weighted avg      0.688     0.646     0.657        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.786     0.611     0.688        54
         1.0      0.432     0.640     0.516        25

    accuracy                          0.620        79
   macro avg      0.609     0.626     0.602        79
weighted avg      0.674     0.620     0.633        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:34:12
val accuracy: None
val loss: None
prc image: 0.442
prc patient prob: 0.554
prc patient pos: 0.595
roc image:
        mean  95% CI -  95% CI +
AUC   0.678     0.677     0.679
TPR   0.664     0.655     0.673
TNR   0.589     0.580     0.597
THRE  0.405     0.384     0.426
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.694     0.688     0.700
TPR   0.636     0.624     0.649
TNR   0.769     0.757     0.781
THRE  0.688     0.675     0.701
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.697     0.691     0.703
TPR   0.665     0.653     0.678
TNR   0.738     0.725     0.752
THRE  0.801     0.783     0.818
cm image:
 [[956 911]
 [176 443]]
cm image:
 [[0.51 0.49]
 [0.28 0.72]]
cm patient prob:
 [[17 37]
 [ 5 20]]
cm patient prob:
 [[0.31 0.69]
 [0.2  0.8 ]]
cm patient pos:
 [[13 41]
 [ 1 24]]
cm patient pos:
 [[0.24 0.76]
 [0.04 0.96]]
report image:
               precision    recall  f1-score   support

           0      0.845     0.512     0.638      1867
           1      0.327     0.716     0.449       619

    accuracy                          0.563      2486
   macro avg      0.586     0.614     0.543      2486
weighted avg      0.716     0.563     0.591      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.773     0.315     0.447        54
         1.0      0.351     0.800     0.488        25

    accuracy                          0.468        79
   macro avg      0.562     0.557     0.468        79
weighted avg      0.639     0.468     0.460        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.929     0.241     0.382        54
         1.0      0.369     0.960     0.533        25

    accuracy                          0.468        79
   macro avg      0.649     0.600     0.458        79
weighted avg      0.752     0.468     0.430        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:35:20
val accuracy: None
val loss: None
prc image: 0.442
prc patient prob: 0.554
prc patient pos: 0.531
roc image:
        mean  95% CI -  95% CI +
AUC   0.678     0.677     0.679
TPR   0.664     0.655     0.673
TNR   0.589     0.580     0.597
THRE  0.405     0.384     0.426
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.694     0.688     0.700
TPR   0.636     0.624     0.649
TNR   0.769     0.757     0.781
THRE  0.688     0.675     0.701
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.647     0.641     0.653
TPR   0.624     0.615     0.634
TNR   0.776     0.769     0.782
THRE  0.702     0.695     0.709
cm image:
 [[1178  689]
 [ 253  366]]
cm image:
 [[0.63 0.37]
 [0.41 0.59]]
cm patient prob:
 [[39 15]
 [ 9 16]]
cm patient prob:
 [[0.72 0.28]
 [0.36 0.64]]
cm patient pos:
 [[39 15]
 [ 9 16]]
cm patient pos:
 [[0.72 0.28]
 [0.36 0.64]]
report image:
               precision    recall  f1-score   support

           0      0.823     0.631     0.714      1867
           1      0.347     0.591     0.437       619

    accuracy                          0.621      2486
   macro avg      0.585     0.611     0.576      2486
weighted avg      0.705     0.621     0.645      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.812     0.722     0.765        54
         1.0      0.516     0.640     0.571        25

    accuracy                          0.696        79
   macro avg      0.664     0.681     0.668        79
weighted avg      0.719     0.696     0.704        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.812     0.722     0.765        54
         1.0      0.516     0.640     0.571        25

    accuracy                          0.696        79
   macro avg      0.664     0.681     0.668        79
weighted avg      0.719     0.696     0.704        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:36:36
val accuracy: None
val loss: None
prc image: 0.442
prc patient prob: 0.554
prc patient pos: 0.522
roc image:
        mean  95% CI -  95% CI +
AUC   0.678     0.677     0.679
TPR   0.664     0.655     0.673
TNR   0.589     0.580     0.597
THRE  0.405     0.384     0.426
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.694     0.688     0.700
TPR   0.636     0.624     0.649
TNR   0.769     0.757     0.781
THRE  0.688     0.675     0.701
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.652     0.646     0.658
TPR   0.616     0.606     0.625
TNR   0.783     0.776     0.790
THRE  0.630     0.621     0.639
cm image:
 [[1234  633]
 [ 269  350]]
cm image:
 [[0.66 0.34]
 [0.43 0.57]]
cm patient prob:
 [[40 14]
 [11 14]]
cm patient prob:
 [[0.74 0.26]
 [0.44 0.56]]
cm patient pos:
 [[43 11]
 [12 13]]
cm patient pos:
 [[0.8  0.2 ]
 [0.48 0.52]]
report image:
               precision    recall  f1-score   support

           0      0.821     0.661     0.732      1867
           1      0.356     0.565     0.437       619

    accuracy                          0.637      2486
   macro avg      0.589     0.613     0.585      2486
weighted avg      0.705     0.637     0.659      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.784     0.741     0.762        54
         1.0      0.500     0.560     0.528        25

    accuracy                          0.684        79
   macro avg      0.642     0.650     0.645        79
weighted avg      0.694     0.684     0.688        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.782     0.796     0.789        54
         1.0      0.542     0.520     0.531        25

    accuracy                          0.709        79
   macro avg      0.662     0.658     0.660        79
weighted avg      0.706     0.709     0.707        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:37:32
val accuracy: None
val loss: None
prc image: 0.442
prc patient prob: 0.554
prc patient pos: 0.531
roc image:
        mean  95% CI -  95% CI +
AUC   0.678     0.677     0.679
TPR   0.664     0.655     0.673
TNR   0.589     0.580     0.597
THRE  0.405     0.384     0.426
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.694     0.688     0.700
TPR   0.636     0.624     0.649
TNR   0.769     0.757     0.781
THRE  0.688     0.675     0.701
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.647     0.641     0.653
TPR   0.624     0.615     0.634
TNR   0.776     0.769     0.782
THRE  0.702     0.695     0.709
cm image:
 [[1178  689]
 [ 253  366]]
cm image:
 [[0.63 0.37]
 [0.41 0.59]]
cm patient prob:
 [[39 15]
 [ 9 16]]
cm patient prob:
 [[0.72 0.28]
 [0.36 0.64]]
cm patient pos:
 [[39 15]
 [ 9 16]]
cm patient pos:
 [[0.72 0.28]
 [0.36 0.64]]
report image:
               precision    recall  f1-score   support

           0      0.823     0.631     0.714      1867
           1      0.347     0.591     0.437       619

    accuracy                          0.621      2486
   macro avg      0.585     0.611     0.576      2486
weighted avg      0.705     0.621     0.645      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.812     0.722     0.765        54
         1.0      0.516     0.640     0.571        25

    accuracy                          0.696        79
   macro avg      0.664     0.681     0.668        79
weighted avg      0.719     0.696     0.704        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.812     0.722     0.765        54
         1.0      0.516     0.640     0.571        25

    accuracy                          0.696        79
   macro avg      0.664     0.681     0.668        79
weighted avg      0.719     0.696     0.704        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:38:27
val accuracy: None
val loss: None
prc image: 0.442
prc patient prob: 0.554
prc patient pos: 0.536
roc image:
        mean  95% CI -  95% CI +
AUC   0.678     0.677     0.679
TPR   0.664     0.655     0.673
TNR   0.589     0.580     0.597
THRE  0.405     0.384     0.426
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.694     0.688     0.700
TPR   0.636     0.624     0.649
TNR   0.769     0.757     0.781
THRE  0.688     0.675     0.701
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.669     0.663     0.674
TPR   0.648     0.639     0.658
TNR   0.764     0.756     0.772
THRE  0.763     0.752     0.775
cm image:
 [[1089  778]
 [ 214  405]]
cm image:
 [[0.58 0.42]
 [0.35 0.65]]
cm patient prob:
 [[29 25]
 [ 8 17]]
cm patient prob:
 [[0.54 0.46]
 [0.32 0.68]]
cm patient pos:
 [[27 27]
 [ 8 17]]
cm patient pos:
 [[0.5  0.5 ]
 [0.32 0.68]]
report image:
               precision    recall  f1-score   support

           0      0.836     0.583     0.687      1867
           1      0.342     0.654     0.450       619

    accuracy                          0.601      2486
   macro avg      0.589     0.619     0.568      2486
weighted avg      0.713     0.601     0.628      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.784     0.537     0.637        54
         1.0      0.405     0.680     0.507        25

    accuracy                          0.582        79
   macro avg      0.594     0.609     0.572        79
weighted avg      0.664     0.582     0.596        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.771     0.500     0.607        54
         1.0      0.386     0.680     0.493        25

    accuracy                          0.557        79
   macro avg      0.579     0.590     0.550        79
weighted avg      0.650     0.557     0.571        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:39:23
val accuracy: None
val loss: None
prc image: 0.442
prc patient prob: 0.554
prc patient pos: 0.587
roc image:
        mean  95% CI -  95% CI +
AUC   0.678     0.677     0.679
TPR   0.664     0.655     0.673
TNR   0.589     0.580     0.597
THRE  0.405     0.384     0.426
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.694     0.688     0.700
TPR   0.636     0.624     0.649
TNR   0.769     0.757     0.781
THRE  0.688     0.675     0.701
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.692     0.686     0.697
TPR   0.645     0.635     0.655
TNR   0.774     0.764     0.784
THRE  0.798     0.785     0.812
cm image:
 [[1042  825]
 [ 195  424]]
cm image:
 [[0.56 0.44]
 [0.32 0.68]]
cm patient prob:
 [[25 29]
 [ 7 18]]
cm patient prob:
 [[0.46 0.54]
 [0.28 0.72]]
cm patient pos:
 [[19 35]
 [ 6 19]]
cm patient pos:
 [[0.35 0.65]
 [0.24 0.76]]
report image:
               precision    recall  f1-score   support

           0      0.842     0.558     0.671      1867
           1      0.339     0.685     0.454       619

    accuracy                          0.590      2486
   macro avg      0.591     0.622     0.563      2486
weighted avg      0.717     0.590     0.617      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.781     0.463     0.581        54
         1.0      0.383     0.720     0.500        25

    accuracy                          0.544        79
   macro avg      0.582     0.591     0.541        79
weighted avg      0.655     0.544     0.556        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.760     0.352     0.481        54
         1.0      0.352     0.760     0.481        25

    accuracy                          0.481        79
   macro avg      0.556     0.556     0.481        79
weighted avg      0.631     0.481     0.481        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:40:18
val accuracy: None
val loss: None
prc image: 0.442
prc patient prob: 0.554
prc patient pos: 0.53
roc image:
        mean  95% CI -  95% CI +
AUC   0.678     0.677     0.679
TPR   0.664     0.655     0.673
TNR   0.589     0.580     0.597
THRE  0.405     0.384     0.426
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.694     0.688     0.700
TPR   0.636     0.624     0.649
TNR   0.769     0.757     0.781
THRE  0.688     0.675     0.701
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.659     0.653     0.665
TPR   0.638     0.628     0.647
TNR   0.764     0.756     0.772
THRE  0.725     0.716     0.734
cm image:
 [[1132  735]
 [ 231  388]]
cm image:
 [[0.61 0.39]
 [0.37 0.63]]
cm patient prob:
 [[35 19]
 [ 9 16]]
cm patient prob:
 [[0.65 0.35]
 [0.36 0.64]]
cm patient pos:
 [[33 21]
 [ 9 16]]
cm patient pos:
 [[0.61 0.39]
 [0.36 0.64]]
report image:
               precision    recall  f1-score   support

           0      0.831     0.606     0.701      1867
           1      0.346     0.627     0.445       619

    accuracy                          0.611      2486
   macro avg      0.588     0.617     0.573      2486
weighted avg      0.710     0.611     0.637      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.795     0.648     0.714        54
         1.0      0.457     0.640     0.533        25

    accuracy                          0.646        79
   macro avg      0.626     0.644     0.624        79
weighted avg      0.688     0.646     0.657        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.786     0.611     0.688        54
         1.0      0.432     0.640     0.516        25

    accuracy                          0.620        79
   macro avg      0.609     0.626     0.602        79
weighted avg      0.674     0.620     0.633        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:41:53
val accuracy: None
val loss: None
prc image: 0.096
prc patient prob: 0.165
prc patient pos: 0.292
roc image:
        mean  95% CI -  95% CI +
AUC   0.544     0.543     0.546
TPR   0.904     0.895     0.914
TNR   0.240     0.230     0.250
THRE  0.033     0.026     0.039
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.555     0.546     0.563
TPR   0.703     0.683     0.723
TNR   0.583     0.564     0.602
THRE  0.541     0.514     0.568
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.595     0.587     0.603
TPR   0.707     0.688     0.725
TNR   0.590     0.572     0.607
THRE  0.561     0.532     0.590
cm image:
 [[1245 1002]
 [ 118  121]]
cm image:
 [[0.55 0.45]
 [0.49 0.51]]
cm patient prob:
 [[39 28]
 [ 5  7]]
cm patient prob:
 [[0.58 0.42]
 [0.42 0.58]]
cm patient pos:
 [[37 30]
 [ 5  7]]
cm patient pos:
 [[0.55 0.45]
 [0.42 0.58]]
report image:
               precision    recall  f1-score   support

           0      0.913     0.554     0.690      2247
           1      0.108     0.506     0.178       239

    accuracy                          0.549      2486
   macro avg      0.511     0.530     0.434      2486
weighted avg      0.836     0.549     0.641      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.886     0.582     0.703        67
         1.0      0.200     0.583     0.298        12

    accuracy                          0.582        79
   macro avg      0.543     0.583     0.500        79
weighted avg      0.782     0.582     0.641        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.881     0.552     0.679        67
         1.0      0.189     0.583     0.286        12

    accuracy                          0.557        79
   macro avg      0.535     0.568     0.482        79
weighted avg      0.776     0.557     0.619        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:43:30
val accuracy: None
val loss: None
prc image: 0.096
prc patient prob: 0.165
prc patient pos: 0.262
roc image:
        mean  95% CI -  95% CI +
AUC   0.544     0.543     0.546
TPR   0.904     0.895     0.914
TNR   0.240     0.230     0.250
THRE  0.033     0.026     0.039
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.555     0.546     0.563
TPR   0.703     0.683     0.723
TNR   0.583     0.564     0.602
THRE  0.541     0.514     0.568
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.605     0.597     0.613
TPR   0.702     0.682     0.722
TNR   0.611     0.592     0.630
THRE  0.553     0.523     0.583
cm image:
 [[1308  939]
 [ 123  116]]
cm image:
 [[0.58 0.42]
 [0.51 0.49]]
cm patient prob:
 [[41 26]
 [ 7  5]]
cm patient prob:
 [[0.61 0.39]
 [0.58 0.42]]
cm patient pos:
 [[41 26]
 [ 7  5]]
cm patient pos:
 [[0.61 0.39]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.914     0.582     0.711      2247
           1      0.110     0.485     0.179       239

    accuracy                          0.573      2486
   macro avg      0.512     0.534     0.445      2486
weighted avg      0.837     0.573     0.660      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.854     0.612     0.713        67
         1.0      0.161     0.417     0.233        12

    accuracy                          0.582        79
   macro avg      0.508     0.514     0.473        79
weighted avg      0.749     0.582     0.640        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.854     0.612     0.713        67
         1.0      0.161     0.417     0.233        12

    accuracy                          0.582        79
   macro avg      0.508     0.514     0.473        79
weighted avg      0.749     0.582     0.640        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:44:45
val accuracy: None
val loss: None
prc image: 0.096
prc patient prob: 0.165
prc patient pos: 0.208
roc image:
        mean  95% CI -  95% CI +
AUC   0.544     0.543     0.546
TPR   0.904     0.895     0.914
TNR   0.240     0.230     0.250
THRE  0.033     0.026     0.039
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.555     0.546     0.563
TPR   0.703     0.683     0.723
TNR   0.583     0.564     0.602
THRE  0.541     0.514     0.568
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.580     0.573     0.587
TPR   0.784     0.767     0.801
TNR   0.520     0.505     0.534
THRE  0.288     0.264     0.312
cm image:
 [[1485  762]
 [ 155   84]]
cm image:
 [[0.66 0.34]
 [0.65 0.35]]
cm patient prob:
 [[52 15]
 [ 7  5]]
cm patient prob:
 [[0.78 0.22]
 [0.58 0.42]]
cm patient pos:
 [[57 10]
 [ 9  3]]
cm patient pos:
 [[0.85 0.15]
 [0.75 0.25]]
report image:
               precision    recall  f1-score   support

           0      0.905     0.661     0.764      2247
           1      0.099     0.351     0.155       239

    accuracy                          0.631      2486
   macro avg      0.502     0.506     0.459      2486
weighted avg      0.828     0.631     0.706      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.881     0.776     0.825        67
         1.0      0.250     0.417     0.312        12

    accuracy                          0.722        79
   macro avg      0.566     0.596     0.569        79
weighted avg      0.785     0.722     0.747        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.864     0.851     0.857        67
         1.0      0.231     0.250     0.240        12

    accuracy                          0.759        79
   macro avg      0.547     0.550     0.549        79
weighted avg      0.768     0.759     0.763        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:45:42
val accuracy: None
val loss: None
prc image: 0.096
prc patient prob: 0.165
prc patient pos: 0.277
roc image:
        mean  95% CI -  95% CI +
AUC   0.544     0.543     0.546
TPR   0.904     0.895     0.914
TNR   0.240     0.230     0.250
THRE  0.033     0.026     0.039
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.555     0.546     0.563
TPR   0.703     0.683     0.723
TNR   0.583     0.564     0.602
THRE  0.541     0.514     0.568
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.572     0.564     0.580
TPR   0.734     0.718     0.749
TNR   0.568     0.554     0.582
THRE  0.682     0.660     0.704
cm image:
 [[1043 1204]
 [  89  150]]
cm image:
 [[0.46 0.54]
 [0.37 0.63]]
cm patient prob:
 [[20 47]
 [ 2 10]]
cm patient prob:
 [[0.3  0.7 ]
 [0.17 0.83]]
cm patient pos:
 [[13 54]
 [ 1 11]]
cm patient pos:
 [[0.19 0.81]
 [0.08 0.92]]
report image:
               precision    recall  f1-score   support

           0      0.921     0.464     0.617      2247
           1      0.111     0.628     0.188       239

    accuracy                          0.480      2486
   macro avg      0.516     0.546     0.403      2486
weighted avg      0.843     0.480     0.576      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.909     0.299     0.449        67
         1.0      0.175     0.833     0.290        12

    accuracy                          0.380        79
   macro avg      0.542     0.566     0.370        79
weighted avg      0.798     0.380     0.425        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.929     0.194     0.321        67
         1.0      0.169     0.917     0.286        12

    accuracy                          0.304        79
   macro avg      0.549     0.555     0.303        79
weighted avg      0.813     0.304     0.316        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:46:46
val accuracy: None
val loss: None
prc image: 0.096
prc patient prob: 0.165
prc patient pos: 0.292
roc image:
        mean  95% CI -  95% CI +
AUC   0.544     0.543     0.546
TPR   0.904     0.895     0.914
TNR   0.240     0.230     0.250
THRE  0.033     0.026     0.039
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.555     0.546     0.563
TPR   0.703     0.683     0.723
TNR   0.583     0.564     0.602
THRE  0.541     0.514     0.568
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.595     0.587     0.603
TPR   0.707     0.688     0.725
TNR   0.590     0.572     0.607
THRE  0.561     0.532     0.590
cm image:
 [[1245 1002]
 [ 118  121]]
cm image:
 [[0.55 0.45]
 [0.49 0.51]]
cm patient prob:
 [[39 28]
 [ 5  7]]
cm patient prob:
 [[0.58 0.42]
 [0.42 0.58]]
cm patient pos:
 [[37 30]
 [ 5  7]]
cm patient pos:
 [[0.55 0.45]
 [0.42 0.58]]
report image:
               precision    recall  f1-score   support

           0      0.913     0.554     0.690      2247
           1      0.108     0.506     0.178       239

    accuracy                          0.549      2486
   macro avg      0.511     0.530     0.434      2486
weighted avg      0.836     0.549     0.641      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.886     0.582     0.703        67
         1.0      0.200     0.583     0.298        12

    accuracy                          0.582        79
   macro avg      0.543     0.583     0.500        79
weighted avg      0.782     0.582     0.641        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.881     0.552     0.679        67
         1.0      0.189     0.583     0.286        12

    accuracy                          0.557        79
   macro avg      0.535     0.568     0.482        79
weighted avg      0.776     0.557     0.619        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.85.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:48:44
val accuracy: None
val loss: None
prc image: 0.838
prc patient prob: 0.783
prc patient pos: 0.793
roc image:
        mean  95% CI -  95% CI +
AUC   0.752     0.751     0.753
TPR   0.709     0.707     0.712
TNR   0.689     0.686     0.692
THRE  0.824     0.820     0.827
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.804     0.799     0.808
TPR   0.799     0.787     0.811
TNR   0.741     0.729     0.753
THRE  0.636     0.621     0.652
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.787     0.782     0.791
TPR   0.887     0.874     0.900
TNR   0.637     0.623     0.650
THRE  0.511     0.490     0.532
cm image:
 [[ 443  415]
 [ 290 1338]]
cm image:
 [[0.52 0.48]
 [0.18 0.82]]
cm patient prob:
 [[21 16]
 [ 6 36]]
cm patient prob:
 [[0.57 0.43]
 [0.14 0.86]]
cm patient pos:
 [[20 17]
 [ 6 36]]
cm patient pos:
 [[0.54 0.46]
 [0.14 0.86]]
report image:
               precision    recall  f1-score   support

           0      0.604     0.516     0.557       858
           1      0.763     0.822     0.791      1628

    accuracy                          0.716      2486
   macro avg      0.684     0.669     0.674      2486
weighted avg      0.708     0.716     0.711      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.778     0.568     0.656        37
         1.0      0.692     0.857     0.766        42

    accuracy                          0.722        79
   macro avg      0.735     0.712     0.711        79
weighted avg      0.732     0.722     0.715        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.769     0.541     0.635        37
         1.0      0.679     0.857     0.758        42

    accuracy                          0.709        79
   macro avg      0.724     0.699     0.696        79
weighted avg      0.721     0.709     0.700        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_wildtypecrosstrainResNet50__16_0.66.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:50:43
val accuracy: None
val loss: None
prc image: 0.838
prc patient prob: 0.783
prc patient pos: 0.816
roc image:
        mean  95% CI -  95% CI +
AUC   0.752     0.751     0.753
TPR   0.709     0.707     0.712
TNR   0.689     0.686     0.692
THRE  0.824     0.820     0.827
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.804     0.799     0.808
TPR   0.799     0.787     0.811
TNR   0.741     0.729     0.753
THRE  0.636     0.621     0.652
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.809     0.805     0.813
TPR   0.864     0.851     0.877
TNR   0.680     0.666     0.693
THRE  0.508     0.486     0.530
cm image:
 [[ 471  387]
 [ 327 1301]]
cm image:
 [[0.55 0.45]
 [0.2  0.8 ]]
cm patient prob:
 [[26 11]
 [ 8 34]]
cm patient prob:
 [[0.7  0.3 ]
 [0.19 0.81]]
cm patient pos:
 [[25 12]
 [ 8 34]]
cm patient pos:
 [[0.68 0.32]
 [0.19 0.81]]
report image:
               precision    recall  f1-score   support

           0      0.590     0.549     0.569       858
           1      0.771     0.799     0.785      1628

    accuracy                          0.713      2486
   macro avg      0.680     0.674     0.677      2486
weighted avg      0.708     0.713     0.710      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.765     0.703     0.732        37
         1.0      0.756     0.810     0.782        42

    accuracy                          0.759        79
   macro avg      0.760     0.756     0.757        79
weighted avg      0.760     0.759     0.759        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.758     0.676     0.714        37
         1.0      0.739     0.810     0.773        42

    accuracy                          0.747        79
   macro avg      0.748     0.743     0.744        79
weighted avg      0.748     0.747     0.745        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_wildtypecrosstrainResNet50__16_0.66.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:52:08
val accuracy: None
val loss: None
prc image: 0.838
prc patient prob: 0.783
prc patient pos: 0.781
roc image:
        mean  95% CI -  95% CI +
AUC   0.752     0.751     0.753
TPR   0.709     0.707     0.712
TNR   0.689     0.686     0.692
THRE  0.824     0.820     0.827
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.804     0.799     0.808
TPR   0.799     0.787     0.811
TNR   0.741     0.729     0.753
THRE  0.636     0.621     0.652
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.765     0.760     0.770
TPR   0.882     0.871     0.893
TNR   0.601     0.588     0.613
THRE  0.560     0.542     0.578
cm image:
 [[ 412  446]
 [ 258 1370]]
cm image:
 [[0.48 0.52]
 [0.16 0.84]]
cm patient prob:
 [[19 18]
 [ 4 38]]
cm patient prob:
 [[0.51 0.49]
 [0.1  0.9 ]]
cm patient pos:
 [[17 20]
 [ 4 38]]
cm patient pos:
 [[0.46 0.54]
 [0.1  0.9 ]]
report image:
               precision    recall  f1-score   support

           0      0.615     0.480     0.539       858
           1      0.754     0.842     0.796      1628

    accuracy                          0.717      2486
   macro avg      0.685     0.661     0.667      2486
weighted avg      0.706     0.717     0.707      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.826     0.514     0.633        37
         1.0      0.679     0.905     0.776        42

    accuracy                          0.722        79
   macro avg      0.752     0.709     0.704        79
weighted avg      0.748     0.722     0.709        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.810     0.459     0.586        37
         1.0      0.655     0.905     0.760        42

    accuracy                          0.696        79
   macro avg      0.732     0.682     0.673        79
weighted avg      0.727     0.696     0.679        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_wildtypecrosstrainResNet50__16_0.66.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:52:59
val accuracy: None
val loss: None
prc image: 0.838
prc patient prob: 0.783
prc patient pos: 0.793
roc image:
        mean  95% CI -  95% CI +
AUC   0.752     0.751     0.753
TPR   0.709     0.707     0.712
TNR   0.689     0.686     0.692
THRE  0.824     0.820     0.827
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.804     0.799     0.808
TPR   0.799     0.787     0.811
TNR   0.741     0.729     0.753
THRE  0.636     0.621     0.652
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.787     0.782     0.791
TPR   0.887     0.874     0.900
TNR   0.637     0.623     0.650
THRE  0.511     0.490     0.532
cm image:
 [[ 443  415]
 [ 290 1338]]
cm image:
 [[0.52 0.48]
 [0.18 0.82]]
cm patient prob:
 [[21 16]
 [ 6 36]]
cm patient prob:
 [[0.57 0.43]
 [0.14 0.86]]
cm patient pos:
 [[20 17]
 [ 6 36]]
cm patient pos:
 [[0.54 0.46]
 [0.14 0.86]]
report image:
               precision    recall  f1-score   support

           0      0.604     0.516     0.557       858
           1      0.763     0.822     0.791      1628

    accuracy                          0.716      2486
   macro avg      0.684     0.669     0.674      2486
weighted avg      0.708     0.716     0.711      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.778     0.568     0.656        37
         1.0      0.692     0.857     0.766        42

    accuracy                          0.722        79
   macro avg      0.735     0.712     0.711        79
weighted avg      0.732     0.722     0.715        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.769     0.541     0.635        37
         1.0      0.679     0.857     0.758        42

    accuracy                          0.709        79
   macro avg      0.724     0.699     0.696        79
weighted avg      0.721     0.709     0.700        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_wildtypecrosstrainResNet50__16_0.66.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:55:17
val accuracy: None
val loss: None
prc image: 0.838
prc patient prob: 0.783
prc patient pos: 0.82
roc image:
        mean  95% CI -  95% CI +
AUC   0.752     0.751     0.753
TPR   0.709     0.707     0.712
TNR   0.689     0.686     0.692
THRE  0.824     0.820     0.827
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.804     0.799     0.808
TPR   0.799     0.787     0.811
TNR   0.741     0.729     0.753
THRE  0.636     0.621     0.652
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.830     0.826     0.834
TPR   0.879     0.873     0.885
TNR   0.754     0.747     0.760
THRE  0.383     0.374     0.391
cm image:
 [[ 569  289]
 [ 444 1184]]
cm image:
 [[0.66 0.34]
 [0.27 0.73]]
cm patient prob:
 [[29  8]
 [18 24]]
cm patient prob:
 [[0.78 0.22]
 [0.43 0.57]]
cm patient pos:
 [[33  4]
 [19 23]]
cm patient pos:
 [[0.89 0.11]
 [0.45 0.55]]
report image:
               precision    recall  f1-score   support

           0      0.562     0.663     0.608       858
           1      0.804     0.727     0.764      1628

    accuracy                          0.705      2486
   macro avg      0.683     0.695     0.686      2486
weighted avg      0.720     0.705     0.710      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.617     0.784     0.690        37
         1.0      0.750     0.571     0.649        42

    accuracy                          0.671        79
   macro avg      0.684     0.678     0.670        79
weighted avg      0.688     0.671     0.668        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.635     0.892     0.742        37
         1.0      0.852     0.548     0.667        42

    accuracy                          0.709        79
   macro avg      0.743     0.720     0.704        79
weighted avg      0.750     0.709     0.702        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_wildtypecrosstrainResNet50__16_0.66.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 15:56:08
val accuracy: None
val loss: None
prc image: 0.838
prc patient prob: 0.783
prc patient pos: 0.793
roc image:
        mean  95% CI -  95% CI +
AUC   0.752     0.751     0.753
TPR   0.709     0.707     0.712
TNR   0.689     0.686     0.692
THRE  0.824     0.820     0.827
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.804     0.799     0.808
TPR   0.799     0.787     0.811
TNR   0.741     0.729     0.753
THRE  0.636     0.621     0.652
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.787     0.782     0.791
TPR   0.887     0.874     0.900
TNR   0.637     0.623     0.650
THRE  0.511     0.490     0.532
cm image:
 [[ 443  415]
 [ 290 1338]]
cm image:
 [[0.52 0.48]
 [0.18 0.82]]
cm patient prob:
 [[21 16]
 [ 6 36]]
cm patient prob:
 [[0.57 0.43]
 [0.14 0.86]]
cm patient pos:
 [[20 17]
 [ 6 36]]
cm patient pos:
 [[0.54 0.46]
 [0.14 0.86]]
report image:
               precision    recall  f1-score   support

           0      0.604     0.516     0.557       858
           1      0.763     0.822     0.791      1628

    accuracy                          0.716      2486
   macro avg      0.684     0.669     0.674      2486
weighted avg      0.708     0.716     0.711      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.778     0.568     0.656        37
         1.0      0.692     0.857     0.766        42

    accuracy                          0.722        79
   macro avg      0.735     0.712     0.711        79
weighted avg      0.732     0.722     0.715        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.769     0.541     0.635        37
         1.0      0.679     0.857     0.758        42

    accuracy                          0.709        79
   macro avg      0.724     0.699     0.696        79
weighted avg      0.721     0.709     0.700        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_wildtypecrosstrainResNet50__16_0.66.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 16:13:46
val accuracy: None
val loss: None
prc image: 0.487
prc patient prob: 0.628
prc patient pos: 0.593
roc image:
        mean  95% CI -  95% CI +
AUC   0.744     0.743     0.745
TPR   0.755     0.751     0.759
TNR   0.613     0.609     0.617
THRE  0.095     0.090     0.100
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.773     0.768     0.779
TPR   0.785     0.773     0.797
TNR   0.715     0.703     0.727
THRE  0.405     0.389     0.421
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.748     0.743     0.754
TPR   0.769     0.756     0.781
TNR   0.709     0.696     0.722
THRE  0.421     0.403     0.438
cm image:
 [[1382  485]
 [ 259  360]]
cm image:
 [[0.74 0.26]
 [0.42 0.58]]
cm patient prob:
 [[41 13]
 [11 14]]
cm patient prob:
 [[0.76 0.24]
 [0.44 0.56]]
cm patient pos:
 [[41 13]
 [11 14]]
cm patient pos:
 [[0.76 0.24]
 [0.44 0.56]]
report image:
               precision    recall  f1-score   support

           0      0.842     0.740     0.788      1867
           1      0.426     0.582     0.492       619

    accuracy                          0.701      2486
   macro avg      0.634     0.661     0.640      2486
weighted avg      0.739     0.701     0.714      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.788     0.759     0.774        54
         1.0      0.519     0.560     0.538        25

    accuracy                          0.696        79
   macro avg      0.653     0.660     0.656        79
weighted avg      0.703     0.696     0.699        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.788     0.759     0.774        54
         1.0      0.519     0.560     0.538        25

    accuracy                          0.696        79
   macro avg      0.653     0.660     0.656        79
weighted avg      0.703     0.696     0.699        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__01_0.74.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 16:17:20
val accuracy: None
val loss: None
prc image: 0.454
prc patient prob: 0.599
prc patient pos: 0.647
roc image:
        mean  95% CI -  95% CI +
AUC   0.722     0.721     0.723
TPR   0.751     0.747     0.754
TNR   0.596     0.593     0.600
THRE  0.346     0.334     0.357
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.760     0.755     0.766
TPR   0.759     0.746     0.772
TNR   0.717     0.703     0.731
THRE  0.574     0.557     0.590
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.776     0.771     0.781
TPR   0.747     0.736     0.758
TNR   0.753     0.740     0.766
THRE  0.642     0.624     0.659
cm image:
 [[1174  693]
 [ 183  436]]
cm image:
 [[0.63 0.37]
 [0.3  0.7 ]]
cm patient prob:
 [[35 19]
 [ 6 19]]
cm patient prob:
 [[0.65 0.35]
 [0.24 0.76]]
cm patient pos:
 [[34 20]
 [ 6 19]]
cm patient pos:
 [[0.63 0.37]
 [0.24 0.76]]
report image:
               precision    recall  f1-score   support

           0      0.865     0.629     0.728      1867
           1      0.386     0.704     0.499       619

    accuracy                          0.648      2486
   macro avg      0.626     0.667     0.614      2486
weighted avg      0.746     0.648     0.671      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.854     0.648     0.737        54
         1.0      0.500     0.760     0.603        25

    accuracy                          0.684        79
   macro avg      0.677     0.704     0.670        79
weighted avg      0.742     0.684     0.695        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.850     0.630     0.723        54
         1.0      0.487     0.760     0.594        25

    accuracy                          0.671        79
   macro avg      0.669     0.695     0.659        79
weighted avg      0.735     0.671     0.682        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__02_0.75.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 16:20:34
val accuracy: None
val loss: None
prc image: 0.451
prc patient prob: 0.579
prc patient pos: 0.582
roc image:
        mean  95% CI -  95% CI +
AUC   0.711     0.710     0.712
TPR   0.765     0.762     0.769
TNR   0.559     0.555     0.562
THRE  0.287     0.278     0.296
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.743     0.737     0.748
TPR   0.761     0.746     0.775
TNR   0.683     0.666     0.699
THRE  0.550     0.531     0.570
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.742     0.737     0.747
TPR   0.802     0.789     0.815
TNR   0.641     0.626     0.657
THRE  0.520     0.500     0.541
cm image:
 [[1148  719]
 [ 199  420]]
cm image:
 [[0.61 0.39]
 [0.32 0.68]]
cm patient prob:
 [[33 21]
 [ 7 18]]
cm patient prob:
 [[0.61 0.39]
 [0.28 0.72]]
cm patient pos:
 [[33 21]
 [ 8 17]]
cm patient pos:
 [[0.61 0.39]
 [0.32 0.68]]
report image:
               precision    recall  f1-score   support

           0      0.852     0.615     0.714      1867
           1      0.369     0.679     0.478       619

    accuracy                          0.631      2486
   macro avg      0.611     0.647     0.596      2486
weighted avg      0.732     0.631     0.655      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.825     0.611     0.702        54
         1.0      0.462     0.720     0.562        25

    accuracy                          0.646        79
   macro avg      0.643     0.666     0.632        79
weighted avg      0.710     0.646     0.658        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.805     0.611     0.695        54
         1.0      0.447     0.680     0.540        25

    accuracy                          0.633        79
   macro avg      0.626     0.646     0.617        79
weighted avg      0.692     0.633     0.646        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__03_0.75.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 16:22:45
val accuracy: None
val loss: None
prc image: 0.457
prc patient prob: 0.578
prc patient pos: 0.546
roc image:
        mean  95% CI -  95% CI +
AUC   0.707     0.706     0.708
TPR   0.813     0.808     0.818
TNR   0.494     0.489     0.499
THRE  0.142     0.133     0.150
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.719     0.713     0.724
TPR   0.708     0.695     0.721
TNR   0.725     0.710     0.739
THRE  0.599     0.583     0.615
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.687     0.682     0.693
TPR   0.700     0.688     0.711
TNR   0.704     0.693     0.714
THRE  0.632     0.618     0.647
cm image:
 [[1137  730]
 [ 215  404]]
cm image:
 [[0.61 0.39]
 [0.35 0.65]]
cm patient prob:
 [[33 21]
 [ 7 18]]
cm patient prob:
 [[0.61 0.39]
 [0.28 0.72]]
cm patient pos:
 [[32 22]
 [ 7 18]]
cm patient pos:
 [[0.59 0.41]
 [0.28 0.72]]
report image:
               precision    recall  f1-score   support

           0      0.841     0.609     0.706      1867
           1      0.356     0.653     0.461       619

    accuracy                          0.620      2486
   macro avg      0.599     0.631     0.584      2486
weighted avg      0.720     0.620     0.645      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.825     0.611     0.702        54
         1.0      0.462     0.720     0.562        25

    accuracy                          0.646        79
   macro avg      0.643     0.666     0.632        79
weighted avg      0.710     0.646     0.658        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.821     0.593     0.688        54
         1.0      0.450     0.720     0.554        25

    accuracy                          0.633        79
   macro avg      0.635     0.656     0.621        79
weighted avg      0.703     0.633     0.646        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__04_0.79.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 16:24:55
val accuracy: None
val loss: None
prc image: 0.447
prc patient prob: 0.58
prc patient pos: 0.544
roc image:
        mean  95% CI -  95% CI +
AUC   0.691     0.690     0.692
TPR   0.768     0.764     0.773
TNR   0.508     0.504     0.513
THRE  0.194     0.185     0.202
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.716     0.711     0.722
TPR   0.701     0.687     0.715
TNR   0.722     0.706     0.738
THRE  0.595     0.576     0.614
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.676     0.670     0.681
TPR   0.648     0.637     0.659
TNR   0.750     0.739     0.761
THRE  0.692     0.677     0.707
cm image:
 [[1126  741]
 [ 222  397]]
cm image:
 [[0.6  0.4 ]
 [0.36 0.64]]
cm patient prob:
 [[32 22]
 [ 9 16]]
cm patient prob:
 [[0.59 0.41]
 [0.36 0.64]]
cm patient pos:
 [[32 22]
 [ 8 17]]
cm patient pos:
 [[0.59 0.41]
 [0.32 0.68]]
report image:
               precision    recall  f1-score   support

           0      0.835     0.603     0.700      1867
           1      0.349     0.641     0.452       619

    accuracy                          0.613      2486
   macro avg      0.592     0.622     0.576      2486
weighted avg      0.714     0.613     0.639      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.780     0.593     0.674        54
         1.0      0.421     0.640     0.508        25

    accuracy                          0.608        79
   macro avg      0.601     0.616     0.591        79
weighted avg      0.667     0.608     0.621        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.800     0.593     0.681        54
         1.0      0.436     0.680     0.531        25

    accuracy                          0.620        79
   macro avg      0.618     0.636     0.606        79
weighted avg      0.685     0.620     0.634        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__06_0.81.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 16:27:42
val accuracy: None
val loss: None
prc image: 0.439
prc patient prob: 0.563
prc patient pos: 0.53
roc image:
        mean  95% CI -  95% CI +
AUC   0.678     0.677     0.679
TPR   0.679     0.670     0.688
TNR   0.571     0.562     0.580
THRE  0.374     0.352     0.395
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.695     0.689     0.701
TPR   0.658     0.644     0.671
TNR   0.745     0.731     0.759
THRE  0.663     0.647     0.679
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.659     0.653     0.665
TPR   0.643     0.634     0.653
TNR   0.759     0.750     0.767
THRE  0.719     0.709     0.730
cm image:
 [[1128  739]
 [ 230  389]]
cm image:
 [[0.6  0.4 ]
 [0.37 0.63]]
cm patient prob:
 [[34 20]
 [ 9 16]]
cm patient prob:
 [[0.63 0.37]
 [0.36 0.64]]
cm patient pos:
 [[33 21]
 [ 8 17]]
cm patient pos:
 [[0.61 0.39]
 [0.32 0.68]]
report image:
               precision    recall  f1-score   support

           0      0.831     0.604     0.700      1867
           1      0.345     0.628     0.445       619

    accuracy                          0.610      2486
   macro avg      0.588     0.616     0.572      2486
weighted avg      0.710     0.610     0.636      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.791     0.630     0.701        54
         1.0      0.444     0.640     0.525        25

    accuracy                          0.633        79
   macro avg      0.618     0.635     0.613        79
weighted avg      0.681     0.633     0.645        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.805     0.611     0.695        54
         1.0      0.447     0.680     0.540        25

    accuracy                          0.633        79
   macro avg      0.626     0.646     0.617        79
weighted avg      0.692     0.633     0.646        79

run model: ResNet50
saved model: tumor_external_finetune_wildtype_fusioncrosstrainResNet50__08_0.84.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 16:51:31
val accuracy: None
val loss: None
prc image: 0.247
prc patient prob: 0.264
prc patient pos: 0.424
roc image:
        mean  95% CI -  95% CI +
AUC   0.779     0.778     0.781
TPR   0.891     0.888     0.894
TNR   0.590     0.586     0.593
THRE  0.265     0.252     0.278
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.703     0.695     0.710
TPR   0.769     0.755     0.782
TNR   0.709     0.697     0.721
THRE  0.667     0.652     0.681
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.709     0.701     0.717
TPR   0.777     0.764     0.789
TNR   0.704     0.693     0.714
THRE  0.686     0.671     0.702
cm image:
 [[1452  795]
 [  49  190]]
cm image:
 [[0.65 0.35]
 [0.21 0.79]]
cm patient prob:
 [[40 27]
 [ 3  9]]
cm patient prob:
 [[0.6  0.4 ]
 [0.25 0.75]]
cm patient pos:
 [[41 26]
 [ 3  9]]
cm patient pos:
 [[0.61 0.39]
 [0.25 0.75]]
report image:
               precision    recall  f1-score   support

           0      0.967     0.646     0.775      2247
           1      0.193     0.795     0.310       239

    accuracy                          0.660      2486
   macro avg      0.580     0.721     0.543      2486
weighted avg      0.893     0.660     0.730      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.930     0.597     0.727        67
         1.0      0.250     0.750     0.375        12

    accuracy                          0.620        79
   macro avg      0.590     0.674     0.551        79
weighted avg      0.827     0.620     0.674        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.932     0.612     0.739        67
         1.0      0.257     0.750     0.383        12

    accuracy                          0.633        79
   macro avg      0.594     0.681     0.561        79
weighted avg      0.829     0.633     0.685        79

run model: ResNet50
saved model: tumor_external_finetune_v600e_fusioncrosstrainResNet50__01_0.79.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 17:07:00
val accuracy: None
val loss: None
prc image: 0.247
prc patient prob: 0.264
prc patient pos: 0.424
roc image:
        mean  95% CI -  95% CI +
AUC   0.779     0.778     0.781
TPR   0.891     0.888     0.894
TNR   0.589     0.586     0.592
THRE  0.264     0.252     0.277
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.704     0.697     0.712
TPR   0.774     0.760     0.787
TNR   0.706     0.693     0.718
THRE  0.663     0.648     0.678
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.709     0.701     0.717
TPR   0.777     0.764     0.789
TNR   0.704     0.693     0.714
THRE  0.686     0.671     0.702
cm image:
 [[1452  795]
 [  49  190]]
cm image:
 [[0.65 0.35]
 [0.21 0.79]]
cm patient prob:
 [[40 27]
 [ 3  9]]
cm patient prob:
 [[0.6  0.4 ]
 [0.25 0.75]]
cm patient pos:
 [[41 26]
 [ 3  9]]
cm patient pos:
 [[0.61 0.39]
 [0.25 0.75]]
report image:
               precision    recall  f1-score   support

           0      0.967     0.646     0.775      2247
           1      0.193     0.795     0.310       239

    accuracy                          0.660      2486
   macro avg      0.580     0.721     0.543      2486
weighted avg      0.893     0.660     0.730      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.930     0.597     0.727        67
         1.0      0.250     0.750     0.375        12

    accuracy                          0.620        79
   macro avg      0.590     0.674     0.551        79
weighted avg      0.827     0.620     0.674        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.932     0.612     0.739        67
         1.0      0.257     0.750     0.383        12

    accuracy                          0.633        79
   macro avg      0.594     0.681     0.561        79
weighted avg      0.829     0.633     0.685        79

run model: ResNet50
saved model: tumor_external_finetune_v600e_fusioncrosstrainResNet50__01_0.77.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 17:09:43
val accuracy: None
val loss: None
prc image: 0.24
prc patient prob: 0.236
prc patient pos: 0.257
roc image:
        mean  95% CI -  95% CI +
AUC   0.781     0.779     0.782
TPR   0.886     0.883     0.889
TNR   0.604     0.601     0.607
THRE  0.079     0.075     0.082
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.655     0.647     0.662
TPR   0.694     0.676     0.711
TNR   0.707     0.690     0.725
THRE  0.588     0.564     0.612
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.616     0.607     0.626
TPR   0.615     0.599     0.632
TNR   0.769     0.758     0.781
THRE  0.667     0.643     0.691
cm image:
 [[1612  635]
 [  83  156]]
cm image:
 [[0.72 0.28]
 [0.35 0.65]]
cm patient prob:
 [[47 20]
 [ 5  7]]
cm patient prob:
 [[0.7  0.3 ]
 [0.42 0.58]]
cm patient pos:
 [[47 20]
 [ 5  7]]
cm patient pos:
 [[0.7  0.3 ]
 [0.42 0.58]]
report image:
               precision    recall  f1-score   support

           0      0.951     0.717     0.818      2247
           1      0.197     0.653     0.303       239

    accuracy                          0.711      2486
   macro avg      0.574     0.685     0.560      2486
weighted avg      0.879     0.711     0.768      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.904     0.701     0.790        67
         1.0      0.259     0.583     0.359        12

    accuracy                          0.684        79
   macro avg      0.582     0.642     0.574        79
weighted avg      0.806     0.684     0.724        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.904     0.701     0.790        67
         1.0      0.259     0.583     0.359        12

    accuracy                          0.684        79
   macro avg      0.582     0.642     0.574        79
weighted avg      0.806     0.684     0.724        79

run model: ResNet50
saved model: tumor_external_finetune_v600e_fusioncrosstrainResNet50__02_0.77.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 17:19:47
val accuracy: None
val loss: None
prc image: 0.21
prc patient prob: 0.257
prc patient pos: 0.349
roc image:
        mean  95% CI -  95% CI +
AUC   0.750     0.749     0.752
TPR   0.696     0.690     0.701
TNR   0.723     0.718     0.729
THRE  0.096     0.082     0.110
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.665     0.656     0.674
TPR   0.706     0.691     0.722
TNR   0.731     0.718     0.744
THRE  0.455     0.431     0.480
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.660     0.652     0.668
TPR   0.653     0.638     0.668
TNR   0.760     0.750     0.770
THRE  0.531     0.507     0.555
cm image:
 [[1783  464]
 [  97  142]]
cm image:
 [[0.79 0.21]
 [0.41 0.59]]
cm patient prob:
 [[50 17]
 [ 6  6]]
cm patient prob:
 [[0.75 0.25]
 [0.5  0.5 ]]
cm patient pos:
 [[50 17]
 [ 6  6]]
cm patient pos:
 [[0.75 0.25]
 [0.5  0.5 ]]
report image:
               precision    recall  f1-score   support

           0      0.948     0.794     0.864      2247
           1      0.234     0.594     0.336       239

    accuracy                          0.774      2486
   macro avg      0.591     0.694     0.600      2486
weighted avg      0.880     0.774     0.813      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.893     0.746     0.813        67
         1.0      0.261     0.500     0.343        12

    accuracy                          0.709        79
   macro avg      0.577     0.623     0.578        79
weighted avg      0.797     0.709     0.742        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.893     0.746     0.813        67
         1.0      0.261     0.500     0.343        12

    accuracy                          0.709        79
   macro avg      0.577     0.623     0.578        79
weighted avg      0.797     0.709     0.742        79

run model: ResNet50
saved model: tumor_external_finetune_v600e_fusioncrosstrainResNet50__26_0.72.h5
epoch: 30
learning rate: 0.001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 17:33:59
val accuracy: None
val loss: None
prc image: 0.247
prc patient prob: 0.265
prc patient pos: 0.424
roc image:
        mean  95% CI -  95% CI +
AUC   0.779     0.778     0.781
TPR   0.891     0.888     0.894
TNR   0.590     0.586     0.593
THRE  0.270     0.257     0.283
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.705     0.698     0.713
TPR   0.775     0.761     0.788
TNR   0.705     0.693     0.718
THRE  0.663     0.649     0.678
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.709     0.701     0.717
TPR   0.777     0.764     0.789
TNR   0.704     0.693     0.714
THRE  0.686     0.671     0.702
cm image:
 [[1450  797]
 [  49  190]]
cm image:
 [[0.65 0.35]
 [0.21 0.79]]
cm patient prob:
 [[40 27]
 [ 3  9]]
cm patient prob:
 [[0.6  0.4 ]
 [0.25 0.75]]
cm patient pos:
 [[41 26]
 [ 3  9]]
cm patient pos:
 [[0.61 0.39]
 [0.25 0.75]]
report image:
               precision    recall  f1-score   support

           0      0.967     0.645     0.774      2247
           1      0.193     0.795     0.310       239

    accuracy                          0.660      2486
   macro avg      0.580     0.720     0.542      2486
weighted avg      0.893     0.660     0.730      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.930     0.597     0.727        67
         1.0      0.250     0.750     0.375        12

    accuracy                          0.620        79
   macro avg      0.590     0.674     0.551        79
weighted avg      0.827     0.620     0.674        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.932     0.612     0.739        67
         1.0      0.257     0.750     0.383        12

    accuracy                          0.633        79
   macro avg      0.594     0.681     0.561        79
weighted avg      0.829     0.633     0.685        79

run model: ResNet50
saved model: tumor_external_finetune_v600e_fusioncrosstrainResNet50__01_0.79.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 17:44:29
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.581
prc patient pos: 0.532
roc image:
        mean  95% CI -  95% CI +
AUC   0.691     0.690     0.692
TPR   0.578     0.566     0.590
TNR   0.688     0.677     0.700
THRE  0.453     0.426     0.480
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.707     0.701     0.713
TPR   0.688     0.674     0.702
TNR   0.713     0.699     0.727
THRE  0.427     0.410     0.444
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.652     0.646     0.659
TPR   0.530     0.518     0.543
TNR   0.841     0.830     0.851
THRE  0.632     0.616     0.648
cm image:
 [[1311  556]
 [ 288  331]]
cm image:
 [[0.7  0.3 ]
 [0.47 0.53]]
cm patient prob:
 [[41 13]
 [12 13]]
cm patient prob:
 [[0.76 0.24]
 [0.48 0.52]]
cm patient pos:
 [[40 14]
 [12 13]]
cm patient pos:
 [[0.74 0.26]
 [0.48 0.52]]
report image:
               precision    recall  f1-score   support

           0      0.820     0.702     0.756      1867
           1      0.373     0.535     0.440       619

    accuracy                          0.660      2486
   macro avg      0.597     0.618     0.598      2486
weighted avg      0.709     0.660     0.678      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.774     0.759     0.766        54
         1.0      0.500     0.520     0.510        25

    accuracy                          0.684        79
   macro avg      0.637     0.640     0.638        79
weighted avg      0.687     0.684     0.685        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.769     0.741     0.755        54
         1.0      0.481     0.520     0.500        25

    accuracy                          0.671        79
   macro avg      0.625     0.630     0.627        79
weighted avg      0.678     0.671     0.674        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_wildtypecrosstrainResNet50__16_0.66.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 17:45:46
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.581
prc patient pos: 0.532
roc image:
        mean  95% CI -  95% CI +
AUC   0.691     0.690     0.692
TPR   0.578     0.566     0.590
TNR   0.688     0.677     0.700
THRE  0.453     0.426     0.480
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.707     0.701     0.713
TPR   0.688     0.674     0.702
TNR   0.713     0.699     0.727
THRE  0.427     0.410     0.444
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.652     0.646     0.659
TPR   0.530     0.518     0.543
TNR   0.841     0.830     0.851
THRE  0.632     0.616     0.648
cm image:
 [[1370  497]
 [ 312  307]]
cm image:
 [[0.73 0.27]
 [0.5  0.5 ]]
cm patient prob:
 [[44 10]
 [14 11]]
cm patient prob:
 [[0.81 0.19]
 [0.56 0.44]]
cm patient pos:
 [[42 12]
 [13 12]]
cm patient pos:
 [[0.78 0.22]
 [0.52 0.48]]
report image:
               precision    recall  f1-score   support

           0      0.815     0.734     0.772      1867
           1      0.382     0.496     0.431       619

    accuracy                          0.675      2486
   macro avg      0.598     0.615     0.602      2486
weighted avg      0.707     0.675     0.687      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.759     0.815     0.786        54
         1.0      0.524     0.440     0.478        25

    accuracy                          0.696        79
   macro avg      0.641     0.627     0.632        79
weighted avg      0.684     0.696     0.688        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.764     0.778     0.771        54
         1.0      0.500     0.480     0.490        25

    accuracy                          0.684        79
   macro avg      0.632     0.629     0.630        79
weighted avg      0.680     0.684     0.682        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_wildtypecrosstrainResNet50__16_0.66.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 17:49:55
val accuracy: None
val loss: None
prc image: 0.837
prc patient prob: 0.787
prc patient pos: 0.741
roc image:
        mean  95% CI -  95% CI +
AUC   0.747     0.746     0.748
TPR   0.653     0.650     0.656
TNR   0.719     0.716     0.722
THRE  0.810     0.806     0.814
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.803     0.799     0.808
TPR   0.794     0.781     0.806
TNR   0.748     0.735     0.760
THRE  0.605     0.590     0.620
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.755     0.750     0.760
TPR   0.914     0.905     0.922
TNR   0.583     0.572     0.594
THRE  0.294     0.280     0.307
cm image:
 [[ 494  364]
 [ 393 1235]]
cm image:
 [[0.58 0.42]
 [0.24 0.76]]
cm patient prob:
 [[26 11]
 [10 32]]
cm patient prob:
 [[0.7  0.3 ]
 [0.24 0.76]]
cm patient pos:
 [[26 11]
 [16 26]]
cm patient pos:
 [[0.7  0.3 ]
 [0.38 0.62]]
report image:
               precision    recall  f1-score   support

           0      0.557     0.576     0.566       858
           1      0.772     0.759     0.765      1628

    accuracy                          0.695      2486
   macro avg      0.665     0.667     0.666      2486
weighted avg      0.698     0.695     0.697      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.722     0.703     0.712        37
         1.0      0.744     0.762     0.753        42

    accuracy                          0.734        79
   macro avg      0.733     0.732     0.733        79
weighted avg      0.734     0.734     0.734        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.619     0.703     0.658        37
         1.0      0.703     0.619     0.658        42

    accuracy                          0.658        79
   macro avg      0.661     0.661     0.658        79
weighted avg      0.664     0.658     0.658        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_wildtypecrosstrainResNet50__16_0.66.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 18:13:33
val accuracy: None
val loss: None
prc image: 0.459
prc patient prob: 0.622
prc patient pos: 0.595
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.739     0.730     0.748
TNR   0.548     0.540     0.557
THRE  0.162     0.149     0.176
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.716     0.711     0.722
TPR   0.668     0.650     0.685
TNR   0.745     0.727     0.763
THRE  0.495     0.476     0.514
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.705     0.699     0.711
TPR   0.621     0.604     0.637
TNR   0.791     0.774     0.809
THRE  0.561     0.540     0.581
cm image:
 [[1346  521]
 [ 290  329]]
cm image:
 [[0.72 0.28]
 [0.47 0.53]]
cm patient prob:
 [[41 13]
 [11 14]]
cm patient prob:
 [[0.76 0.24]
 [0.44 0.56]]
cm patient pos:
 [[41 13]
 [11 14]]
cm patient pos:
 [[0.76 0.24]
 [0.44 0.56]]
report image:
               precision    recall  f1-score   support

           0      0.823     0.721     0.768      1867
           1      0.387     0.532     0.448       619

    accuracy                          0.674      2486
   macro avg      0.605     0.626     0.608      2486
weighted avg      0.714     0.674     0.689      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.788     0.759     0.774        54
         1.0      0.519     0.560     0.538        25

    accuracy                          0.696        79
   macro avg      0.653     0.660     0.656        79
weighted avg      0.703     0.696     0.699        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.788     0.759     0.774        54
         1.0      0.519     0.560     0.538        25

    accuracy                          0.696        79
   macro avg      0.653     0.660     0.656        79
weighted avg      0.703     0.696     0.699        79

run model: ResNet50
saved model: tumor_external_finetune_wildtypeResNet50__01_0.70.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 18:15:42
val accuracy: None
val loss: None
prc image: 0.461
prc patient prob: 0.638
prc patient pos: 0.619
roc image:
        mean  95% CI -  95% CI +
AUC   0.709     0.708     0.710
TPR   0.814     0.805     0.823
TNR   0.480     0.470     0.489
THRE  0.174     0.158     0.190
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.734     0.729     0.739
TPR   0.661     0.643     0.679
TNR   0.761     0.743     0.780
THRE  0.566     0.548     0.585
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.724     0.718     0.730
TPR   0.635     0.620     0.651
TNR   0.788     0.771     0.805
THRE  0.642     0.622     0.662
cm image:
 [[1231  636]
 [ 246  373]]
cm image:
 [[0.66 0.34]
 [0.4  0.6 ]]
cm patient prob:
 [[36 18]
 [10 15]]
cm patient prob:
 [[0.67 0.33]
 [0.4  0.6 ]]
cm patient pos:
 [[37 17]
 [10 15]]
cm patient pos:
 [[0.69 0.31]
 [0.4  0.6 ]]
report image:
               precision    recall  f1-score   support

           0      0.833     0.659     0.736      1867
           1      0.370     0.603     0.458       619

    accuracy                          0.645      2486
   macro avg      0.602     0.631     0.597      2486
weighted avg      0.718     0.645     0.667      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.783     0.667     0.720        54
         1.0      0.455     0.600     0.517        25

    accuracy                          0.646        79
   macro avg      0.619     0.633     0.619        79
weighted avg      0.679     0.646     0.656        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.787     0.685     0.733        54
         1.0      0.469     0.600     0.526        25

    accuracy                          0.658        79
   macro avg      0.628     0.643     0.629        79
weighted avg      0.686     0.658     0.667        79

run model: ResNet50
saved model: tumor_external_finetune_wildtypeResNet50__02_0.71.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 18:17:27
val accuracy: None
val loss: None
prc image: 0.475
prc patient prob: 0.626
prc patient pos: 0.631
roc image:
        mean  95% CI -  95% CI +
AUC   0.714     0.713     0.715
TPR   0.742     0.734     0.751
TNR   0.557     0.549     0.566
THRE  0.266     0.249     0.283
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.742     0.737     0.747
TPR   0.698     0.679     0.716
TNR   0.741     0.722     0.760
THRE  0.556     0.536     0.575
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.734     0.728     0.739
TPR   0.629     0.614     0.644
TNR   0.821     0.805     0.837
THRE  0.665     0.647     0.684
cm image:
 [[1234  633]
 [ 242  377]]
cm image:
 [[0.66 0.34]
 [0.39 0.61]]
cm patient prob:
 [[36 18]
 [10 15]]
cm patient prob:
 [[0.67 0.33]
 [0.4  0.6 ]]
cm patient pos:
 [[35 19]
 [10 15]]
cm patient pos:
 [[0.65 0.35]
 [0.4  0.6 ]]
report image:
               precision    recall  f1-score   support

           0      0.836     0.661     0.738      1867
           1      0.373     0.609     0.463       619

    accuracy                          0.648      2486
   macro avg      0.605     0.635     0.601      2486
weighted avg      0.721     0.648     0.670      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.783     0.667     0.720        54
         1.0      0.455     0.600     0.517        25

    accuracy                          0.646        79
   macro avg      0.619     0.633     0.619        79
weighted avg      0.679     0.646     0.656        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.778     0.648     0.707        54
         1.0      0.441     0.600     0.508        25

    accuracy                          0.633        79
   macro avg      0.609     0.624     0.608        79
weighted avg      0.671     0.633     0.644        79

run model: ResNet50
saved model: tumor_external_finetune_wildtypeResNet50__04_0.71.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 18:37:45
val accuracy: None
val loss: None
prc image: 0.844
prc patient prob: 0.665
prc patient pos: 0.728
roc image:
        mean  95% CI -  95% CI +
AUC   0.765     0.764     0.766
TPR   0.763     0.760     0.766
TNR   0.652     0.649     0.656
THRE  0.986     0.985     0.988
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.746     0.741     0.752
TPR   0.906     0.899     0.912
TNR   0.609     0.601     0.618
THRE  0.701     0.693     0.709
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.704     0.698     0.709
TPR   0.937     0.932     0.942
TNR   0.559     0.551     0.568
THRE  0.644     0.634     0.654
cm image:
 [[ 370  488]
 [ 152 1476]]
cm image:
 [[0.43 0.57]
 [0.09 0.91]]
cm patient prob:
 [[17 20]
 [ 1 41]]
cm patient prob:
 [[0.46 0.54]
 [0.02 0.98]]
cm patient pos:
 [[18 19]
 [ 1 41]]
cm patient pos:
 [[0.49 0.51]
 [0.02 0.98]]
report image:
               precision    recall  f1-score   support

           0      0.709     0.431     0.536       858
           1      0.752     0.907     0.822      1628

    accuracy                          0.743      2486
   macro avg      0.730     0.669     0.679      2486
weighted avg      0.737     0.743     0.723      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.944     0.459     0.618        37
         1.0      0.672     0.976     0.796        42

    accuracy                          0.734        79
   macro avg      0.808     0.718     0.707        79
weighted avg      0.800     0.734     0.713        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.947     0.486     0.643        37
         1.0      0.683     0.976     0.804        42

    accuracy                          0.747        79
   macro avg      0.815     0.731     0.723        79
weighted avg      0.807     0.747     0.728        79

run model: ResNet50
saved model: tumor_external_finetune_wildtypeResNet50__01_0.74.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 18:40:05
val accuracy: None
val loss: None
prc image: 0.83
prc patient prob: 0.675
prc patient pos: 0.754
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.752     0.754
TPR   0.708     0.705     0.710
TNR   0.696     0.693     0.699
THRE  0.982     0.980     0.983
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.755     0.750     0.760
TPR   0.880     0.871     0.888
TNR   0.637     0.627     0.647
THRE  0.710     0.701     0.719
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.735     0.730     0.740
TPR   0.897     0.889     0.905
TNR   0.590     0.580     0.600
THRE  0.691     0.682     0.700
cm image:
 [[ 351  507]
 [ 183 1445]]
cm image:
 [[0.41 0.59]
 [0.11 0.89]]
cm patient prob:
 [[15 22]
 [ 2 40]]
cm patient prob:
 [[0.41 0.59]
 [0.05 0.95]]
cm patient pos:
 [[16 21]
 [ 3 39]]
cm patient pos:
 [[0.43 0.57]
 [0.07 0.93]]
report image:
               precision    recall  f1-score   support

           0      0.657     0.409     0.504       858
           1      0.740     0.888     0.807      1628

    accuracy                          0.722      2486
   macro avg      0.699     0.648     0.656      2486
weighted avg      0.712     0.722     0.703      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.882     0.405     0.556        37
         1.0      0.645     0.952     0.769        42

    accuracy                          0.696        79
   macro avg      0.764     0.679     0.662        79
weighted avg      0.756     0.696     0.669        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.842     0.432     0.571        37
         1.0      0.650     0.929     0.765        42

    accuracy                          0.696        79
   macro avg      0.746     0.681     0.668        79
weighted avg      0.740     0.696     0.674        79

run model: ResNet50
saved model: tumor_external_finetune_wildtypeResNet50__04_0.74.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 18:41:40
val accuracy: None
val loss: None
prc image: 0.83
prc patient prob: 0.682
prc patient pos: 0.744
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.752     0.754
TPR   0.713     0.712     0.715
TNR   0.691     0.689     0.693
THRE  0.959     0.957     0.960
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.769     0.764     0.774
TPR   0.881     0.874     0.887
TNR   0.666     0.657     0.674
THRE  0.673     0.667     0.680
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.737     0.732     0.743
TPR   0.912     0.906     0.917
TNR   0.605     0.597     0.613
THRE  0.633     0.624     0.641
cm image:
 [[ 388  470]
 [ 216 1412]]
cm image:
 [[0.45 0.55]
 [0.13 0.87]]
cm patient prob:
 [[18 19]
 [ 3 39]]
cm patient prob:
 [[0.49 0.51]
 [0.07 0.93]]
cm patient pos:
 [[18 19]
 [ 3 39]]
cm patient pos:
 [[0.49 0.51]
 [0.07 0.93]]
report image:
               precision    recall  f1-score   support

           0      0.642     0.452     0.531       858
           1      0.750     0.867     0.805      1628

    accuracy                          0.724      2486
   macro avg      0.696     0.660     0.668      2486
weighted avg      0.713     0.724     0.710      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.857     0.486     0.621        37
         1.0      0.672     0.929     0.780        42

    accuracy                          0.722        79
   macro avg      0.765     0.708     0.700        79
weighted avg      0.759     0.722     0.705        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.857     0.486     0.621        37
         1.0      0.672     0.929     0.780        42

    accuracy                          0.722        79
   macro avg      0.765     0.708     0.700        79
weighted avg      0.759     0.722     0.705        79

run model: ResNet50
saved model: tumor_external_finetune_wildtypeResNet50__05_0.74.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 18:45:07
val accuracy: None
val loss: None
prc image: 0.834
prc patient prob: 0.695
prc patient pos: 0.742
roc image:
        mean  95% CI -  95% CI +
AUC   0.756     0.755     0.757
TPR   0.720     0.717     0.722
TNR   0.684     0.681     0.687
THRE  0.925     0.921     0.929
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.783     0.778     0.788
TPR   0.884     0.878     0.890
TNR   0.691     0.683     0.699
THRE  0.624     0.617     0.632
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.748     0.743     0.754
TPR   0.907     0.902     0.913
TNR   0.636     0.628     0.644
THRE  0.592     0.582     0.601
cm image:
 [[ 423  435]
 [ 239 1389]]
cm image:
 [[0.49 0.51]
 [0.15 0.85]]
cm patient prob:
 [[20 17]
 [ 3 39]]
cm patient prob:
 [[0.54 0.46]
 [0.07 0.93]]
cm patient pos:
 [[20 17]
 [ 4 38]]
cm patient pos:
 [[0.54 0.46]
 [0.1  0.9 ]]
report image:
               precision    recall  f1-score   support

           0      0.639     0.493     0.557       858
           1      0.762     0.853     0.805      1628

    accuracy                          0.729      2486
   macro avg      0.700     0.673     0.681      2486
weighted avg      0.719     0.729     0.719      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.870     0.541     0.667        37
         1.0      0.696     0.929     0.796        42

    accuracy                          0.747        79
   macro avg      0.783     0.735     0.731        79
weighted avg      0.778     0.747     0.735        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.833     0.541     0.656        37
         1.0      0.691     0.905     0.784        42

    accuracy                          0.734        79
   macro avg      0.762     0.723     0.720        79
weighted avg      0.758     0.734     0.724        79

run model: ResNet50
saved model: tumor_external_finetune_wildtypeResNet50__06_0.75.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 18:59:38
val accuracy: None
val loss: None
prc image: 0.834
prc patient prob: 0.695
prc patient pos: 0.742
roc image:
        mean  95% CI -  95% CI +
AUC   0.756     0.755     0.757
TPR   0.720     0.717     0.722
TNR   0.684     0.681     0.687
THRE  0.925     0.921     0.929
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.783     0.778     0.788
TPR   0.884     0.878     0.890
TNR   0.691     0.683     0.699
THRE  0.624     0.617     0.632
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.748     0.743     0.754
TPR   0.907     0.902     0.913
TNR   0.636     0.628     0.644
THRE  0.592     0.582     0.601
cm image:
 [[ 423  435]
 [ 239 1389]]
cm image:
 [[0.49 0.51]
 [0.15 0.85]]
cm patient prob:
 [[20 17]
 [ 3 39]]
cm patient prob:
 [[0.54 0.46]
 [0.07 0.93]]
cm patient pos:
 [[20 17]
 [ 4 38]]
cm patient pos:
 [[0.54 0.46]
 [0.1  0.9 ]]
report image:
               precision    recall  f1-score   support

           0      0.639     0.493     0.557       858
           1      0.762     0.853     0.805      1628

    accuracy                          0.729      2486
   macro avg      0.700     0.673     0.681      2486
weighted avg      0.719     0.729     0.719      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.870     0.541     0.667        37
         1.0      0.696     0.929     0.796        42

    accuracy                          0.747        79
   macro avg      0.783     0.735     0.731        79
weighted avg      0.778     0.747     0.735        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.833     0.541     0.656        37
         1.0      0.691     0.905     0.784        42

    accuracy                          0.734        79
   macro avg      0.762     0.723     0.720        79
weighted avg      0.758     0.734     0.724        79

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 19:06:30
val accuracy: None
val loss: None
prc image: 0.525
prc patient prob: 0.644
prc patient pos: 0.613
roc image:
        mean  95% CI -  95% CI +
AUC   0.743     0.742     0.744
TPR   0.760     0.755     0.766
TNR   0.597     0.592     0.602
THRE  0.151     0.143     0.159
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.760     0.755     0.766
TPR   0.717     0.699     0.734
TNR   0.757     0.739     0.776
THRE  0.469     0.449     0.489
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.719     0.713     0.724
TPR   0.646     0.629     0.663
TNR   0.792     0.775     0.809
THRE  0.544     0.522     0.566
cm image:
 [[1416  451]
 [ 278  341]]
cm image:
 [[0.76 0.24]
 [0.45 0.55]]
cm patient prob:
 [[43 11]
 [12 13]]
cm patient prob:
 [[0.8  0.2 ]
 [0.48 0.52]]
cm patient pos:
 [[43 11]
 [12 13]]
cm patient pos:
 [[0.8  0.2 ]
 [0.48 0.52]]
report image:
               precision    recall  f1-score   support

           0      0.836     0.758     0.795      1867
           1      0.431     0.551     0.483       619

    accuracy                          0.707      2486
   macro avg      0.633     0.655     0.639      2486
weighted avg      0.735     0.707     0.718      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.782     0.796     0.789        54
         1.0      0.542     0.520     0.531        25

    accuracy                          0.709        79
   macro avg      0.662     0.658     0.660        79
weighted avg      0.706     0.709     0.707        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.782     0.796     0.789        54
         1.0      0.542     0.520     0.531        25

    accuracy                          0.709        79
   macro avg      0.662     0.658     0.660        79
weighted avg      0.706     0.709     0.707        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_ResNet50__06_0.75.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 19:09:01
val accuracy: None
val loss: None
prc image: 0.832
prc patient prob: 0.742
prc patient pos: 0.716
roc image:
        mean  95% CI -  95% CI +
AUC   0.753     0.752     0.753
TPR   0.712     0.705     0.718
TNR   0.669     0.662     0.675
THRE  0.785     0.774     0.796
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.803     0.798     0.807
TPR   0.890     0.885     0.896
TNR   0.699     0.691     0.706
THRE  0.585     0.579     0.591
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.765     0.760     0.770
TPR   0.823     0.814     0.831
TNR   0.697     0.687     0.707
THRE  0.466     0.456     0.477
cm image:
 [[ 434  424]
 [ 257 1371]]
cm image:
 [[0.51 0.49]
 [0.16 0.84]]
cm patient prob:
 [[20 17]
 [ 4 38]]
cm patient prob:
 [[0.54 0.46]
 [0.1  0.9 ]]
cm patient pos:
 [[25 12]
 [12 30]]
cm patient pos:
 [[0.68 0.32]
 [0.29 0.71]]
report image:
               precision    recall  f1-score   support

           0      0.628     0.506     0.560       858
           1      0.764     0.842     0.801      1628

    accuracy                          0.726      2486
   macro avg      0.696     0.674     0.681      2486
weighted avg      0.717     0.726     0.718      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.833     0.541     0.656        37
         1.0      0.691     0.905     0.784        42

    accuracy                          0.734        79
   macro avg      0.762     0.723     0.720        79
weighted avg      0.758     0.734     0.724        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.676     0.676     0.676        37
         1.0      0.714     0.714     0.714        42

    accuracy                          0.696        79
   macro avg      0.695     0.695     0.695        79
weighted avg      0.696     0.696     0.696        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_ResNet50__06_0.75.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 19:13:43
val accuracy: None
val loss: None
prc image: 0.145
prc patient prob: 0.262
prc patient pos: 0.205
roc image:
        mean  95% CI -  95% CI +
AUC   0.684     0.682     0.685
TPR   0.689     0.684     0.693
TNR   0.653     0.649     0.657
THRE  0.227     0.213     0.241
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.662     0.655     0.670
TPR   0.770     0.757     0.783
TNR   0.669     0.660     0.679
THRE  0.449     0.437     0.460
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.591     0.584     0.598
TPR   0.407     0.393     0.422
TNR   0.849     0.844     0.855
THRE  0.135     0.108     0.163
cm image:
 [[1608  639]
 [  98  141]]
cm image:
 [[0.72 0.28]
 [0.41 0.59]]
cm patient prob:
 [[49 18]
 [ 5  7]]
cm patient prob:
 [[0.73 0.27]
 [0.42 0.58]]
cm patient pos:
 [[65  2]
 [12  0]]
cm patient pos:
 [[0.97 0.03]
 [1.   0.  ]]
report image:
               precision    recall  f1-score   support

           0      0.943     0.716     0.814      2247
           1      0.181     0.590     0.277       239

    accuracy                          0.704      2486
   macro avg      0.562     0.653     0.545      2486
weighted avg      0.869     0.704     0.762      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.907     0.731     0.810        67
         1.0      0.280     0.583     0.378        12

    accuracy                          0.709        79
   macro avg      0.594     0.657     0.594        79
weighted avg      0.812     0.709     0.744        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.844     0.970     0.903        67
         1.0      0.000     0.000     0.000        12

    accuracy                          0.823        79
   macro avg      0.422     0.485     0.451        79
weighted avg      0.716     0.823     0.766        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_ResNet50__06_0.75.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 19:15:37
val accuracy: None
val loss: None
prc image: 0.145
prc patient prob: 0.262
prc patient pos: 0.319
roc image:
        mean  95% CI -  95% CI +
AUC   0.684     0.682     0.685
TPR   0.689     0.684     0.693
TNR   0.653     0.649     0.657
THRE  0.227     0.213     0.241
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.662     0.655     0.670
TPR   0.770     0.757     0.783
TNR   0.669     0.660     0.679
THRE  0.449     0.437     0.460
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.656     0.647     0.664
TPR   0.620     0.603     0.636
TNR   0.769     0.760     0.778
THRE  0.302     0.277     0.326
cm image:
 [[1608  639]
 [  98  141]]
cm image:
 [[0.72 0.28]
 [0.41 0.59]]
cm patient prob:
 [[49 18]
 [ 5  7]]
cm patient prob:
 [[0.73 0.27]
 [0.42 0.58]]
cm patient pos:
 [[58  9]
 [ 8  4]]
cm patient pos:
 [[0.87 0.13]
 [0.67 0.33]]
report image:
               precision    recall  f1-score   support

           0      0.943     0.716     0.814      2247
           1      0.181     0.590     0.277       239

    accuracy                          0.704      2486
   macro avg      0.562     0.653     0.545      2486
weighted avg      0.869     0.704     0.762      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.907     0.731     0.810        67
         1.0      0.280     0.583     0.378        12

    accuracy                          0.709        79
   macro avg      0.594     0.657     0.594        79
weighted avg      0.812     0.709     0.744        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.879     0.866     0.872        67
         1.0      0.308     0.333     0.320        12

    accuracy                          0.785        79
   macro avg      0.593     0.600     0.596        79
weighted avg      0.792     0.785     0.788        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_ResNet50__06_0.75.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 19:16:20
val accuracy: None
val loss: None
prc image: 0.163
prc patient prob: 0.281
prc patient pos: 0.334
roc image:
        mean  95% CI -  95% CI +
AUC   0.701     0.699     0.702
TPR   0.679     0.675     0.684
TNR   0.668     0.664     0.672
THRE  0.337     0.320     0.354
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.680     0.672     0.687
TPR   0.750     0.737     0.763
TNR   0.726     0.717     0.735
THRE  0.570     0.557     0.583
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.666     0.658     0.674
TPR   0.749     0.737     0.761
TNR   0.712     0.702     0.721
THRE  0.593     0.578     0.609
cm image:
 [[1579  668]
 [  90  149]]
cm image:
 [[0.7  0.3 ]
 [0.38 0.62]]
cm patient prob:
 [[47 20]
 [ 3  9]]
cm patient prob:
 [[0.7  0.3 ]
 [0.25 0.75]]
cm patient pos:
 [[47 20]
 [ 4  8]]
cm patient pos:
 [[0.7  0.3 ]
 [0.33 0.67]]
report image:
               precision    recall  f1-score   support

           0      0.946     0.703     0.806      2247
           1      0.182     0.623     0.282       239

    accuracy                          0.695      2486
   macro avg      0.564     0.663     0.544      2486
weighted avg      0.873     0.695     0.756      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.940     0.701     0.803        67
         1.0      0.310     0.750     0.439        12

    accuracy                          0.709        79
   macro avg      0.625     0.726     0.621        79
weighted avg      0.844     0.709     0.748        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.922     0.701     0.797        67
         1.0      0.286     0.667     0.400        12

    accuracy                          0.696        79
   macro avg      0.604     0.684     0.598        79
weighted avg      0.825     0.696     0.736        79

run model: ResNet50
saved model: tumor_external_finetune_fusion_ResNet50__06_0.75.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-20 19:18:29
val accuracy: None
val loss: None
prc image: 0.163
prc patient prob: 0.281
prc patient pos: 0.334
roc image:
        mean  95% CI -  95% CI +
AUC   0.701     0.699     0.702
TPR   0.679     0.675     0.684
TNR   0.668     0.664     0.672
THRE  0.337     0.320     0.354
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.680     0.672     0.687
TPR   0.750     0.737     0.763
TNR   0.726     0.717     0.735
THRE  0.570     0.557     0.583
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.666     0.658     0.674
TPR   0.749     0.737     0.761
TNR   0.712     0.702     0.721
THRE  0.593     0.578     0.609
cm image:
 [[1579  668]
 [  90  149]]
cm image:
 [[0.7  0.3 ]
 [0.38 0.62]]
cm patient prob:
 [[47 20]
 [ 3  9]]
cm patient prob:
 [[0.7  0.3 ]
 [0.25 0.75]]
cm patient pos:
 [[47 20]
 [ 4  8]]
cm patient pos:
 [[0.7  0.3 ]
 [0.33 0.67]]
report image:
               precision    recall  f1-score   support

           0      0.946     0.703     0.806      2247
           1      0.182     0.623     0.282       239

    accuracy                          0.695      2486
   macro avg      0.564     0.663     0.544      2486
weighted avg      0.873     0.695     0.756      2486

report patient prob:
               precision    recall  f1-score   support

         0.0      0.940     0.701     0.803        67
         1.0      0.310     0.750     0.439        12

    accuracy                          0.709        79
   macro avg      0.625     0.726     0.621        79
weighted avg      0.844     0.709     0.748        79

report patient pos:
               precision    recall  f1-score   support

         0.0      0.922     0.701     0.797        67
         1.0      0.286     0.667     0.400        12

    accuracy                          0.696        79
   macro avg      0.604     0.684     0.598        79
weighted avg      0.825     0.696     0.736        79

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-23 12:00:09
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.841
TPR   0.822     0.818     0.826
TNR   0.724     0.719     0.728
THRE  0.020     0.018     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.863     0.873
TPR   0.938     0.930     0.947
TNR   0.753     0.742     0.764
THRE  0.128     0.113     0.142
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.820     0.814     0.827
TPR   0.813     0.802     0.824
TNR   0.825     0.818     0.833
THRE  0.179     0.163     0.195
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-23 12:03:14
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.840
TPR   0.823     0.820     0.826
TNR   0.723     0.720     0.726
THRE  0.020     0.019     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.866     0.862     0.869
TPR   0.926     0.920     0.933
TNR   0.761     0.754     0.769
THRE  0.145     0.134     0.156
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.812     0.807     0.817
TPR   0.800     0.792     0.808
TNR   0.823     0.818     0.829
THRE  0.162     0.151     0.173
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-23 12:06:15
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.837     0.842
TPR   0.819     0.811     0.828
TNR   0.727     0.718     0.736
THRE  0.021     0.017     0.025
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.879     0.868     0.890
TPR   0.927     0.907     0.947
TNR   0.785     0.759     0.811
THRE  0.167     0.131     0.202
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.812     0.798     0.827
TPR   0.797     0.769     0.825
TNR   0.830     0.813     0.847
THRE  0.170     0.133     0.207
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-23 12:07:20
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.839     0.838     0.841
TPR   0.819     0.814     0.824
TNR   0.727     0.721     0.732
THRE  0.022     0.019     0.025
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.865     0.858     0.872
TPR   0.936     0.926     0.946
TNR   0.753     0.738     0.767
THRE  0.139     0.120     0.158
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.818     0.810     0.827
TPR   0.810     0.795     0.825
TNR   0.828     0.818     0.838
THRE  0.166     0.148     0.185
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-23 12:12:45
val accuracy: None
val loss: None
prc image: 0.727
prc patient prob: 0.855
prc patient pos: 0.832
roc image:
        mean  95% CI -  95% CI +
AUC   0.822     0.820     0.823
TPR   0.724     0.719     0.728
TNR   0.769     0.765     0.774
THRE  0.134     0.125     0.143
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.816     0.807     0.825
TPR   0.781     0.769     0.794
TNR   0.884     0.876     0.893
THRE  0.403     0.394     0.411
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.791     0.782     0.799
TPR   0.720     0.706     0.734
TNR   0.887     0.876     0.897
THRE  0.385     0.371     0.398
cm image:
 [[718 113]
 [195 264]]
cm image:
 [[0.86 0.14]
 [0.42 0.58]]
cm patient prob:
 [[21  1]
 [ 9 11]]
cm patient prob:
 [[0.95 0.05]
 [0.45 0.55]]
cm patient pos:
 [[21  1]
 [11  9]]
cm patient pos:
 [[0.95 0.05]
 [0.55 0.45]]
report image:
               precision    recall  f1-score   support

           0      0.786     0.864     0.823       831
           1      0.700     0.575     0.632       459

    accuracy                          0.761      1290
   macro avg      0.743     0.720     0.727      1290
weighted avg      0.756     0.761     0.755      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.700     0.955     0.808        22
         1.0      0.917     0.550     0.687        20

    accuracy                          0.762        42
   macro avg      0.808     0.752     0.748        42
weighted avg      0.803     0.762     0.750        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.656     0.955     0.778        22
         1.0      0.900     0.450     0.600        20

    accuracy                          0.714        42
   macro avg      0.778     0.702     0.689        42
weighted avg      0.772     0.714     0.693        42

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-23 12:14:13
val accuracy: None
val loss: None
prc image: 0.479
prc patient prob: 0.593
prc patient pos: 0.561
roc image:
        mean  95% CI -  95% CI +
AUC   0.705     0.704     0.706
TPR   0.663     0.657     0.669
TNR   0.669     0.662     0.675
THRE  0.014     0.013     0.016
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.721     0.714     0.727
TPR   0.713     0.703     0.722
TNR   0.794     0.787     0.801
THRE  0.242     0.238     0.246
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.736     0.730     0.742
TPR   0.727     0.717     0.736
TNR   0.771     0.763     0.779
THRE  0.216     0.211     0.221
cm image:
 [[2310  353]
 [ 624  353]]
cm image:
 [[0.87 0.13]
 [0.64 0.36]]
cm patient prob:
 [[67  9]
 [25 10]]
cm patient prob:
 [[0.88 0.12]
 [0.71 0.29]]
cm patient pos:
 [[67  9]
 [25 10]]
cm patient pos:
 [[0.88 0.12]
 [0.71 0.29]]
report image:
               precision    recall  f1-score   support

           0      0.787     0.867     0.825      2663
           1      0.500     0.361     0.419       977

    accuracy                          0.732      3640
   macro avg      0.644     0.614     0.622      3640
weighted avg      0.710     0.732     0.716      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.728     0.882     0.798        76
         1.0      0.526     0.286     0.370        35

    accuracy                          0.694       111
   macro avg      0.627     0.584     0.584       111
weighted avg      0.665     0.694     0.663       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.728     0.882     0.798        76
         1.0      0.526     0.286     0.370        35

    accuracy                          0.694       111
   macro avg      0.627     0.584     0.584       111
weighted avg      0.665     0.694     0.663       111

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-23 12:17:19
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.839     0.838     0.841
TPR   0.819     0.814     0.824
TNR   0.727     0.721     0.732
THRE  0.022     0.019     0.025
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.865     0.858     0.872
TPR   0.936     0.926     0.946
TNR   0.753     0.738     0.767
THRE  0.139     0.120     0.158
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.818     0.810     0.827
TPR   0.810     0.795     0.825
TNR   0.828     0.818     0.838
THRE  0.166     0.148     0.185
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-23 12:18:53
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.838     0.841
TPR   0.818     0.811     0.824
TNR   0.728     0.722     0.735
THRE  0.023     0.019     0.027
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.869     0.861     0.877
TPR   0.948     0.936     0.960
TNR   0.751     0.734     0.768
THRE  0.127     0.104     0.150
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.821     0.811     0.830
TPR   0.822     0.805     0.839
TNR   0.822     0.809     0.835
THRE  0.163     0.138     0.188
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-23 12:19:36
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.840
TPR   0.823     0.820     0.826
TNR   0.723     0.720     0.726
THRE  0.020     0.019     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.866     0.862     0.869
TPR   0.926     0.920     0.933
TNR   0.761     0.754     0.769
THRE  0.145     0.134     0.156
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.812     0.807     0.817
TPR   0.800     0.792     0.808
TNR   0.823     0.818     0.829
THRE  0.162     0.151     0.173
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-23 12:20:50
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.840
TPR   0.821     0.819     0.823
TNR   0.724     0.722     0.726
THRE  0.021     0.020     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.866     0.864     0.869
TPR   0.927     0.922     0.931
TNR   0.762     0.756     0.768
THRE  0.148     0.140     0.156
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.814     0.811     0.818
TPR   0.807     0.802     0.812
TNR   0.820     0.816     0.824
THRE  0.162     0.154     0.169
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-23 12:21:21
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.838     0.841
TPR   0.818     0.811     0.824
TNR   0.728     0.722     0.735
THRE  0.023     0.019     0.027
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.869     0.861     0.877
TPR   0.948     0.936     0.960
TNR   0.751     0.734     0.768
THRE  0.127     0.104     0.150
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.821     0.811     0.830
TPR   0.822     0.805     0.839
TNR   0.822     0.809     0.835
THRE  0.163     0.138     0.188
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-23 12:38:18
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.673
prc patient pos: 0.642
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.840
TPR   0.823     0.820     0.826
TNR   0.723     0.720     0.726
THRE  0.020     0.019     0.022
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.866     0.862     0.869
TPR   0.926     0.920     0.933
TNR   0.761     0.754     0.769
THRE  0.145     0.134     0.156
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.812     0.807     0.817
TPR   0.800     0.792     0.808
TNR   0.823     0.818     0.829
THRE  0.162     0.151     0.173
cm image:
 [[633 105]
 [219 333]]
cm image:
 [[0.86 0.14]
 [0.4  0.6 ]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 7  5]]
cm patient pos:
 [[0.9  0.1 ]
 [0.58 0.42]]
report image:
               precision    recall  f1-score   support

           0      0.743     0.858     0.796       738
           1      0.760     0.603     0.673       552

    accuracy                          0.749      1290
   macro avg      0.752     0.730     0.734      1290
weighted avg      0.750     0.749     0.743      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.794     0.900     0.844        30
         1.0      0.625     0.417     0.500        12

    accuracy                          0.762        42
   macro avg      0.710     0.658     0.672        42
weighted avg      0.746     0.762     0.746        42

run model: ResNet50
saved model: tumor_external_finetune_v600e_ResNet50__01_0.68.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-25 20:55:23
val accuracy: None
val loss: None
prc image: 0.389
prc patient prob: 0.692
prc patient pos: 0.684
roc image:
        mean  95% CI -  95% CI +
AUC   0.733     0.732     0.734
TPR   0.791     0.787     0.795
TNR   0.604     0.601     0.608
THRE  0.040     0.037     0.043
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.848     0.844     0.853
TPR   0.810     0.801     0.819
TNR   0.844     0.836     0.853
THRE  0.383     0.375     0.391
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.844     0.839     0.849
TPR   0.843     0.835     0.851
TNR   0.841     0.835     0.848
THRE  0.346     0.338     0.355
cm image:
 [[854 157]
 [150 129]]
cm image:
 [[0.84 0.16]
 [0.54 0.46]]
cm patient prob:
 [[30  2]
 [ 5  5]]
cm patient prob:
 [[0.94 0.06]
 [0.5  0.5 ]]
cm patient pos:
 [[30  2]
 [ 6  4]]
cm patient pos:
 [[0.94 0.06]
 [0.6  0.4 ]]
report image:
               precision    recall  f1-score   support

           0      0.851     0.845     0.848      1011
           1      0.451     0.462     0.457       279

    accuracy                          0.762      1290
   macro avg      0.651     0.654     0.652      1290
weighted avg      0.764     0.762     0.763      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.857     0.938     0.896        32
         1.0      0.714     0.500     0.588        10

    accuracy                          0.833        42
   macro avg      0.786     0.719     0.742        42
weighted avg      0.823     0.833     0.822        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.833     0.938     0.882        32
         1.0      0.667     0.400     0.500        10

    accuracy                          0.810        42
   macro avg      0.750     0.669     0.691        42
weighted avg      0.794     0.810     0.791        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-25 21:02:13
val accuracy: None
val loss: None
prc image: 0.398
prc patient prob: 0.525
prc patient pos: 0.517
roc image:
        mean  95% CI -  95% CI +
AUC   0.732     0.731     0.733
TPR   0.730     0.724     0.736
TNR   0.644     0.638     0.651
THRE  0.689     0.665     0.714
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.760     0.755     0.765
TPR   0.871     0.862     0.880
TNR   0.666     0.655     0.676
THRE  0.667     0.653     0.681
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.748     0.743     0.753
TPR   0.875     0.867     0.883
TNR   0.651     0.640     0.661
THRE  0.667     0.654     0.681
cm image:
 [[598 413]
 [ 70 209]]
cm image:
 [[0.59 0.41]
 [0.25 0.75]]
cm patient prob:
 [[16 16]
 [ 1  9]]
cm patient prob:
 [[0.5 0.5]
 [0.1 0.9]]
cm patient pos:
 [[16 16]
 [ 2  8]]
cm patient pos:
 [[0.5 0.5]
 [0.2 0.8]]
report image:
               precision    recall  f1-score   support

           0      0.895     0.591     0.712      1011
           1      0.336     0.749     0.464       279

    accuracy                          0.626      1290
   macro avg      0.616     0.670     0.588      1290
weighted avg      0.774     0.626     0.659      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.941     0.500     0.653        32
         1.0      0.360     0.900     0.514        10

    accuracy                          0.595        42
   macro avg      0.651     0.700     0.584        42
weighted avg      0.803     0.595     0.620        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.889     0.500     0.640        32
         1.0      0.333     0.800     0.471        10

    accuracy                          0.571        42
   macro avg      0.611     0.650     0.555        42
weighted avg      0.757     0.571     0.600        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 11:38:41
val accuracy: None
val loss: None
prc image: 0.398
prc patient prob: 0.525
prc patient pos: 0.517
roc image:
        mean  95% CI -  95% CI +
AUC   0.732     0.731     0.733
TPR   0.730     0.724     0.736
TNR   0.644     0.638     0.651
THRE  0.689     0.665     0.714
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.760     0.755     0.765
TPR   0.871     0.862     0.880
TNR   0.666     0.655     0.676
THRE  0.667     0.653     0.681
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.748     0.743     0.753
TPR   0.875     0.867     0.883
TNR   0.651     0.640     0.661
THRE  0.667     0.654     0.681
cm image:
 [[598 413]
 [ 70 209]]
cm image:
 [[0.59 0.41]
 [0.25 0.75]]
cm patient prob:
 [[16 16]
 [ 1  9]]
cm patient prob:
 [[0.5 0.5]
 [0.1 0.9]]
cm patient pos:
 [[16 16]
 [ 2  8]]
cm patient pos:
 [[0.5 0.5]
 [0.2 0.8]]
report image:
               precision    recall  f1-score   support

           0      0.895     0.591     0.712      1011
           1      0.336     0.749     0.464       279

    accuracy                          0.626      1290
   macro avg      0.616     0.670     0.588      1290
weighted avg      0.774     0.626     0.659      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.941     0.500     0.653        32
         1.0      0.360     0.900     0.514        10

    accuracy                          0.595        42
   macro avg      0.651     0.700     0.584        42
weighted avg      0.803     0.595     0.620        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.889     0.500     0.640        32
         1.0      0.333     0.800     0.471        10

    accuracy                          0.571        42
   macro avg      0.611     0.650     0.555        42
weighted avg      0.757     0.571     0.600        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 11:39:52
val accuracy: None
val loss: None
prc image: 0.391
prc patient prob: 0.6
prc patient pos: 0.628
roc image:
        mean  95% CI -  95% CI +
AUC   0.737     0.736     0.738
TPR   0.780     0.777     0.784
TNR   0.623     0.620     0.627
THRE  0.879     0.872     0.886
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.812     0.807     0.817
TPR   0.826     0.818     0.834
TNR   0.789     0.780     0.798
THRE  0.914     0.905     0.923
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.775     0.771     0.780
TPR   0.884     0.877     0.891
TNR   0.692     0.683     0.701
THRE  0.864     0.852     0.876
cm image:
 [[486 525]
 [ 38 241]]
cm image:
 [[0.48 0.52]
 [0.14 0.86]]
cm patient prob:
 [[13 19]
 [ 1  9]]
cm patient prob:
 [[0.41 0.59]
 [0.1  0.9 ]]
cm patient pos:
 [[14 18]
 [ 0 10]]
cm patient pos:
 [[0.44 0.56]
 [0.   1.  ]]
report image:
               precision    recall  f1-score   support

           0      0.927     0.481     0.633      1011
           1      0.315     0.864     0.461       279

    accuracy                          0.564      1290
   macro avg      0.621     0.672     0.547      1290
weighted avg      0.795     0.564     0.596      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.929     0.406     0.565        32
         1.0      0.321     0.900     0.474        10

    accuracy                          0.524        42
   macro avg      0.625     0.653     0.519        42
weighted avg      0.784     0.524     0.543        42

report patient pos:
               precision    recall  f1-score   support

         0.0      1.000     0.438     0.609        32
         1.0      0.357     1.000     0.526        10

    accuracy                          0.571        42
   macro avg      0.679     0.719     0.568        42
weighted avg      0.847     0.571     0.589        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 11:41:43
val accuracy: None
val loss: None
prc image: 0.772
prc patient prob: 0.808
prc patient pos: 0.671
roc image:
        mean  95% CI -  95% CI +
AUC   0.825     0.824     0.825
TPR   0.870     0.869     0.872
TNR   0.645     0.643     0.647
THRE  0.019     0.019     0.020
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.913     0.910     0.916
TPR   0.926     0.921     0.932
TNR   0.828     0.821     0.834
THRE  0.218     0.210     0.226
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.882     0.879     0.886
TPR   0.947     0.942     0.952
TNR   0.787     0.780     0.794
THRE  0.142     0.133     0.151
cm image:
 [[650  88]
 [302 250]]
cm image:
 [[0.88 0.12]
 [0.55 0.45]]
cm patient prob:
 [[28  2]
 [ 5  7]]
cm patient prob:
 [[0.93 0.07]
 [0.42 0.58]]
cm patient pos:
 [[28  2]
 [ 5  7]]
cm patient pos:
 [[0.93 0.07]
 [0.42 0.58]]
report image:
               precision    recall  f1-score   support

           0      0.683     0.881     0.769       738
           1      0.740     0.453     0.562       552

    accuracy                          0.698      1290
   macro avg      0.711     0.667     0.666      1290
weighted avg      0.707     0.698     0.680      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.848     0.933     0.889        30
         1.0      0.778     0.583     0.667        12

    accuracy                          0.833        42
   macro avg      0.813     0.758     0.778        42
weighted avg      0.828     0.833     0.825        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.848     0.933     0.889        30
         1.0      0.778     0.583     0.667        12

    accuracy                          0.833        42
   macro avg      0.813     0.758     0.778        42
weighted avg      0.828     0.833     0.825        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 11:42:57
val accuracy: None
val loss: None
prc image: 0.772
prc patient prob: 0.808
prc patient pos: 0.671
roc image:
        mean  95% CI -  95% CI +
AUC   0.825     0.824     0.825
TPR   0.870     0.869     0.872
TNR   0.645     0.643     0.647
THRE  0.019     0.019     0.020
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.913     0.910     0.916
TPR   0.926     0.921     0.932
TNR   0.828     0.821     0.834
THRE  0.218     0.210     0.226
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.882     0.879     0.886
TPR   0.947     0.942     0.952
TNR   0.787     0.780     0.794
THRE  0.142     0.133     0.151
cm image:
 [[650  88]
 [302 250]]
cm image:
 [[0.88 0.12]
 [0.55 0.45]]
cm patient prob:
 [[28  2]
 [ 5  7]]
cm patient prob:
 [[0.93 0.07]
 [0.42 0.58]]
cm patient pos:
 [[28  2]
 [ 5  7]]
cm patient pos:
 [[0.93 0.07]
 [0.42 0.58]]
report image:
               precision    recall  f1-score   support

           0      0.683     0.881     0.769       738
           1      0.740     0.453     0.562       552

    accuracy                          0.698      1290
   macro avg      0.711     0.667     0.666      1290
weighted avg      0.707     0.698     0.680      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.848     0.933     0.889        30
         1.0      0.778     0.583     0.667        12

    accuracy                          0.833        42
   macro avg      0.813     0.758     0.778        42
weighted avg      0.828     0.833     0.825        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.848     0.933     0.889        30
         1.0      0.778     0.583     0.667        12

    accuracy                          0.833        42
   macro avg      0.813     0.758     0.778        42
weighted avg      0.828     0.833     0.825        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 11:45:20
val accuracy: None
val loss: None
prc image: 0.75
prc patient prob: 0.608
prc patient pos: 0.646
roc image:
        mean  95% CI -  95% CI +
AUC   0.811     0.810     0.811
TPR   0.831     0.828     0.833
TNR   0.653     0.651     0.655
THRE  0.086     0.079     0.092
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.810     0.806     0.815
TPR   0.864     0.858     0.871
TNR   0.779     0.773     0.786
THRE  0.511     0.501     0.522
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.807     0.802     0.811
TPR   0.844     0.837     0.851
TNR   0.794     0.788     0.800
THRE  0.536     0.524     0.547
cm image:
 [[542 196]
 [161 391]]
cm image:
 [[0.73 0.27]
 [0.29 0.71]]
cm patient prob:
 [[23  7]
 [ 2 10]]
cm patient prob:
 [[0.77 0.23]
 [0.17 0.83]]
cm patient pos:
 [[23  7]
 [ 3  9]]
cm patient pos:
 [[0.77 0.23]
 [0.25 0.75]]
report image:
               precision    recall  f1-score   support

           0      0.771     0.734     0.752       738
           1      0.666     0.708     0.687       552

    accuracy                          0.723      1290
   macro avg      0.719     0.721     0.719      1290
weighted avg      0.726     0.723     0.724      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.920     0.767     0.836        30
         1.0      0.588     0.833     0.690        12

    accuracy                          0.786        42
   macro avg      0.754     0.800     0.763        42
weighted avg      0.825     0.786     0.794        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.885     0.767     0.821        30
         1.0      0.562     0.750     0.643        12

    accuracy                          0.762        42
   macro avg      0.724     0.758     0.732        42
weighted avg      0.793     0.762     0.770        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 11:50:22
val accuracy: None
val loss: None
prc image: 0.707
prc patient prob: 0.675
prc patient pos: 0.652
roc image:
        mean  95% CI -  95% CI +
AUC   0.840     0.839     0.840
TPR   0.821     0.818     0.825
TNR   0.723     0.720     0.726
THRE  0.029     0.027     0.032
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.868     0.865     0.872
TPR   0.933     0.927     0.940
TNR   0.760     0.752     0.767
THRE  0.137     0.126     0.147
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.815     0.810     0.819
TPR   0.798     0.790     0.807
TNR   0.827     0.821     0.832
THRE  0.182     0.170     0.194
cm image:
 [[633 105]
 [216 336]]
cm image:
 [[0.86 0.14]
 [0.39 0.61]]
cm patient prob:
 [[27  3]
 [ 5  7]]
cm patient prob:
 [[0.9  0.1 ]
 [0.42 0.58]]
cm patient pos:
 [[27  3]
 [ 5  7]]
cm patient pos:
 [[0.9  0.1 ]
 [0.42 0.58]]
report image:
               precision    recall  f1-score   support

           0      0.746     0.858     0.798       738
           1      0.762     0.609     0.677       552

    accuracy                          0.751      1290
   macro avg      0.754     0.733     0.737      1290
weighted avg      0.753     0.751     0.746      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.844     0.900     0.871        30
         1.0      0.700     0.583     0.636        12

    accuracy                          0.810        42
   macro avg      0.772     0.742     0.754        42
weighted avg      0.803     0.810     0.804        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 11:52:12
val accuracy: None
val loss: None
prc image: 0.693
prc patient prob: 0.842
prc patient pos: 0.808
roc image:
        mean  95% CI -  95% CI +
AUC   0.808     0.807     0.809
TPR   0.734     0.731     0.736
TNR   0.785     0.783     0.787
THRE  0.896     0.894     0.898
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.822     0.818     0.827
TPR   0.814     0.807     0.821
TNR   0.838     0.832     0.845
THRE  0.766     0.759     0.773
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.782     0.777     0.787
TPR   0.750     0.742     0.758
TNR   0.844     0.836     0.852
THRE  0.867     0.858     0.876
cm image:
 [[477 354]
 [ 80 379]]
cm image:
 [[0.57 0.43]
 [0.17 0.83]]
cm patient prob:
 [[12 10]
 [ 2 18]]
cm patient prob:
 [[0.55 0.45]
 [0.1  0.9 ]]
cm patient pos:
 [[12 10]
 [ 3 17]]
cm patient pos:
 [[0.55 0.45]
 [0.15 0.85]]
report image:
               precision    recall  f1-score   support

           0      0.856     0.574     0.687       831
           1      0.517     0.826     0.636       459

    accuracy                          0.664      1290
   macro avg      0.687     0.700     0.662      1290
weighted avg      0.736     0.664     0.669      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.857     0.545     0.667        22
         1.0      0.643     0.900     0.750        20

    accuracy                          0.714        42
   macro avg      0.750     0.723     0.708        42
weighted avg      0.755     0.714     0.706        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.800     0.545     0.649        22
         1.0      0.630     0.850     0.723        20

    accuracy                          0.690        42
   macro avg      0.715     0.698     0.686        42
weighted avg      0.719     0.690     0.684        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 11:53:59
val accuracy: None
val loss: None
prc image: 0.678
prc patient prob: 0.883
prc patient pos: 0.863
roc image:
        mean  95% CI -  95% CI +
AUC   0.763     0.762     0.763
TPR   0.622     0.620     0.623
TNR   0.814     0.812     0.815
THRE  0.712     0.708     0.717
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.867     0.864     0.871
TPR   0.773     0.766     0.780
TNR   0.915     0.909     0.921
THRE  0.571     0.563     0.578
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.845     0.841     0.849
TPR   0.790     0.781     0.798
TNR   0.839     0.832     0.847
THRE  0.542     0.529     0.555
cm image:
 [[631 200]
 [160 299]]
cm image:
 [[0.76 0.24]
 [0.35 0.65]]
cm patient prob:
 [[17  5]
 [ 5 15]]
cm patient prob:
 [[0.77 0.23]
 [0.25 0.75]]
cm patient pos:
 [[17  5]
 [ 6 14]]
cm patient pos:
 [[0.77 0.23]
 [0.3  0.7 ]]
report image:
               precision    recall  f1-score   support

           0      0.798     0.759     0.778       831
           1      0.599     0.651     0.624       459

    accuracy                          0.721      1290
   macro avg      0.698     0.705     0.701      1290
weighted avg      0.727     0.721     0.723      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.773     0.773     0.773        22
         1.0      0.750     0.750     0.750        20

    accuracy                          0.762        42
   macro avg      0.761     0.761     0.761        42
weighted avg      0.762     0.762     0.762        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.739     0.773     0.756        22
         1.0      0.737     0.700     0.718        20

    accuracy                          0.738        42
   macro avg      0.738     0.736     0.737        42
weighted avg      0.738     0.738     0.738        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 11:56:03
val accuracy: None
val loss: None
prc image: 0.687
prc patient prob: 0.84
prc patient pos: 0.858
roc image:
        mean  95% CI -  95% CI +
AUC   0.805     0.804     0.805
TPR   0.763     0.761     0.766
TNR   0.740     0.737     0.742
THRE  0.121     0.115     0.127
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.826     0.822     0.830
TPR   0.851     0.845     0.857
TNR   0.823     0.817     0.829
THRE  0.393     0.387     0.399
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.843     0.839     0.847
TPR   0.831     0.825     0.837
TNR   0.851     0.846     0.856
THRE  0.397     0.389     0.404
cm image:
 [[693 138]
 [170 289]]
cm image:
 [[0.83 0.17]
 [0.37 0.63]]
cm patient prob:
 [[19  3]
 [ 7 13]]
cm patient prob:
 [[0.86 0.14]
 [0.35 0.65]]
cm patient pos:
 [[19  3]
 [ 8 12]]
cm patient pos:
 [[0.86 0.14]
 [0.4  0.6 ]]
report image:
               precision    recall  f1-score   support

           0      0.803     0.834     0.818       831
           1      0.677     0.630     0.652       459

    accuracy                          0.761      1290
   macro avg      0.740     0.732     0.735      1290
weighted avg      0.758     0.761     0.759      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.731     0.864     0.792        22
         1.0      0.812     0.650     0.722        20

    accuracy                          0.762        42
   macro avg      0.772     0.757     0.757        42
weighted avg      0.770     0.762     0.759        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.704     0.864     0.776        22
         1.0      0.800     0.600     0.686        20

    accuracy                          0.738        42
   macro avg      0.752     0.732     0.731        42
weighted avg      0.750     0.738     0.733        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 11:57:14
val accuracy: None
val loss: None
prc image: 0.535
prc patient prob: 0.835
prc patient pos: 0.829
roc image:
        mean  95% CI -  95% CI +
AUC   0.699     0.698     0.700
TPR   0.587     0.585     0.589
TNR   0.786     0.784     0.787
THRE  0.976     0.975     0.976
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.770     0.765     0.775
TPR   0.699     0.693     0.706
TNR   0.943     0.940     0.947
THRE  0.917     0.914     0.919
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.764     0.758     0.769
TPR   0.688     0.681     0.695
TNR   0.935     0.931     0.939
THRE  0.971     0.969     0.974
cm image:
 [[333 498]
 [ 98 361]]
cm image:
 [[0.4  0.6 ]
 [0.21 0.79]]
cm patient prob:
 [[ 7 15]
 [ 3 17]]
cm patient prob:
 [[0.32 0.68]
 [0.15 0.85]]
cm patient pos:
 [[ 7 15]
 [ 4 16]]
cm patient pos:
 [[0.32 0.68]
 [0.2  0.8 ]]
report image:
               precision    recall  f1-score   support

           0      0.773     0.401     0.528       831
           1      0.420     0.786     0.548       459

    accuracy                          0.538      1290
   macro avg      0.596     0.594     0.538      1290
weighted avg      0.647     0.538     0.535      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.700     0.318     0.438        22
         1.0      0.531     0.850     0.654        20

    accuracy                          0.571        42
   macro avg      0.616     0.584     0.546        42
weighted avg      0.620     0.571     0.541        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.636     0.318     0.424        22
         1.0      0.516     0.800     0.627        20

    accuracy                          0.548        42
   macro avg      0.576     0.559     0.526        42
weighted avg      0.579     0.548     0.521        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 11:57:55
val accuracy: None
val loss: None
prc image: 0.687
prc patient prob: 0.84
prc patient pos: 0.858
roc image:
        mean  95% CI -  95% CI +
AUC   0.805     0.804     0.805
TPR   0.763     0.761     0.766
TNR   0.740     0.737     0.742
THRE  0.121     0.115     0.127
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.826     0.822     0.830
TPR   0.851     0.845     0.857
TNR   0.823     0.817     0.829
THRE  0.393     0.387     0.399
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.843     0.839     0.847
TPR   0.831     0.825     0.837
TNR   0.851     0.846     0.856
THRE  0.397     0.389     0.404
cm image:
 [[693 138]
 [170 289]]
cm image:
 [[0.83 0.17]
 [0.37 0.63]]
cm patient prob:
 [[19  3]
 [ 7 13]]
cm patient prob:
 [[0.86 0.14]
 [0.35 0.65]]
cm patient pos:
 [[19  3]
 [ 8 12]]
cm patient pos:
 [[0.86 0.14]
 [0.4  0.6 ]]
report image:
               precision    recall  f1-score   support

           0      0.803     0.834     0.818       831
           1      0.677     0.630     0.652       459

    accuracy                          0.761      1290
   macro avg      0.740     0.732     0.735      1290
weighted avg      0.758     0.761     0.759      1290

report patient prob:
               precision    recall  f1-score   support

         0.0      0.731     0.864     0.792        22
         1.0      0.812     0.650     0.722        20

    accuracy                          0.762        42
   macro avg      0.772     0.757     0.757        42
weighted avg      0.770     0.762     0.759        42

report patient pos:
               precision    recall  f1-score   support

         0.0      0.704     0.864     0.776        22
         1.0      0.800     0.600     0.686        20

    accuracy                          0.738        42
   macro avg      0.752     0.732     0.731        42
weighted avg      0.750     0.738     0.733        42

run model: ResNet50
saved model: tumor__wildtype_radimagenet_v600e_crosstrain_fullimage_internaltestasvalidationResNet50_imagenet_04_0.72.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 12:39:23
val accuracy: None
val loss: None
prc image: 0.393
prc patient prob: 0.507
prc patient pos: 0.485
roc image:
        mean  95% CI -  95% CI +
AUC   0.591     0.590     0.591
TPR   0.413     0.403     0.424
TNR   0.726     0.715     0.736
THRE  0.761     0.741     0.781
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.611     0.607     0.615
TPR   0.517     0.503     0.530
TNR   0.753     0.739     0.767
THRE  0.729     0.712     0.745
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.592     0.588     0.596
TPR   0.634     0.621     0.646
TNR   0.616     0.604     0.628
THRE  0.595     0.578     0.613
cm image:
 [[1482 1181]
 [ 440  537]]
cm image:
 [[0.56 0.44]
 [0.45 0.55]]
cm patient prob:
 [[40 36]
 [15 20]]
cm patient prob:
 [[0.53 0.47]
 [0.43 0.57]]
cm patient pos:
 [[40 36]
 [16 19]]
cm patient pos:
 [[0.53 0.47]
 [0.46 0.54]]
report image:
               precision    recall  f1-score   support

           0      0.771     0.557     0.646      2663
           1      0.313     0.550     0.399       977

    accuracy                          0.555      3640
   macro avg      0.542     0.553     0.522      3640
weighted avg      0.648     0.555     0.580      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.727     0.526     0.611        76
         1.0      0.357     0.571     0.440        35

    accuracy                          0.541       111
   macro avg      0.542     0.549     0.525       111
weighted avg      0.611     0.541     0.557       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.714     0.526     0.606        76
         1.0      0.345     0.543     0.422        35

    accuracy                          0.532       111
   macro avg      0.530     0.535     0.514       111
weighted avg      0.598     0.532     0.548       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 12:40:29
val accuracy: None
val loss: None
prc image: 0.463
prc patient prob: 0.53
prc patient pos: 0.536
roc image:
        mean  95% CI -  95% CI +
AUC   0.667     0.667     0.668
TPR   0.571     0.567     0.575
TNR   0.696     0.692     0.701
THRE  0.155     0.148     0.162
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.662     0.659     0.666
TPR   0.559     0.551     0.568
TNR   0.790     0.784     0.797
THRE  0.410     0.402     0.417
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.653     0.649     0.657
TPR   0.566     0.558     0.574
TNR   0.798     0.792     0.804
THRE  0.399     0.391     0.407
cm image:
 [[2165  498]
 [ 557  420]]
cm image:
 [[0.81 0.19]
 [0.57 0.43]]
cm patient prob:
 [[65 11]
 [21 14]]
cm patient prob:
 [[0.86 0.14]
 [0.6  0.4 ]]
cm patient pos:
 [[67  9]
 [22 13]]
cm patient pos:
 [[0.88 0.12]
 [0.63 0.37]]
report image:
               precision    recall  f1-score   support

           0      0.795     0.813     0.804      2663
           1      0.458     0.430     0.443       977

    accuracy                          0.710      3640
   macro avg      0.626     0.621     0.624      3640
weighted avg      0.705     0.710     0.707      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.756     0.855     0.802        76
         1.0      0.560     0.400     0.467        35

    accuracy                          0.712       111
   macro avg      0.658     0.628     0.635       111
weighted avg      0.694     0.712     0.697       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.753     0.882     0.812        76
         1.0      0.591     0.371     0.456        35

    accuracy                          0.721       111
   macro avg      0.672     0.627     0.634       111
weighted avg      0.702     0.721     0.700       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 13:02:01
val accuracy: None
val loss: None
prc image: 0.47
prc patient prob: 0.572
prc patient pos: 0.54
roc image:
        mean  95% CI -  95% CI +
AUC   0.704     0.703     0.705
TPR   0.670     0.669     0.672
TNR   0.660     0.659     0.662
THRE  0.014     0.014     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.714     0.710     0.718
TPR   0.714     0.708     0.719
TNR   0.772     0.768     0.776
THRE  0.258     0.256     0.261
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.715     0.712     0.718
TPR   0.722     0.717     0.728
TNR   0.745     0.740     0.749
THRE  0.218     0.215     0.221
cm image:
 [[2250  413]
 [ 616  361]]
cm image:
 [[0.84 0.16]
 [0.63 0.37]]
cm patient prob:
 [[65 11]
 [25 10]]
cm patient prob:
 [[0.86 0.14]
 [0.71 0.29]]
cm patient pos:
 [[64 12]
 [25 10]]
cm patient pos:
 [[0.84 0.16]
 [0.71 0.29]]
report image:
               precision    recall  f1-score   support

           0      0.785     0.845     0.814      2663
           1      0.466     0.369     0.412       977

    accuracy                          0.717      3640
   macro avg      0.626     0.607     0.613      3640
weighted avg      0.700     0.717     0.706      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.722     0.855     0.783        76
         1.0      0.476     0.286     0.357        35

    accuracy                          0.676       111
   macro avg      0.599     0.570     0.570       111
weighted avg      0.645     0.676     0.649       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.719     0.842     0.776        76
         1.0      0.455     0.286     0.351        35

    accuracy                          0.667       111
   macro avg      0.587     0.564     0.563       111
weighted avg      0.636     0.667     0.642       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 13:04:27
val accuracy: None
val loss: None
prc image: 0.717
prc patient prob: 0.648
prc patient pos: 0.679
roc image:
        mean  95% CI -  95% CI +
AUC   0.599     0.598     0.599
TPR   0.504     0.502     0.506
TNR   0.659     0.657     0.661
THRE  0.194     0.191     0.196
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.652     0.649     0.655
TPR   0.743     0.730     0.756
TNR   0.574     0.561     0.586
THRE  0.162     0.148     0.175
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.655     0.652     0.658
TPR   0.727     0.718     0.737
TNR   0.616     0.608     0.624
THRE  0.098     0.086     0.109
cm image:
 [[ 977  334]
 [1434  895]]
cm image:
 [[0.75 0.25]
 [0.62 0.38]]
cm patient prob:
 [[46  6]
 [41 18]]
cm patient prob:
 [[0.88 0.12]
 [0.69 0.31]]
cm patient pos:
 [[45  7]
 [40 19]]
cm patient pos:
 [[0.87 0.13]
 [0.68 0.32]]
report image:
               precision    recall  f1-score   support

           0      0.405     0.745     0.525      1311
           1      0.728     0.384     0.503      2329

    accuracy                          0.514      3640
   macro avg      0.567     0.565     0.514      3640
weighted avg      0.612     0.514     0.511      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.529     0.885     0.662        52
         1.0      0.750     0.305     0.434        59

    accuracy                          0.577       111
   macro avg      0.639     0.595     0.548       111
weighted avg      0.646     0.577     0.541       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.529     0.865     0.657        52
         1.0      0.731     0.322     0.447        59

    accuracy                          0.577       111
   macro avg      0.630     0.594     0.552       111
weighted avg      0.636     0.577     0.545       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 13:06:02
val accuracy: None
val loss: None
prc image: 0.803
prc patient prob: 0.727
prc patient pos: 0.728
roc image:
        mean  95% CI -  95% CI +
AUC   0.726     0.726     0.727
TPR   0.720     0.717     0.723
TNR   0.621     0.617     0.624
THRE  0.268     0.256     0.279
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.783     0.781     0.786
TPR   0.862     0.856     0.868
TNR   0.659     0.652     0.665
THRE  0.306     0.298     0.314
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.775     0.772     0.778
TPR   0.827     0.820     0.834
TNR   0.691     0.685     0.698
THRE  0.339     0.329     0.349
cm image:
 [[ 884  427]
 [ 804 1525]]
cm image:
 [[0.67 0.33]
 [0.35 0.65]]
cm patient prob:
 [[38 14]
 [18 41]]
cm patient prob:
 [[0.73 0.27]
 [0.31 0.69]]
cm patient pos:
 [[39 13]
 [20 39]]
cm patient pos:
 [[0.75 0.25]
 [0.34 0.66]]
report image:
               precision    recall  f1-score   support

           0      0.524     0.674     0.590      1311
           1      0.781     0.655     0.712      2329

    accuracy                          0.662      3640
   macro avg      0.652     0.665     0.651      3640
weighted avg      0.688     0.662     0.668      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.679     0.731     0.704        52
         1.0      0.745     0.695     0.719        59

    accuracy                          0.712       111
   macro avg      0.712     0.713     0.712       111
weighted avg      0.714     0.712     0.712       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.661     0.750     0.703        52
         1.0      0.750     0.661     0.703        59

    accuracy                          0.703       111
   macro avg      0.706     0.706     0.703       111
weighted avg      0.708     0.703     0.703       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 13:08:02
val accuracy: None
val loss: None
prc image: 0.825
prc patient prob: 0.822
prc patient pos: 0.807
roc image:
        mean  95% CI -  95% CI +
AUC   0.739     0.738     0.740
TPR   0.621     0.618     0.624
TNR   0.734     0.731     0.737
THRE  0.069     0.064     0.074
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.782     0.780     0.785
TPR   0.717     0.709     0.724
TNR   0.760     0.753     0.767
THRE  0.205     0.195     0.214
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.755     0.753     0.758
TPR   0.692     0.684     0.699
TNR   0.772     0.765     0.778
THRE  0.231     0.222     0.240
cm image:
 [[1103  208]
 [1200 1129]]
cm image:
 [[0.84 0.16]
 [0.52 0.48]]
cm patient prob:
 [[48  4]
 [36 23]]
cm patient prob:
 [[0.92 0.08]
 [0.61 0.39]]
cm patient pos:
 [[48  4]
 [36 23]]
cm patient pos:
 [[0.92 0.08]
 [0.61 0.39]]
report image:
               precision    recall  f1-score   support

           0      0.479     0.841     0.610      1311
           1      0.844     0.485     0.616      2329

    accuracy                          0.613      3640
   macro avg      0.662     0.663     0.613      3640
weighted avg      0.713     0.613     0.614      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.571     0.923     0.706        52
         1.0      0.852     0.390     0.535        59

    accuracy                          0.640       111
   macro avg      0.712     0.656     0.620       111
weighted avg      0.720     0.640     0.615       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.571     0.923     0.706        52
         1.0      0.852     0.390     0.535        59

    accuracy                          0.640       111
   macro avg      0.712     0.656     0.620       111
weighted avg      0.720     0.640     0.615       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 13:09:25
val accuracy: None
val loss: None
prc image: 0.124
prc patient prob: 0.189
prc patient pos: 0.185
roc image:
        mean  95% CI -  95% CI +
AUC   0.623     0.622     0.624
TPR   0.841     0.836     0.846
TNR   0.374     0.369     0.380
THRE  0.004     0.004     0.005
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.567     0.562     0.572
TPR   0.574     0.559     0.588
TNR   0.711     0.696     0.726
THRE  0.379     0.366     0.392
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.546     0.541     0.551
TPR   0.446     0.435     0.457
TNR   0.823     0.812     0.833
THRE  0.475     0.462     0.489
cm image:
 [[2604  702]
 [ 236   98]]
cm image:
 [[0.79 0.21]
 [0.71 0.29]]
cm patient prob:
 [[82 12]
 [11  6]]
cm patient prob:
 [[0.87 0.13]
 [0.65 0.35]]
cm patient pos:
 [[83 11]
 [11  6]]
cm patient pos:
 [[0.88 0.12]
 [0.65 0.35]]
report image:
               precision    recall  f1-score   support

           0      0.917     0.788     0.847      3306
           1      0.122     0.293     0.173       334

    accuracy                          0.742      3640
   macro avg      0.520     0.541     0.510      3640
weighted avg      0.844     0.742     0.785      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.882     0.872     0.877        94
         1.0      0.333     0.353     0.343        17

    accuracy                          0.793       111
   macro avg      0.608     0.613     0.610       111
weighted avg      0.798     0.793     0.795       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.883     0.883     0.883        94
         1.0      0.353     0.353     0.353        17

    accuracy                          0.802       111
   macro avg      0.618     0.618     0.618       111
weighted avg      0.802     0.802     0.802       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 13:10:30
val accuracy: None
val loss: None
prc image: 0.253
prc patient prob: 0.274
prc patient pos: 0.4
roc image:
        mean  95% CI -  95% CI +
AUC   0.661     0.660     0.662
TPR   0.687     0.685     0.689
TNR   0.605     0.603     0.607
THRE  0.999     0.999     0.999
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.653     0.648     0.658
TPR   0.703     0.692     0.714
TNR   0.661     0.649     0.672
THRE  0.863     0.853     0.873
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.631     0.626     0.635
TPR   0.698     0.689     0.707
TNR   0.635     0.626     0.645
THRE  0.866     0.857     0.875
cm image:
 [[1191 2115]
 [  61  273]]
cm image:
 [[0.36 0.64]
 [0.18 0.82]]
cm patient prob:
 [[24 70]
 [ 1 16]]
cm patient prob:
 [[0.26 0.74]
 [0.06 0.94]]
cm patient pos:
 [[25 69]
 [ 3 14]]
cm patient pos:
 [[0.27 0.73]
 [0.18 0.82]]
report image:
               precision    recall  f1-score   support

           0      0.951     0.360     0.523      3306
           1      0.114     0.817     0.201       334

    accuracy                          0.402      3640
   macro avg      0.533     0.589     0.362      3640
weighted avg      0.874     0.402     0.493      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.960     0.255     0.403        94
         1.0      0.186     0.941     0.311        17

    accuracy                          0.360       111
   macro avg      0.573     0.598     0.357       111
weighted avg      0.841     0.360     0.389       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.893     0.266     0.410        94
         1.0      0.169     0.824     0.280        17

    accuracy                          0.351       111
   macro avg      0.531     0.545     0.345       111
weighted avg      0.782     0.351     0.390       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-05-26 13:12:49
val accuracy: None
val loss: None
prc image: 0.23
prc patient prob: 0.286
prc patient pos: 0.501
roc image:
        mean  95% CI -  95% CI +
AUC   0.733     0.732     0.734
TPR   0.709     0.706     0.712
TNR   0.668     0.665     0.670
THRE  0.943     0.939     0.947
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.734     0.729     0.738
TPR   0.764     0.757     0.772
TNR   0.732     0.725     0.739
THRE  0.797     0.789     0.805
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.738     0.734     0.742
TPR   0.790     0.783     0.797
TNR   0.698     0.691     0.704
THRE  0.784     0.775     0.793
cm image:
 [[1686 1620]
 [  61  273]]
cm image:
 [[0.51 0.49]
 [0.18 0.82]]
cm patient prob:
 [[40 54]
 [ 2 15]]
cm patient prob:
 [[0.43 0.57]
 [0.12 0.88]]
cm patient pos:
 [[42 52]
 [ 2 15]]
cm patient pos:
 [[0.45 0.55]
 [0.12 0.88]]
report image:
               precision    recall  f1-score   support

           0      0.965     0.510     0.667      3306
           1      0.144     0.817     0.245       334

    accuracy                          0.538      3640
   macro avg      0.555     0.664     0.456      3640
weighted avg      0.890     0.538     0.629      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.952     0.426     0.588        94
         1.0      0.217     0.882     0.349        17

    accuracy                          0.495       111
   macro avg      0.585     0.654     0.469       111
weighted avg      0.840     0.495     0.552       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.955     0.447     0.609        94
         1.0      0.224     0.882     0.357        17

    accuracy                          0.514       111
   macro avg      0.589     0.665     0.483       111
weighted avg      0.843     0.514     0.570       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.0001
batch size: 32

------------------------------------------------------------------
created time: 2023-06-23 18:39:38
val accuracy: None
val loss: None
prc image: 0.47
prc patient prob: 0.572
prc patient pos: 0.54
roc image:
        mean  95% CI -  95% CI +
AUC   0.704     0.703     0.705
TPR   0.670     0.669     0.672
TNR   0.660     0.659     0.662
THRE  0.014     0.014     0.015
roc patient prob:
        mean  95% CI -  95% CI +
AUC   0.714     0.710     0.718
TPR   0.714     0.708     0.719
TNR   0.772     0.768     0.776
THRE  0.258     0.256     0.261
roc patient pos:
        mean  95% CI -  95% CI +
AUC   0.715     0.712     0.718
TPR   0.722     0.717     0.728
TNR   0.745     0.740     0.749
THRE  0.218     0.215     0.221
cm image:
 [[2250  413]
 [ 616  361]]
cm image:
 [[0.84 0.16]
 [0.63 0.37]]
cm patient prob:
 [[65 11]
 [25 10]]
cm patient prob:
 [[0.86 0.14]
 [0.71 0.29]]
cm patient pos:
 [[64 12]
 [25 10]]
cm patient pos:
 [[0.84 0.16]
 [0.71 0.29]]
report image:
               precision    recall  f1-score   support

           0      0.785     0.845     0.814      2663
           1      0.466     0.369     0.412       977

    accuracy                          0.717      3640
   macro avg      0.626     0.607     0.613      3640
weighted avg      0.700     0.717     0.706      3640

report patient prob:
               precision    recall  f1-score   support

         0.0      0.722     0.855     0.783        76
         1.0      0.476     0.286     0.357        35

    accuracy                          0.676       111
   macro avg      0.599     0.570     0.570       111
weighted avg      0.645     0.676     0.649       111

report patient pos:
               precision    recall  f1-score   support

         0.0      0.719     0.842     0.776        76
         1.0      0.455     0.286     0.351        35

    accuracy                          0.667       111
   macro avg      0.587     0.564     0.563       111
weighted avg      0.636     0.667     0.642       111

run model: ResNet50
saved model: tumor_v600e_radimagenet_wildtypecrosstrain_filteredv600e_fullimage_internaltestasvalidationResNet50__35_0.73.h5
epoch: 50
learning rate: 0.0001
batch size: 32
